(this.webpackJsonpvoltrasguido=this.webpackJsonpvoltrasguido||[]).push([[0],{505:function(e){e.exports=JSON.parse('{"gatewayBackOffice":"http://172.16.10.51:31388","gatewaySecurity":"https://health.voltras.net/security","gatewayMsHealth":"http://172.16.10.93:8001","gatewayRepoFile":"https://repo.voltras.net","parentClinic":269,"phonePrefix":["+62"]}')},506:function(e,t,a){e.exports=a.p+"static/media/backoffice02.246215a8.jpg"},511:function(e,t){},526:function(e,t,a){e.exports=a(722)},535:function(e,t,a){},538:function(e){e.exports=JSON.parse("{}")},542:function(e,t){},544:function(e,t){},555:function(e,t){},557:function(e,t){},584:function(e,t){},586:function(e,t){},587:function(e,t){},593:function(e,t){},595:function(e,t){},613:function(e,t){},615:function(e,t){},627:function(e,t){},630:function(e,t){},633:function(e){e.exports=JSON.parse("{}")},718:function(e,t,a){},720:function(e,t,a){},722:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),l=a.n(i),o=a(16),s=a(270),c=a(760),m=a(179),u=Object(m.a)({palette:{primary:{light:"#08ff00",main:"#00f100",dark:"#00cb00",contrastText:"#000000"},secondary:{light:"#637bfe",main:"#3d5afe",dark:"#2a3eb1",contrastText:"#000000"},error:{light:"#ef9a9a",main:"#f06461",dark:"#b71c1c",contrastText:"#000000"}}}),d=a(107),p=a(1),E={locale:"",serviceStart:!1,openScreen:"",menuClickUrl:"",appConstant:null,roleAuth:{root:"AUTHENTICATION_ROOT",admin:"AUTHENTICATION_ADMIN",endUser:"AUTHENTICATION_USER"},popChooseRole:!1,googleParams:{access_type:"offline",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",response_type:"code",prompt:"consent",client_id:"321981158486-ac5nqdqbq0hjla14a299ln736s2kuj14.apps.googleusercontent.com"},otpID:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERVICE_START":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!0});case"SERVICE_END":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!1});case"SET_SNACKBAR_MESSAGE":return Object(p.a)(Object(p.a)({},e),{},{snackbarMsg:t.val});case"SET_OPEN_SCREEN":return Object(p.a)(Object(p.a)({},e),{},{openScreen:t.val});case"SET_MENU_CLICK_URL":return Object(p.a)(Object(p.a)({},e),{},{menuClickUrl:t.val});case"SET_APP_CONSTANT":return Object(p.a)(Object(p.a)({},e),{},{appConstant:t.val});case"SET_LOCALE":return Object(p.a)(Object(p.a)({},e),{},{locale:t.val});case"POP_CHOOSE_ROLE":return Object(p.a)(Object(p.a)({},e),{},{popChooseRole:t.val});case"SET_GOOGLE_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{googleParams:t.val});case"SET_SYSTEM_OTP_ID":return Object(p.a)(Object(p.a)({},e),{},{otpID:t.val});case"LOGOUT":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!1,menuClickUrl:"",roleAuth:{root:"AUTHENTICATION_ROOT",admin:"AUTHENTICATION_ADMIN",endUser:"AUTHENTICATION_USER"},popChooseRole:!1,otpID:""});default:return e}},g={file:null,request:{},secondRequest:!1,thirdRequest:!1,status:"inactive",serviceCode:null,method:"POST",params:"",customHeaders:null,role:null,test:!1,headersContent:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILE":return Object(p.a)(Object(p.a)({},e),{},{file:t.val});case"SET_SERVICE_CODE":return Object(p.a)(Object(p.a)({},e),{},{serviceCode:t.val});case"SET_SERVICE_STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.val});case"SET_SERVICE_METHOD":return Object(p.a)(Object(p.a)({},e),{},{method:t.val});case"SET_SERVICE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{request:t.val});case"SET_SERVICE_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{params:t.val});case"SET_SERVICE_CUSTOM_HEADERS":return Object(p.a)(Object(p.a)({},e),{},{customHeaders:t.val});case"SET_SERVICE_ROLE":return Object(p.a)(Object(p.a)({},e),{},{role:t.val});case"SET_HEADERS_CONTENT":return Object(p.a)(Object(p.a)({},e),{},{headersContent:Object(p.a)(Object(p.a)({},e.headersContent),t.val)});case"SET_SECOND_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{secondRequest:t.val});case"CLEAR_SECOND_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{secondRequest:!1});case"SET_THIRD_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{thirdRequest:t.val});case"CLEAR_THIRD_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{thirdRequest:!1});case"SET_TEST":return Object(p.a)(Object(p.a)({},e),{},{test:t.val});case"RESET_SERVICE":return Object(p.a)(Object(p.a)({},e),{},{request:{},status:"inactive",serviceCode:null,method:"POST",params:"",customHeaders:null,role:null,test:!1,headersContent:{}});case"LOGOUT":return g;default:return e}},b={response:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESPONSE":return Object(p.a)(Object(p.a)({},e),{},{response:t.val});default:return e}},O={info:{},sessionInfo:{},otpId:"",roleUsed:"",resetPasswordCode:"",verificationCode:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_INFO":return Object(p.a)(Object(p.a)({},e),{},{info:Object(p.a)(Object(p.a)({},e.info),t.val)});case"SET_USER_SESSION_INFO":return Object(p.a)(Object(p.a)({},e),{},{sessionInfo:t.val});case"SET_USER_OTP_ID":return Object(p.a)(Object(p.a)({},e),{},{otpId:t.val});case"SET_ROLE_USED":return Object(p.a)(Object(p.a)({},e),{},{roleUsed:t.val});case"RESET_PASSWORD_CODE":return Object(p.a)(Object(p.a)({},e),{},{resetPasswordCode:t.val});case"SET_VERIFICATION_CODE":return Object(p.a)(Object(p.a)({},e),{},{verificationCode:t.val});case"LOGOUT":return O;default:return e}},y=a(7),C={menuItems:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_MENU":return Object(p.a)(Object(p.a)({},e),{},{menuItems:t.val});case"SET_MENU_COLLAPSE_STATUS":return Object(p.a)(Object(p.a)({},e),t.val);case"TOGGLE_COLLAPSE_MENU":return Object(p.a)(Object(p.a)({},e),{},Object(y.a)({},t.val.name,t.val.value));case"LOGOUT":return C;default:return e}},I={list:[],detail:{},product:[],filteredList:[],klinikList:[],clinicDetail:{},cityList:[],clinicUser:null,clinicRecapt:[],myClinic:null,clinic_parents:[],parentList:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAX_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_PAX_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_PAX_PRODUCT":return Object(p.a)(Object(p.a)({},e),{},{product:t.val});case"SET_KLINIK_LIST":return Object(p.a)(Object(p.a)({},e),{},{klinikList:t.val});case"SET_CLINIC_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{clinicDetail:t.val});case"SET_CLINIC_USER":return Object(p.a)(Object(p.a)({},e),{},{clinicUser:t.val});case"SET_CLINIC_RECAPT":return Object(p.a)(Object(p.a)({},e),{},{clinicRecapt:t.val});case"SET_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"SET_CITY_LIST":return Object(p.a)(Object(p.a)({},e),{},{cityList:t.val});case"SET_MY_CLINIC":return Object(p.a)(Object(p.a)({},e),{},{myClinic:t.val});case"SET_CLINIC_PARENTS":return Object(p.a)(Object(p.a)({},e),{},{clinic_parents:t.val});case"SET_PARENT_LIST":return Object(p.a)(Object(p.a)({},e),{},{parentList:t.val});case"LOGOUT":return I;default:return e}},T={snackBar:{open:!1,severity:"info",message:"",position:"bottom-center",action:"",actionLabel:""},dialog:{open:!1,message:""},stepper:{open:!1,step:0,message:""}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNACKBAR":return Object(p.a)(Object(p.a)({},e),{},{snackBar:t.val});case"SET_DIALOG":return Object(p.a)(Object(p.a)({},e),{},{dialog:t.val});case"LOGOUT":return T;default:return e}},L={autocomplete:null,inputValue:"",klinikList:[],klinikValue:{},klinikInputValue:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTOCOMPLETE_VALUE":return Object(p.a)(Object(p.a)({},e),{},{autocomplete:t.val});case"SET_INPUT_VALUE":return Object(p.a)(Object(p.a)({},e),{},{inputValue:t.val});case"SET_KLINIK_LIST_RESPONSE":return Object(p.a)(Object(p.a)({},e),{},{klinikList:t.val});case"SET_KLINIK_VALUE":return Object(p.a)(Object(p.a)({},e),{},{klinikValue:t.val});case"SET_KLINIK_INPUT_VALUE":return Object(p.a)(Object(p.a)({},e),{},{klinikInputValue:t.val});default:return e}},k={list:[],detail:{},filteredList:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_USER_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_USER_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"LOGOUT":return k;default:return e}},x={list:[],detail:{},filteredList:[],messagingList:[],messagingEdit:{}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_CLIENT_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_CLIENT_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"SET_CLIENT_MESSAGE_LIST":return Object(p.a)(Object(p.a)({},e),{},{messagingList:t.val});case"SET_CLIENT_MESSAGE_EDIT":return Object(p.a)(Object(p.a)({},e),{},{messagingEdit:t.val});case"LOGOUT":return x;default:return e}},P={configurationList:[],configDetail:null,configDetailModal:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GENERIC_CONFIG_LIST":return Object(p.a)(Object(p.a)({},e),{},{configurationList:t.data});case"SET_CONFIG_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{configDetail:t.data});case"SET_CONFIG_DETAIL_MODAL":return Object(p.a)(Object(p.a)({},e),{},{configDetailModal:t.val});default:return e}},A={list:[],detail:{},filteredList:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_REQUEST_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_CLIENT_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"LOGOUT":return A;default:return e}},q=Object(d.c)({autocomplete:w,clientList:D,feedback:R,menu:j,paxList:S,response:_,system:f,service:h,userInfo:v,userList:M,genericConfiguration:U,requestList:N}),F=Object(d.e)(q),H=(a(535),a(58)),B=a(59),G=a(62),V=a(61),W=a(49),z=a(193),K=a.n(z),Q=function(e){return{type:"SET_SERVICE_REQUEST",val:e}},Y=function(e){return{type:"SET_SERVICE_STATUS",val:e}},J=function(e){return{type:"SET_SERVICE_CODE",val:e}},X=function(e){return{type:"SET_SERVICE_METHOD",val:e}},$=function(e){return{type:"SET_SERVICE_PARAMS",val:e}},Z=function(e){return{type:"SET_SERVICE_CUSTOM_HEADERS",val:e}},ee=function(e){return{type:"SET_SERVICE_ROLE",val:e}},te=function(e){return{type:"SET_SECOND_REQUEST",val:e}},ae=function(e){return{type:"SET_RESPONSE",val:e}},ne=function(e){return{type:"SET_USER_INFO",val:e}},re=function(e){return{type:"SET_USER_SESSION_INFO",val:e}},ie=function(e){return{type:"SET_USER_OTP_ID",val:e}},le=function(e){return{type:"SET_ROLE_USED",val:e}},oe=function(e){return{type:"RESET_PASSWORD_CODE",val:e}},se=function(e){return{type:"SET_VERIFICATION_CODE",val:e}},ce=function(e){return{type:"SET_USER_MENU",val:e}},me=function(e){return{type:"SET_MENU_COLLAPSE_STATUS",val:e}},ue=function(e){return{type:"SET_PAX_LIST",val:e}},de=function(e){return{type:"SET_PAX_DETAIL",val:e}},pe=function(e){return{type:"SET_PAX_PRODUCT",val:e}},Ee=function(e){return{type:"SET_KLINIK_LIST",val:e}},fe=function(e){return{type:"SET_CLINIC_DETAIL",val:e}},ge=function(e){return{type:"SET_CLINIC_RECAPT",val:e}},he=function(e){return{type:"SET_CITY_LIST",val:e}},be=function(e){return{type:"SET_PARENT_LIST",val:e}},_e=function(e){return{type:"SET_SNACKBAR",val:e}},Oe=function(e){return{type:"SET_DIALOG",val:e}},ve=function(e){return{type:"SET_OPEN_SCREEN",val:e}},ye=function(e){return{type:"SET_APP_CONSTANT",val:e}},Ce=function(e){return{type:"POP_CHOOSE_ROLE",val:e}},je=function(e){return{type:"SET_LOCALE",val:e}},Ie=function(e){return{type:"SET_USER_FILTERED_LIST",val:e}},Se=function(e){return{type:"SET_CONFIG_DETAIL_MODAL",val:e}},Te=(a(538),a(505));console.log("ENVIRONMENT: ",Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var Re={};(Re=Te).appVersion="1.0.3";var Le=Re,we=Le.gatewaySecurity,ke=Le.gatewayBackOffice,Me=(Le.gatewayMsHealth,function(e){switch(e){case"login":return we+"/login";case"logout":return we+"/logout";case"register":return we+"/register";case"UPDATE_USER_INFO":return we+"/users/me";case"OTP":return we+"/validate-otp";case"RESET_PASSWORD_REQUEST":return we+"/reset-password-request";case"CHANGE_PASSWORD_REQUEST":return we+"/reset-password-recovery";case"SEND_EMAIL_VERIFICATION":case"SEND_PHONE_VERIFICATION":case"VERIFICATION_CHECK":return we+"/verification-code";case"REQ_AUTH_GOOGLE_PARAMS":return we+"/params/google-oauth";case"SELECT_USER_ROLE":return ke+"/user/select/role";case"SELECT_USER_FULL_INFO":case"SELECT_USER_DETAIL_FULL_INFO":return ke+"/user/select/full";case"CREATE_BO_USER":case"SELECT_ALL_USER":return ke+"/users";case"DELETE_USER":case"UPDATE_USER_ROLE":case"UPDATE_BASIC_USER":case"UPDATE_TEMPLATE_MESSAGE":case"SELECT_ALL_MESSAGE":return ke;case"SELECT_ALL_CLIENT":case"CREATE_CLIENT":return ke+"/clients";case"SELECT_ALL_REQUEST":return ke+"/request-specifications";case"UPDATE_CLIENT_DETAIL":case"ADD_CLIENT_ROLE":case"DELETE_CLIENT_ROLE":case"DELETE_CLIENT":case"ADD_REQUEST_SPESIFICATIONS":case"UPDATE_REQUEST_SPESIFICATIONS":return ke;case"HEALTH_ORDER_DETAIL":case"healthOrder":return we+"/admin/orders";case"healthKlinik":return we+"/admin/clinics";case"healthProduct":return we+"/products";case"GET_CITY_LIST":case"GET_CITY_CLINIC_LIST":return we+"";case"GET_ALL_ORDER":case"RESCHEDULE_ORDER":return we+"/admin/orders";case"CLINIC_REGISTRATION":case"SEND_CLINIC_ACTIVATION":case"ADD_CLINIC_USER":case"DELETE_CLINIC_USER":case"DELETE_CLINIC":case"GET_CLINIC_USER":return we+"/admin/clinics";case"GET_MY_CLINIC":return we+"/admin/users/me";case"GET_CLINIC_REPORT":return we+"/admin/report";case"ADD_CLINIC_LOGO":return we+"/admin/clinics";case"GENERIC_JSON_CONFIGURATION":case"GENERIC_JSON_CONFIGURATION_DETAIL":case"GENERIC_JSON_CONFIGURATION_UPDATE":return we+"/admin/configurations";case"GET_CLINIC_PARENTS":return we+"/admin/clinics/parents";case"GET_PARENT_LIST":return we+"/admin/persons";case"PURCHASE_VOUCHER_NUMBER":return we+"/admin";default:return we}}),xe=a(276),De=a.n(xe),Pe=function(e,t){return De.a.createHash(e).update(t).digest("hex")},Ue=function(e,t,a){var n={};Object.keys(e).sort().forEach((function(t){n[t]=e[t]}));var r={};Object.keys(t).sort().forEach((function(e){r[e]=t[e]}));var i=JSON.stringify(n).replace(/\s/g,""),l=JSON.stringify(r).replace(/\s/g,"");return function(e,t,a){return De.a.createHmac(e,t).update(a).digest("hex")}("sha256",a,Pe("sha1",i)+Pe("sha1",l))},Ae={app_name:{en:"Name",id:"Nama"},app_phone:{en:"Phone",id:"Telepon"},app_email:{en:"Email",id:"Email"},app_new:{en:"New",id:"Baru"},app_paid:{en:"Paid",id:"Terbayar"},app_finish:{en:"Finish",id:"Selesai"},app_password:{en:"Password",id:"Kata sandi"},app_password_confirmation:{en:"Password Confirmation",id:"Konfirmasi Kata Sandi"},app_forgot_password:{en:"Forgot password?",id:"Lupa kata sandi?"},app_from:{en:"From",id:"Dari"},app_to:{en:"To",id:"Sampai"},app_back:{en:"Back",id:"Kembali"},app_cancel:{en:"Cancel",id:"Batal"},app_submit:{en:"Submit",id:"Masukkan"},app_welcome:{en:"Welcome",id:"Selamat Datang"},app_sign_in:{en:"Sign In",id:"Masuk"},app_sign_up:{en:"Sign Up",id:"Daftar"},app_register:{en:"Register",id:"Daftar"},app_choose:{en:"Choose",id:"Pilih"},app_choose_role:{en:"Choose Role",id:"Pilih Role"},app_choose_role_used:{en:"Choose role to used",id:"Pilih role untuk digunakan"},app_submit_otp:{en:"Submit OTP",id:"Masukkan OTP"},app_submit_otp_text:{en:"Submit OTP sent to your number:",id:"Masukkan OTP yang dikirimkan ke nomor:"},app_not_receive_otp:{en:"Did not receive the OTP?",id:"Tidak menerima OTP?"},app_resend_otp:{en:"Resend OTP",id:"Kirim ulang OTP"},app_email_or_phone:{en:"Email or Phone",id:"Email atau Telepon"},app_no_account:{en:"Don't have an account?",id:"Tidak punya akun?"},app_have_account:{en:"Already have an account?",id:"Sudah punya akun?"},app_export_xls:{en:"Export to Xls",id:"Ekspor ke Xls"},app_submit_filter:{en:"Submit Filter",id:"Masukkan Filter"},app_not_mandatory:{en:"Not mandatory",id:"Tidak wajib"},app_regis_sucess_msg:{en:"Registration is successful, please Sign In.",id:"Pendaftaran berhasil, silakan Masuk"},app_email_success_msg:{en:"Send email successful, check your email.",id:"Pengiriman email berhasil, periksa email anda."},app_sms_success_msg:{en:"Send message successful, check your email.",id:"Pengiriman pesan berhasil, periksa sms anda."},app_verification_succes:{en:"Verification successful.",id:"Verifikasi berhasil."},app_send_email_verify:{en:"Send email verification",id:"Kirim verifikasi email"},app_send_phone_verify:{en:"Send phone verification",id:"Kirim verifikasi telepon"},app_delete_data_confirmation:{en:"Are you sure you want to delete this data?",id:"Apakah Anda yakin ingin menghapus data ini?"},app_date_to_show:{en:"Date to show in Report",id:"Tanggal untuk ditampilkan dalam Laporan"},app_show_report:{en:"Show Report",id:"Tampilkan Laporan"},app_report_summary:{en:"Report Summary",id:"Ringkasan Laporan"},app_logout:{en:"Logout",id:"Keluar"},app_confirm_logout:{en:"Are you sure you want to logout",id:"Anda yakin ingin keluar?"},app_manage_acount:{en:"Manage your account",id:"Kelola akun anda"},app_success_update_account:{en:"Update account successful",id:"Pembaruan akun berhasil"},app_select_photo:{en:"Select a photo from your computer",id:"Pilih foto dari komputer anda"},app_account_profile:{en:"Account Profile",id:"Profil Akun"},app_photo_personalize:{en:"A photo helps personalize your account",id:"Sebuah foto membantu personalisasi akun Anda"},app_save_to_change:{en:'Press the "SAVE" button to save changes',id:'Tekan tombol "SIMPAN" untuk menyimpan perubahan'}},Ne={err_submit:{en:"Error in form",id:"Kesalahan di dalam form"},err_email_phone_empty:{en:"Must be filled by email/phone.",id:"Harus diisi dengan email/telepon"},err_email_phone_format:{en:"Wrong email/phone format.",id:"Format email/telepon salah."},err_not_six_char:{en:"At least 8 character.",id:"Paling tidak 8 karakter."},err_phone_empty:{en:"Phone must be filled.",id:"Telepon harus diisi."},err_phone_format:{en:"Wrong phone format. (0... or +62...)",id:"Format telepon salah. (0... atau +62...)"},err_name_empty:{en:"Name must be filled.",id:"Nama harus diisi."},err_clinic_name_empty:{en:"Clinic name must be filled.",id:"Nama klinik harus diisi."},err_address_empty:{en:"Address must be filled.",id:"Alamat harus diisi."},err_email_empty:{en:"Email must be filled.",id:"Email harus diisi."},err_email_format:{en:"Wrong email format.",id:"Format email salah."},err_password_empty:{en:"Password must be filled.",id:"Kata kunci harus diisi."},err_passconfirm_mismatch:{en:"Confirmation not match",id:"Konfirmasi tidak sesuai."},err_clientid_empty:{en:"Client ID must be filled.",id:"Client ID harus diisi."},err_clientid_format:{en:"Wrong Client ID format.",id:"Format Client ID salah."},err_clientname_empty:{en:"Client name must be filled.",id:"Nama client harus diisi."},err_roleid_empty:{en:"Role ID must be filled.",id:"Role ID harus diisi."},err_roleid_format:{en:"Wrong Role ID format.",id:"Format Role ID salah."},err_initialrole_empty:{en:"Initial role must be filled.",id:"Initial role harus diisi."},err_initialrole_format:{en:"Wrong initial role format.",id:"Format initial role salah."},err_clienttype_not_choosen:{en:"Client Type must be chosen",id:"Client Type harus dipilih"},err_profile_not_choosen:{en:"Profile must be chosen",id:"Profil harus dipilih"},err_description_empty:{en:"Description must be filled.",id:"Deskripsi harus diisi."},err_atleast_one_name_chosen:{en:"At least one name must be chosen",id:"Setidaknya satu nama harus dipilih"},err_redeemby_empty:{en:"Redeem By must be filled",id:"Redeem Oleh harus diisi"},err_otp_empty:{en:"Empty OTP",id:"OTP kosong"},err_otp_must_number:{en:"OTP must number",id:"OTP harus angka"},err_uri_empty:{en:"Empty uri",id:"uri kosong"},err_uri_format:{en:"Wrong uri format",id:"Format uri salah"},err_email_masking_100:{en:"Email masking can't more than 100",id:"email masking tidak boleh lebih dari 100"},err_masking_name_format:{en:"Wrong format email masking name",id:" format email masking name salah"},err_masking_name_empty:{en:"empty email masking name",id:"email masking name kosong"},err_path_empty:{en:"Empty path",id:"path kosong"},err_path_format:{en:"Wrong path format",id:"Format path salah"}},qe={common_with:{en:"with",id:"dengan"},common_or:{en:"or",id:"atau"},common_add:{en:"Add",id:"Tambah"},common_signin_with:{en:"Sign in with",id:"Masuk dengan"},common_signup_with:{en:"Sign up with",id:"Daftar dengan"},common_change_password:{en:"Change Password",id:"Ganti Kata Kunci"},common_new_password:{en:"New Password",id:"Kata Kunci Baru"},common_close:{en:"Close",id:"Tutup"},common_contact_person:{en:"Contact Person",id:"Narahubung"},common_birth_date:{en:"Birth Date",id:"Tanggal Lahir"},common_products:{en:"Products",id:"Produk"},common_name:{en:"Name",id:"Nama"},common_phone:{en:"Phone",id:"Telepon"},common_email:{en:"Email",id:"Email"},common_address:{en:"Address",id:"Alamat"},common_photo:{en:"Photo",id:"Foto"},common_change:{en:"Change",id:"Ganti"},common_save:{en:"Save",id:"Simpan"}},Fe={clinic:{en:"Clinic",id:"Klinik"},clinic_name:{en:"Clinic Name",id:"Nama Klinik"},clinic_city:{en:"Clinic City",id:"Kota Klinik"},clinic_address:{en:"Clinic Address",id:"Alamat Klinik"},clinic_order_list:{en:"Order List",id:"Daftar Order"},clinic_test_request_date:{en:"Test request date",id:"Tanggal permintaan tes"},clinic_order_report:{en:"Order Report",id:"Laporan Order"},clinic_test_date:{en:"Test Date",id:"Tanggal Test"},clinic_order_date:{en:"Order Date",id:"Tanggal Order"},clinic_birth_date:{en:"Birth Date",id:"Tanggal Lahir"},clinic_redeem_date:{en:"Redeem Date",id:"Tanggal Redeem"},clinic_payment_date:{en:"Payment Date",id:"Tanggal Pembayaran"},clinic_redeem_by:{en:"Redeem By",id:"Redeem Oleh"},clinic_redeem_on:{en:"Redeem On",id:"Tanggal Redeem"},clinic_payment_on:{en:"Payment On",id:"Tanggal Pembayaran"},clinic_agent_price:{en:"Agent Price",id:"Harga Agen"},clinic_price:{en:"Price",id:"Harga"},clinic_redeem_success:{en:"Redeem successful",id:"Redeem berhasil"},clinic_redeem_confirmation:{en:"Redeem Confirmation",id:"Konfirmasi Redeem"},clinic_order_detail:{en:"Order Detail",id:"Detail Order"},clinic_active:{en:"Clinic active.",id:"Klinik aktif."},clinic_user_list:{en:"User List",id:"Daftar Pengguna"},clinic_add_user:{en:"Add User",id:"Tambah Penguna"},clinic_regis_sucess:{en:"Clinic Registration Successful",id:"Pendaftaran klinik berhasil"},clinic_activation_success:{en:"Clinic Activation Successful",id:"Aktivasi Klinik berhasil"},clinic_add_user_success:{en:"Add Clinic User Successful",id:"Tambah pengguna klinik berhasil"},clinic_delete_user_success:{en:"Delete Clinic User Successful",id:"Hapus pengguna klinik berhasil"},clinic_delete_sucess:{en:"Delete Clinic Successful",id:"Hapus klinik berhasil"},clinic_logo:{en:"Clinic Logo",id:"Logo Klinik"},clinic_set_logo:{en:"Set Clinic Logo",id:"Set Logo Klinik"},clinic_change_logo:{en:"Change Clinic Logo",id:"Ganti Logo Klinik"},clinic_change_logo_success:{en:"Change clinic logo successful",id:"Ganti logo klinik berhasil"},clinic_parents:{en:"Parent Clinic",id:"Klinik Induk"},clinic_inactive_confirmation:{en:"Would you like to make this clinic inactive?",id:"Apakah anda ingin membuat klinik ini tidak aktif?"},clinic_inactive:{en:"Clinic inactive.",id:"Klinik tidak aktif."}},He=Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},Ae),Ne),qe),Fe),Be=function(e){var t=F.getState().system.locale,a="";a=["en","id"].includes(t.slice(0,2))?t.slice(0,2):"en";var n=He[e];return n?n[a]:e},Ge=function(e,t,a,n,r,i,l,o){window.location.origin;F.dispatch({type:"SERVICE_START"});var s=F.getState(),c=s.userInfo.info,m=s.system.appConstant?s.system.appConstant.aud:null,u=s.userInfo.roleUsed,d=s.system.locale,E=s.userInfo.sessionInfo.accessToken,f=s.userInfo.sessionInfo.key,g=null;m&&(g=m),c.aud&&(g=c.aud),r&&r.clientId&&(g=r.clientId);var h=c.name?c.name:r?r.name:null,b=c.email?c.email:r?r.email:null,_=c.phone?c.phone:r?r.phone:null,O=E||(localStorage.getItem("accessToken")?localStorage.getItem("accessToken"):null),v=f||(localStorage.getItem("key")?localStorage.getItem("key"):null),y=i||(u||null),C={"access-token":O,role:y,"gadget-id":"mygadgetId"},j={open:!0,severity:"success",message:"Successful",redirect:"",action:!1,actionLabel:"",position:"bottom-center",duration:4e3};g&&(C["client-id"]=g);var I=JSON.stringify(e),S=new XMLHttpRequest;S.open(t,Me(a)+(n||""),!0),S.setRequestHeader("gadget-id","mygadgetId"),y&&"login"!==a&&S.setRequestHeader("role",y),g&&S.setRequestHeader("client-id",g),h&&S.setRequestHeader("name",h),b&&S.setRequestHeader("email",b),_&&S.setRequestHeader("phone",_),S.setRequestHeader("Content-type","application/json");var T=n?function(e,t,a,n){var r=e;if(n)if("GET"===t&&n.includes("?")){var i=n.split("&").slice(1),l={};i.forEach((function(e){e=e.split("="),l[e[0]]=decodeURIComponent(e[1]||"")})),r=Object(p.a)(Object(p.a)({},r),l),"SEND_EMAIL_VERIFICATION"===a&&(r.principalType="email"),"SEND_PHONE_VERIFICATION"===a&&(r.principalType="phone")}else n.includes("?")||("ADD_CLIENT_ROLE"!==a&&"DELETE_CLIENT"!==a||(r.clientId=n.split("/")[2]),"DELETE_CLIENT_ROLE"===a&&(r.clientId=n.split("/")[2],r.roleIds=n.split("/")[4]),"UPDATE_USER_ROLE"===a&&(r.id=n.split("/")[2]),"DELETE_USER"===a&&(r.id=n.split("/")[2]),"SELECT_ALL_CLIENT"===a&&n.split("/")[1]&&(r.clientId=n.split("/")[1]));return r}(e,t,a,n):e;"SEND_CLINIC_ACTIVATION"!==a&&"GET_CLINIC_USER"!==a&&"ADD_CLINIC_USER"!==a||(T=e),v&&(S.setRequestHeader("access-token",O),S.setRequestHeader("signature",Ue(C,T,v))),S.send(I),S.addEventListener("load",(function(){var e=S.status.toString();if(F.dispatch({type:"RESET_SERVICE"}),4===S.readyState&&"2"===e.slice(0,1)){F.dispatch({type:"SERVICE_END"});var t={headers:{},body:S.responseText&&"null"!==S.responseText?JSON.parse(S.responseText):{}};o(t)}else if(F.dispatch({type:"SERVICE_END"}),"logout"===a&&F.dispatch({type:"LOGOUT"}),"4"===e.slice(0,1)){var n=JSON.parse(S.responseText);console.log("ERROR YA: ",n);var r=n.errorDescription?n.errorDescription[d.slice(0,2)]:n.message?n.message:n;"error.auth.securityValidation.tokenNotFound"===n.error||"error.auth.securityValidation.invalidAccessToken"===n.error?(j.message=r,j.severity="error",j.redirect="Login",F.dispatch(_e(j)),setTimeout((function(){localStorage.clear(),F.dispatch({type:"LOGOUT"})}),2e3)):"error.auth.securityValidation.emailNotVerified"===n.error?(j.message=r,j.severity="warning",j.position="top-center",j.action="SEND_EMAIL_VERIFICATION",j.actionLabel=Be("app_send_email_verify"),j.duration=14e3,F.dispatch(_e(j))):"error.auth.securityValidation.phoneNotVerified"===n.error?(j.message=r,j.severity="warning",j.position="top-center",j.action="SEND_PHONE_VERIFICATION",j.actionLabel=Be("app_send_phone_verify"),j.duration=14e3,F.dispatch(_e(j))):(j.message=JSON.stringify(r),j.severity="error",F.dispatch(_e(j)))}else j.message=S.responseText,j.severity="error",F.dispatch(_e(j))}));var R=function(e,t){console.log("ERRORKAH? ",t,JSON.stringify(e)),j.message="net::ERR_CONNECTION_TIMED_OUT",j.severity="error",F.dispatch(_e(j)),F.dispatch({type:"SERVICE_END"})};S.onerror=function(e){return R(e,"onError")},S.ontimeout=function(e){return R(e,"onTimeout")}},Ve=function(e,t,a){var n={open:!0,severity:"success",message:"Successful",redirect:"",action:!1,actionLabel:"",position:"bottom-center",duration:4e3};return new Promise((function(r,i){F.dispatch({type:"SERVICE_START"});var l=Le.gatewayRepoFile+"/static-file-manager/insert",o=new XMLHttpRequest;o.open("POST",l,!0),o.addEventListener("load",(function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText);r(e),F.dispatch({type:"SERVICE_END"})}else r({type:"error",message:"Something went wrong"});F.dispatch({type:"SERVICE_END"})}));var s=a||new Blob([e],{type:t});o.send(s),o.onerror=function(e){r({type:"error",message:"Something went wrong"}),n.message="net::ERR_CONNECTION_TIMED_OUT",n.severity="error",F.dispatch(_e(n)),F.dispatch({type:"SERVICE_END"})},o.ontimeout=function(e){r({type:"error",message:"Something went wrong"}),n.message="net::ERR_CONNECTION_TIMED_OUT",n.severity="error",F.dispatch(_e(n)),F.dispatch({type:"SERVICE_END"})}}))},We=[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],ze=a(189),Ke=a.n(ze),Qe=a(188),Ye=a.n(Qe),Je=Le.gatewayRepoFile,Xe=[{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:Je+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:Je+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",url:"GenericConfiguration",children:[]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:Je+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ke.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],$e=function(e,t,a){var n=[];return[].concat(Xe).forEach((function(e){if(e.aud===t){var r=e.loggedMenu;if("voltras-health"===t)if("member"===a){var i=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e.label="Clinic",e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=i.filter((function(e){return"Order List"!==e.label&&"Order Report"!==e.label&&"Generic Configuration"!==e.label}))}else if("clinic.operator"===a)n=r.filter((function(e){return"Order Report"!==e.label&&"Clinic Management"!==e.label&&"Clinic"!==e.label&&"Generic Configuration"!==e.label}));else if("clinic.admin"===a){var l=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"===e.label}))})),e}));n=l.filter((function(e){return"Order Report"!==e.label&&"Generic Configuration"!==e.label}))}else if("biofarma.admin"===a){var o=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=o.filter((function(e){return"Order List"!==e.label&&"Generic Configuration"!==e.label}))}else{var s=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=s}else n=r}})),n},Ze=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.setGenericConfigList,r=a.setConfigDetailModal,i=a.setConfigDetail;window.location.origin;if(this.props.service.status!==e.service.status){var l=e.service,o=l.request,s=l.method,c=l.params,m=l.serviceCode,u=l.status,d=l.customHeaders,E=l.role,f=(l.file,{open:!0,severity:"success",message:"Successful",action:!1,actionLabel:""});m&&"active"===u&&Ge(o,s,m,c,d,E,0,(function(e){var a=t.props.userInfo.phone?t.props.userInfo.phone:"",l={email:t.props.userInfo.email,phone:t.props.userInfo.phone,name:t.props.userInfo.name?t.props.userInfo.name:""};a&&(l.phone=a);var o={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:l},s={request:{},method:"GET",serviceCode:"SELECT_ALL_USER",customHeaders:l},c={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",customHeaders:l},u={request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:l},d=e.body;if(t.props._setResponse(e),d.error)"logout"===m&&t.props.history.push("/Login");else switch(m){case"login":if(d.otpID)t.props._setUserOtpId(d.otpID);else{localStorage.setItem("accessToken",d.accessToken),localStorage.setItem("key",d.key),localStorage.setItem("idToken",d.idToken);var E=K()(d.idToken),g=E.role,h=[];h=g.length>1&&g.includes("member")?g.filter((function(e){return"member"!==e})):g,E.role=h,t.props._setUserInfo(E),t.props._setUserSessionInfo(d);var b=E.aud;localStorage.setItem("aud",b);var _=h;if(_.length>1)t.props._setPopChooseRole(!0);else{localStorage.setItem("roleUsed",_[0]);var O=$e(0,b,_[0]),v={};O.length>0&&O.map((function(e){return v=Object(p.a)(Object(p.a)({},v),{},Object(y.a)({},e.url,!1))})),t.props._setMenuCollapseStatus(v),t.props._setRoleUsed(_[0]),t.props._setUserMenu(O),t.props.history.push("/Home")}}break;case"OTP":if(d.otpID)t.props._setUserOtpId(d.otpID);else{localStorage.setItem("accessToken",d.accessToken),localStorage.setItem("key",d.key),localStorage.setItem("idToken",d.idToken);var C=K()(d.idToken),j=C.role,I=[];I=j.length>1&&j.includes("member")?j.filter((function(e){return"member"!==e})):j,C.role=I,t.props._setUserInfo(C),t.props._setUserSessionInfo(d);var S=C.aud;localStorage.setItem("aud",S);var T=I;if(T.length>1)t.props._setPopChooseRole(!0);else{localStorage.setItem("roleUsed",T[0]);var R=$e(0,S,T[0]),L={};R.length>0&&R.map((function(e){return L=Object(p.a)(Object(p.a)({},L),{},Object(y.a)({},e.url,!1))})),t.props._setMenuCollapseStatus(L),t.props._setRoleUsed(T[0]),t.props._setUserMenu(R),t.props.history.push("/Home")}}break;case"logout":t.props._setUserMenu(We),localStorage.clear(),t.props.history.push("/Login"),t.props._logout();break;case"register":f.message=Be("app_regis_sucess_msg"),t.props._setSnackbar(f),t.props.history.push("/Login");break;case"UPDATE_USER_INFO":localStorage.setItem("idToken",d.idToken);var w=K()(d.idToken);t.props._setUserInfo(w),f.message=Be("app_success_update_account"),t.props._setSnackbar(f);break;case"RESET_PASSWORD_REQUEST":f.message="Send email successful",f.severity="info",t.props._setSnackbar(f);break;case"CHANGE_PASSWORD_REQUEST":f.message="Change password successful, proceed to sign in",f.severity="info",t.props._setSnackbar(f),t.props._setResetPasswordCode(null);break;case"SEND_EMAIL_VERIFICATION":f.message=Be("app_email_success_msg"),f.severity="info",f.position="bottom-center",f.action=!1,t.props._setSnackbar(f);break;case"SEND_PHONE_VERIFICATION":t.props._setSystemOtpId(d.otpID);break;case"VERIFICATION_CHECK":f.message=Be("app_verification_succes"),f.severity="success",f.position="bottom-center",f.action=!1,t.props._setSnackbar(f);break;case"REQ_AUTH_GOOGLE_PARAMS":t.props._setGoogleParams(d);break;case"HEALTH_ORDER_DETAIL":console.log("RESPONSE PURCHASE DETAIL: ",d),Array.isArray(d)&&d.length>0?(t.props._setPaxDetail(d),t.props.history.push("/PaxDetail")):(f.message="Order not found",f.severity="error",t.props._setSnackbar(f));break;case"healthOrder":Array.isArray(d)&&d.length>0?(d.sort((function(e,t){var a=e.id;return t.id-a})),t.props._setPaxList(d)):(t.props._setPaxList([]),f.message="Order not found",f.severity="error",t.props._setSnackbar(f));break;case"PURCHASE_VOUCHER_NUMBER":Array.isArray(d)&&d.length>0?(t.props._setPaxDetail(d),t.props.history.push("/PaxDetail")):(t.props._setPaxList([]),f.message="Order not found",f.severity="error",t.props._setSnackbar(f));break;case"GET_ALL_ORDER":t.props._setClinicRecapt(d);break;case"RESCHEDULE_ORDER":f.message="Reschedule order successful",t.props._setSnackbar(f),t.props.history.push("/PaxList");break;case"healthProduct":t.props._setPaxProduct(d),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"healthKlinik":t.props._setKlinikList(d);break;case"SELECT_USER_FULL_INFO":t.props._setUserInfo(d);break;case"SELECT_USER_DETAIL_FULL_INFO":t.props._setUserDetail(d),t.props._setUserList([d]);break;case"SELECT_ALL_USER":t.props._setUserList(d.items);break;case"CREATE_BO_USER":f.message="Create User Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(s),t.props.history.push("/VUserList");break;case"UPDATE_USER_ROLE":f.message="Update User Role Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(s),t.props._setUserFilteredList(d.items);break;case"DELETE_USER":f.message="Delete User Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(s);break;case"UPDATE_BASIC_USER":f.message="Update Basic Info User Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(s);break;case"UPDATE_TEMPLATE_MESSAGE":console.log("update sini template"),f.message="Update Client Detail Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(o);break;case"SELECT_ALL_MESSAGE":var k=d.items;Array.isArray(k)&&k.length>0?(k.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setClientMessagingList(k)):t.props._setClientMessagingList([]);break;case"SELECT_ALL_CLIENT":var M=d.items;Array.isArray(M)&&M.length>0?(M.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setClientList(M)):t.props._setClientList([]);break;case"SELECT_ALL_REQUEST":var x=d.items;Array.isArray(x)&&x.length>0?(x.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setRequestList(x)):t.props._setRequestList([]),t.props._setCompleteRequest(o);break;case"CREATE_CLIENT":f.message="Create Client Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(o),t.props.history.push("/VClientList");break;case"ADD_CLIENT_ROLE":f.message="Add Client Role Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(o);break;case"UPDATE_CLIENT_DETAIL":f.message="Update Client Detail Successful";var D=t.props.clientList.messagingEdit;if(console.log("masuk sini template",D),D.updateMessageTemplate){console.log("masuk sini template");var P=D.messagingTemplateId,U="/clients/".concat(D.clientId,"/messaging-templates/").concat(P),A=Object(p.a)({},D);delete A.updateMessageTemplate;var N={request:A,method:"PATCH",serviceCode:"UPDATE_TEMPLATE_MESSAGE",urlParams:U};t.props._setCompleteRequest(N);break}t.props._setSnackbar(f),t.props._setCompleteRequest(o);break;case"DELETE_CLIENT_ROLE":f.message="Delete Client Role Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(o);break;case"DELETE_CLIENT":f.message="Delete Client Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(o);break;case"ADD_REQUEST_SPESIFICATIONS":f.message="Add Request Spesifiactions Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(Object(p.a)(Object(p.a)({},o),{},{serviceCode:"SELECT_ALL_REQUEST"}));break;case"UPDATE_REQUEST_SPESIFICATIONS":f.message="Update Request Spesifiactions Successful",t.props._setSnackbar(f),t.props._setCompleteRequest(Object(p.a)(Object(p.a)({},o),{},{serviceCode:"SELECT_ALL_REQUEST"}));break;case"GET_CITY_LIST":var q=[];Array.isArray(d)&&d.length>0&&(d.forEach((function(e){e.name?q.push(e):q.push({city:e})})),t.props._setCityList(q)),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_CITY_CLINIC_LIST":var F=[];Array.isArray(d)&&(d.length>0?(d.forEach((function(e){e.name?F.push(e):F.push({city:e})})),t.props._setKlinikList(F)):t.props._setKlinikList(F));break;case"CLINIC_REGISTRATION":f.message=Be("clinic_regis_sucess"),t.props._setSnackbar(f),t.props._setCompleteRequest(u),"member"!==t.props.userInfo.roleUsed?t.props.history.push("/KClinicList"):t.props.history.push("/Home");break;case"SEND_CLINIC_ACTIVATION":f.message=Be("clinic_activation_success"),t.props._setSnackbar(f),t.props._setCompleteRequest(u);break;case"ADD_CLINIC_USER":f.message=Be("clinic_add_user_success"),t.props._setSnackbar(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"DELETE_CLINIC_USER":f.message=Be("clinic_delete_user_success"),t.props._setSnackbar(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"DELETE_CLINIC":f.message=Be("clinic_delete_sucess"),t.props._setSnackbar(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_CLINIC_USER":t.props._setClinicUser(d),t.props.service.secondRequest||t.props.history.push("/KSetting"),t.props._clearSecondRequest();break;case"GET_MY_CLINIC":d[0]&&(c.urlParams="/".concat(d[0].clinic_id),t.props._setCompleteRequest(c),t.props._setMyClinic(d[0]));break;case"GET_CLINIC_REPORT":t.props._setClinicRecapt(d);break;case"ADD_CLINIC_LOGO":f.message=Be("clinic_change_logo_success"),t.props._setSnackbar(f);break;case"GENERIC_JSON_CONFIGURATION":n(d);break;case"GENERIC_JSON_CONFIGURATION_DETAIL":i(d),r(!0);break;case"GENERIC_JSON_CONFIGURATION_UPDATE":r(!1),f.message="Update Configuration Success",f.severity="success",f.position="bottom-center",f.action=!1,t.props._setSnackbar(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_CLINIC_PARENTS":t.props._setClinicParent(d),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_PARENT_LIST":t.props._setParentList(d)}}))}}},{key:"render",value:function(){return r.a.createElement("div",null," ")}}]),a}(n.Component),et=Object(o.b)((function(e){return{service:e.service,userInfo:e.userInfo.info,clientList:e.clientList}}),(function(e){return{_logout:function(){e({type:"LOGOUT"}),e(ce(We))},_setGoogleParams:function(t){return e(function(e){return{type:"SET_GOOGLE_PARAMS",val:e}}(t))},_setResetPasswordCode:function(t){return e(oe(t))},_setClinicRecapt:function(t){return e(ge(t))},_setPopChooseRole:function(t){return e(Ce(t))},_setResponse:function(t){return e(ae(t))},_setUserMenu:function(t){return e(ce(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_setPaxList:function(t){return e(ue(t))},_setPaxDetail:function(t){return e(de(t))},_setPaxProduct:function(t){return e(pe(t))},_setKlinikList:function(t){return e(Ee(t))},_setUserSessionInfo:function(t){return e(re(t))},_setUserInfo:function(t){return e(ne(t))},_setUserOtpId:function(t){return e(ie(t))},_setUserList:function(t){return e(function(e){return{type:"SET_USER_LIST",val:e}}(t))},_setUserDetail:function(t){return e(function(e){return{type:"SET_USER_DETAIL",val:e}}(t))},_setClientList:function(t){return e(function(e){return{type:"SET_CLIENT_LIST",val:e}}(t))},_setSnackbar:function(t){return e(_e(t))},_setDialog:function(t){return e(Oe(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setCityList:function(t){return e(he(t))},_setClinicUser:function(t){return e(function(e){return{type:"SET_CLINIC_USER",val:e}}(t))},_setRoleUsed:function(t){return e(le(t))},_clearSecondRequest:function(){return e({type:"CLEAR_SECOND_REQUEST"})},_clearThirdRequest:function(){return e({type:"CLEAR_THIRD_REQUEST"})},_setClinikDetail:function(t){return e(fe(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setSystemOtpId:function(t){return e(function(e){return{type:"SET_SYSTEM_OTP_ID",val:e}}(t))},_setMyClinic:function(t){return e(function(e){return{type:"SET_MY_CLINIC",val:e}}(t))},setGenericConfigList:function(t){return e(function(e){return{type:"SET_GENERIC_CONFIG_LIST",data:e}}(t))},setConfigDetail:function(t){return e({type:"SET_CONFIG_DETAIL",data:t})},setConfigDetailModal:function(t){return e(Se(t))},_setClinicParent:function(t){return e(function(e){return{type:"SET_CLINIC_PARENTS",val:e}}(t))},_setRequestList:function(t){return e(function(e){return{type:"SET_REQUEST_LIST",val:e}}(t))},_setClientMessagingList:function(t){return e(function(e){return{type:"SET_CLIENT_MESSAGE_LIST",val:e}}(t))},_setParentList:function(t){return e(be(t))}}}))(Ze),tt=a(750),at=a(772),nt=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.state={open:!1,message:"",autoHideDuration:2e3},n}return Object(B.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(tt.a,{open:this.state.open,autoHideDuration:this.state.autoHideDuration,onClose:this.handleClose},r.a.createElement(at.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:"error"},this.state.message)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=!!e.response.response&&(!!e.response.response.body&&e.response.response.body.error),n=e.response.response&&e.response.response.body?e.response.response.body.errorDescription:"";return a?"error.auth.securityValidation.invalidAccessToken"===a?(localStorage.clear(),setTimeout((function(){e.history.push("/Login")}),2e3),Object(p.a)(Object(p.a)({},t),{},{open:!0,message:n})):"error.auth.securityValidation.emailNotVerified"===a||"error.auth.securityValidation.phoneNotVerified"===a?Object(p.a)(Object(p.a)({},t),{},{open:!1}):Object(p.a)(Object(p.a)({},t),{},{open:!0,message:n}):null}}]),a}(n.Component),rt=Object(o.b)((function(e){return{response:e.response}}))(nt),it=a(8),lt=a(3),ot=a(6),st=a(150),ct=a(776),mt=a(501),ut=a(109),dt=a(763),pt=a(355),Et=a(766),ft=a(738),gt=a(68),ht=a(767),bt=a(226),_t=a(514),Ot=a.n(_t),vt=a(739),yt=a(478),Ct=a(480),jt=a(751),It=a(515),St=a.n(It),Tt=a(731),Rt=a(734),Lt=a(733),wt=a(757),kt=a(756),Mt=a(162),xt=a(752),Dt=a(753),Pt=a(281),Ut=a(351),At=a(352),Nt=a(350),qt=a(754),Ft=a(500),Ht=function(e){var t=Object.assign({},e),a=t._setCompleteRequest,i=t._setSecondRequest,l=t.history,o=t.userInfo,s=t._setVerificationCode,c=t.clinic,m=Object(n.useState)({voucherId:"",voucherIdErrorMessage:"",submitErrorMessage:"",disabled:!0}),u=Object(it.a)(m,2),d=u[0],E=u[1];Object(n.useEffect)((function(){window.scrollTo(0,0);var e=window.screen;!navigator.xr&&window.innerWidth<=800&&window.innerHeight<=600&&e.orientation&&e.orientation.lock&&e.orientation.lock("landscape");var t=o.info.name?o.info.name:"",n=o.info.email?o.info.email:"",r=o.info.phone?o.info.phone:"",l={email:n,name:t};r&&(l.phone=r);var s=o.roleUsed;(E((function(e){return Object(p.a)(Object(p.a)({},e),{},{disabled:"biofarma.admin"===s})})),"clinic.admin"===s||"clinic.operator"===s)&&(a({request:{},method:"GET",serviceCode:"GET_MY_CLINIC",customHeaders:l}),i(!0))}),[o,a,i]),Object(n.useEffect)((function(){var e=o.info.name?o.info.name:"",t=o.info.email?o.info.email:"",n=o.info.phone?o.info.phone:"",r=o.verificationCode?o.verificationCode:"",i={email:t,name:e};n&&(i=n),r&&(a({request:{redirectURI:"http://www.alamanak.co.id",verificationCode:r},method:"POST",serviceCode:"VERIFICATION_CHECK",params:"/email",customHeaders:i}),s(null))}),[o,a,s]);var f;return r.a.createElement(jt.a,{container:!0,direction:"row"},r.a.createElement(Ft.a,{xsDown:!0},r.a.createElement(jt.a,{item:!0,sm:d.disabled?12:7},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",style:{marginTop:40}},r.a.createElement(jt.a,{item:!0,sm:2}," "),r.a.createElement(jt.a,{item:!0,sm:5,style:{marginTop:40}},r.a.createElement(jt.a,null,"  ",r.a.createElement(gt.a,{variant:"h6",color:"primary"},c?c.name:"Clinic Backoffice"),"  "),r.a.createElement(jt.a,null,"  ",r.a.createElement(gt.a,{variant:"h5"},Be("app_welcome"))," "),r.a.createElement(jt.a,null,"  ",r.a.createElement(gt.a,{variant:"subtitle2"},o.roleUsed?o.roleUsed:"")," "))))),r.a.createElement(jt.a,{item:!0,xs:12,sm:5},d.disabled?null:r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:15}},r.a.createElement(xt.a,{variant:"elevation"},r.a.createElement("center",null,r.a.createElement(Dt.a,null,r.a.createElement(gt.a,{variant:"h6"},r.a.createElement("b",null,"Order Details")," "),r.a.createElement(gt.a,{variant:"caption",style:{marginBottom:15}},"Search by "),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(Nt.a,{disabled:d.disabled,fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!d.voucherIdErrorMessage,htmlFor:"standard-voucherId"},"Order ID"),r.a.createElement(Pt.a,{autoFocus:!0,error:!!d.voucherIdErrorMessage,id:"standard-adornment-voucherId",type:"text",value:d.voucherId,onChange:(f="voucherId",function(e){var t,a;"voucherId"===f&&(0===e.target.value.length?E(Object(p.a)(Object(p.a)({},d),{},(t={},Object(y.a)(t,f,e.target.value),Object(y.a)(t,"isError",!0),Object(y.a)(t,"voucherIdErrorMessage","OrderId must be filled"),t))):E(Object(p.a)(Object(p.a)({},d),{},(a={},Object(y.a)(a,f,e.target.value),Object(y.a)(a,"isError",!1),Object(y.a)(a,"voucherIdErrorMessage",""),Object(y.a)(a,"submitErrorMessage",""),a))))}),onKeyPress:function(e){if(13===e.which&&"Enter"===e.key){var t=d.voucherId,n=o.info.name?o.info.name:"",r=o.info.email?o.info.email:"",i=o.info.phone?o.info.phone:"",l={email:r,name:n};if(i&&(l.phone=i),t){var s={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(t.toString()),customHeaders:l};a(s)}else E(Object(p.a)(Object(p.a)({},d),{},{isError:!0,voucherIdErrorMessage:"OrderId must be filled"}))}}}),d.voucherIdErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},d.voucherIdErrorMessage):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Mt.a,{disabled:d.disabled,fullWidth:!0,style:{marginBottom:15},onClick:function(e){e.preventDefault();var t=d.voucherId,n=o.info.name?o.info.name:"",r=o.info.email?o.info.email:"",i=o.info.phone?o.info.phone:"",l={email:r,name:n};if(i&&(l.phone=i),t){var s={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(t.toString()),customHeaders:l};a(s)}else E(Object(p.a)(Object(p.a)({},d),{},{isError:!0,voucherIdErrorMessage:"OrderId must be filled"}))},variant:"contained",color:"primary"},"Search"),d.submitErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},d.submitErrorMessage):null,r.a.createElement(gt.a,{variant:"caption"},"or"),r.a.createElement("div",null,r.a.createElement(qt.a,{disabled:d.disabled,style:{marginTop:15},onClick:function(){return l.push("/QrScreen")},component:"button",variant:"body2"},"Use QR Code")))))))),r.a.createElement(jt.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-350}})))},Bt=a(93),Gt=a(506),Vt=a.n(Gt),Wt=Object(Bt.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),zt=function(e){var t=Object.assign({},e),a=Wt(),i=Object(n.useState)({userEmail:"",roleUsed:""}),l=Object(it.a)(i,2),o=l[0],s=l[1];return Object(n.useEffect)((function(){s((function(e){return Object(p.a)(Object(p.a)({},e),{},{userEmail:t.userInfo.info.email,roleUsed:t.userInfo.roleUsed})}))}),[t.userInfo.info,t.userInfo.roleUsed]),r.a.createElement("div",{style:{backgroundImage:"url(".concat(Vt.a,")"),backgroundRepeat:"no-repeat",backgroundPositionX:"center",height:525,width:600}},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(st.a,{className:a.paper,elevation:0},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement(gt.a,{variant:"subtitle2"},o.roleUsed)),r.a.createElement(jt.a,{item:!0,xs:12})))))},Kt=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).state={voucherId:"",voucherIdErrorMessage:"",isError:!0,submitErrorMessage:"",isQrShow:!1,result:"no result",aud:""},n}return Object(B.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){window.location.origin;var e=this.props,t=e._setUserMenu,a=e._setMenuCollapseStatus,n=e._setAppConstant,r=e._setUserInfo,i=e._setOpenScreen,l=e._setUserSessionInfo,o=e._setRoleUsed,s=e.history,c=localStorage.getItem("accessToken"),m=localStorage.getItem("idToken"),u=localStorage.getItem("key"),d=localStorage.getItem("aud"),E=localStorage.getItem("roleUsed");if(c&&m&&u&&d&&E){this.setState(Object(p.a)(Object(p.a)({},this.state),{},{aud:d}));var f=Xe.filter((function(e){return e.aud===d})),g=$e(0,d,E),h={};g.length>0&&g.map((function(e){return h=Object(p.a)(Object(p.a)({},h),{},Object(y.a)({},e.url,!1))})),document.title=f[0].title,n(f[0]),a(h),t(g),l({accessToken:c,key:u}),r(K()(m)),o(E),i("Home")}else s.push("/Login")}},{key:"render",value:function(){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},this.state.aud?"voltras-health"===this.state.aud?r.a.createElement(Ht,this.props):r.a.createElement(zt,this.props):null)}}]),a}(n.Component),Qt=Object(o.b)((function(e){return{clinic:e.paxList.clinicUser,paxList:e.paxList.list,detail:e.paxList.detail,userInfo:e.userInfo,system:e.system,menu:e.menu.menuItems}}),(function(e){return{_setUserSessionInfo:function(t){return e(re(t))},_setUserInfo:function(t){return e(ne(t))},_setUserMenu:function(t){return e(ce(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_setOpenScreen:function(t){return e(ve(t))},_setPaxList:function(t){return e(ue(t))},_setPaxDetail:function(t){return e(de(t))},_setRoleUsed:function(t){return e(le(t))},_setAppConstant:function(t){return e(ye(t))},_setVerificationCode:function(t){return e(se(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setSecondRequest:function(t){return e(te(t))}}}))(Kt),Yt=a(462),Jt=a(730),Xt=Object(n.forwardRef)((function(e,t){return r.a.createElement(Jt.a,Object.assign({direction:"up",ref:t},e))}));function $t(e){var t=Object.assign({},e),a=function(){t.handleDialogClose()};return r.a.createElement("div",null,r.a.createElement(Tt.a,{open:t.open,TransitionComponent:Xt,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(kt.a,{id:"alert-dialog-slide-title"},t.dialogTitle),r.a.createElement(Lt.a,null,r.a.createElement(wt.a,{id:"alert-dialog-slide-description"},t.dialogContent)),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{onClick:a,color:"secondary"},t.cancelTitle),r.a.createElement(Mt.a,{onClick:function(){t.handleDialogSubmit(),setTimeout((function(){t.handleDialogClose()}),50)},color:"primary",style:{fontWeight:"bold"}},t.submitTitle))))}var Zt=a(283),ea=a(353),ta=a(115),aa=a.n(ta),na=a(116),ra=a.n(na),ia=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,la=/^(^\+62\s?|^0)(\d{3,4}-?){2}\d{3,4}$/,oa=/^([\.A-Za-z0-9_-]+)$/,sa=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*[\:\.][a-z0-9]{2,5}(:[0-9]{1,5})?(\/.*)?$/,ca=/^[0-9]*$/,ma=/^[a-zA-Z ]*$/,ua=/^(\/)?[a-zA-Z]+(\/.*)?$/,da={error:!1,errorMessage:""},pa=function(e,t){switch(e){case"otp":return ca.test(t)?0===t.length?(da.error=!0,da.errorMessage=Be("err_otp_empty")):(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_otp_must_number")),da;case"phone":return la.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_phone_format")),da;case"name":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_name_empty")):(da.error=!1,da.errorMessage=""),da;case"clinicName":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_clinic_name_empty")):(da.error=!1,da.errorMessage=""),da;case"address":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_address_empty")):(da.error=!1,da.errorMessage=""),da;case"email":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_email_empty")):ia.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_email_format")),da;case"password":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_password_empty")):t.length<8?(da.error=!0,da.errorMessage=Be("err_not_six_char")):(da.error=!1,da.errorMessage=""),da;case"confirmPassword":return 0===t.length?(da.error=!0,da.errorMessage="confirm password must be filled"):t.length<8?(da.error=!0,da.errorMessage=Be("err_not_six_char")):(da.error=!1,da.errorMessage=""),da;case"clientId":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_clientid_empty")):oa.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_clientid_format")),da;case"clientName":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_clientname_empty")):(da.error=!1,da.errorMessage=""),da;case"roleId":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_roleid_empty")):oa.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_roleid_format")),da;case"initialRole":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_initialrole_empty")):oa.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_initialrole_format")),da;case"clientType":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_clienttype_not_choosen")):(da.error=!1,da.errorMessage=""),da;case"profile":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_profile_not_choosen")):(da.error=!1,da.errorMessage=""),da;case"roleDescription":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_description_empty")):(da.error=!1,da.errorMessage=""),da;case"originUris":case"redirectUris":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_uri_empty")):sa.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_uri_format")),da;case"emailSender":return 0===t.length||ia.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_email_format")),da;case"emailSenderMaskingName":return t.length>100?(da.error=!0,da.errorMessage=Be("err_masking_name_100")):ma.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_masking_name_format")),da;case"path":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_path_empty")):ua.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_path_format")),da;case"urlDestination":case"clientDomain":return 0===t.length?(da.error=!0,da.errorMessage=Be("err_uri_empty")):sa.test(t)?(da.error=!1,da.errorMessage=""):(da.error=!0,da.errorMessage=Be("err_uri_format")),da;default:return da}},Ea=a(775);function fa(e){var t=Object.assign({},e),a=t.options,n=t.optionItem,i=t.onPick,l=t.id,o=t.helperText,s=t.label,c=t.width,m=t.autoFocus,u=t.handleInputChange,d=t.setIndex,p=t.freeSolo,E=t.clearOnBlur,f=t.values,g=t.handleFocus,h=t.small,b=r.a.useState({}),_=Object(it.a)(b,2),O=_[0],v=_[1],y=r.a.useState(""),C=Object(it.a)(y,2),j=C[0],I=C[1];return r.a.createElement(Ea.a,{size:h?"small":"medium",onFocus:function(){g&&g()},clearOnBlur:E,freeSolo:p,autoFocus:m,blurOnSelect:!0,value:f||O,onChange:function(e,t){var a=d;v(t),i(t,a)},inputValue:j,onInputChange:function(e,t){var a=d;I(t),u&&u(t,a)},disabled:!1,id:l,style:{width:c||"100%"},options:a,getOptionLabel:function(e){return n&&e[n]?e[n]:""},renderInput:function(e){return r.a.createElement(Zt.a,Object.assign({id:l,autoFocus:m,error:!1,helperText:o},e,{label:s,variant:"standard"}))}})}var ga=function(e){var t=window.location.origin,a=Object(n.useState)({showPassword:!1,showConfirm:!1}),i=Object(it.a)(a,2),l=i[0],o=i[1],s=function(e){return function(t){var a,n,r,i=t.target.value,s=pa(e,i);"confirmPassword"===e?l.password!==t.target.value?o(Object(p.a)(Object(p.a)({},l),{},(a={isError:!0},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage",Be("err_passconfirm_mismatch")),Object(y.a)(a,"submitErrorMessage",""),a))):o(Object(p.a)(Object(p.a)({},l),{},(n={isError:s.error},Object(y.a)(n,e,t.target.value),Object(y.a)(n,e+"ErrorMessage",s.errorMessage),Object(y.a)(n,"submitErrorMessage",""),n))):o(Object(p.a)(Object(p.a)({},l),{},(r={isError:s.error},Object(y.a)(r,e,t.target.value),Object(y.a)(r,e+"ErrorMessage",s.errorMessage),Object(y.a)(r,"submitErrorMessage",""),r)))}},c=function(e){e.preventDefault()};return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(xt.a,{elevation:4,style:{margin:20,width:285}},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},"http://health.voltras.net"===t||"https://health.voltras.net"===t||"https://localhost:3030"===t?r.a.createElement("div",null):r.a.createElement(Nt.a,{style:{width:"30ch",marginTop:20}},r.a.createElement(fa,{label:"App to Login",options:[{name:"Klinik App"},{name:"Voltras Back Office"},{name:"Almanak"}],onPick:function(t){return e.handleClient(t)},optionItem:"name"})),r.a.createElement(gt.a,{color:"primary",variant:"h5",style:{marginTop:20,fontWeight:"bold"}},e.formLabel),r.a.createElement(Zt.a,{size:"small",onChange:s("password"),id:"standard-pass",label:Be("common_new_password"),type:l.showPassword?"text":"password",helperText:l.passwordErrorMessage?l.passwordErrorMessage:"",error:!!l.passwordErrorMessage,margin:"dense",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle password visibility",onClick:function(){return o(Object(p.a)(Object(p.a)({},l),{},{showPassword:!l.showPassword}))},onMouseDown:c},l.showPassword?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}}),r.a.createElement(Zt.a,{size:"small",onChange:s("confirmPassword"),id:"standard-pass",label:Be("app_password_confirmation"),type:l.showConfirm?"text":"password",helperText:l.confirmPasswordErrorMessage?l.confirmPasswordErrorMessage:"",error:!!l.confirmPasswordErrorMessage,margin:"dense",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle password visibility",onClick:function(){return o(Object(p.a)(Object(p.a)({},l),{},{showConfirm:!l.showConfirm}))},onMouseDown:c},l.showConfirm?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}}),r.a.createElement("br",null),l.submitErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},l.submitErrorMessage):null,r.a.createElement(Mt.a,{variant:"contained",color:"primary",style:{textTransform:"none",fontWeight:"bold",width:200,marginBottom:20,marginTop:10},onClick:function(){var t=l.password,a=l.confirmPassword;if(t&&t===a){var n={newPassword:t,confirmNewPassword:a};e.submitChangePassword(n)}else o(Object(p.a)(Object(p.a)({},l),{},{submitErrorMessage:Be("err_submit")}))}},"Send"))))},ha=a(460),ba=a(461),_a=a(774),Oa=function(e){var t=e.classes,a=e.onRadioChange,n=e.userInfo,i=e.state,l=e.handleChooseRole;return r.a.createElement(xt.a,{className:t,elevation:4},r.a.createElement(jt.a,{style:{marginTop:30},container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_choose_role")))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},Be("app_choose_role_used"))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Nt.a,{style:{margin:10,marginLeft:25}},r.a.createElement(ha.a,{onChange:a},n.info.role?n.info.role.map((function(e,t){return r.a.createElement(ba.a,{value:e,control:r.a.createElement(_a.a,null),label:e,key:t})})):null),i.otpErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},(void 0).state.otpErrorMessage):null)),r.a.createElement(Nt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Mt.a,{onClick:l,disabled:!i.roleChoosen,style:{margin:10,width:120},variant:"contained",color:"primary"},Be("app_choose"))),i.onLoginErrorMessage?r.a.createElement(At.a,{error:!0,id:"password-helper-text"},i.onLoginErrorMessage):null)))},va=function(e){var t=e.classes,a=e.handleCancelOtp,n=e.handleResendOtp,i=e.state,l=e.handleSubmitOtp,o=e.handleChange;return r.a.createElement(xt.a,{className:t,style:{width:300},elevation:4},r.a.createElement(jt.a,{style:{margin:30},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_submit_otp"))," "),r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},Be("app_submit_otp_text")),r.a.createElement(gt.a,{variant:"subtitle2",color:"primary"},i.email),r.a.createElement(Nt.a,{style:{margin:10,width:"12ch",textAlign:"center"}},r.a.createElement(Pt.a,{autoFocus:!0,style:{fontSize:28,textAlign:"center"},error:!!i.otpErrorMessage,id:"standard-adornment-otp",type:"text",onChange:o("otp"),value:i.otp}),i.otpErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},i.otpErrorMessage):null),r.a.createElement(Nt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Mt.a,{onClick:a,variant:"outlined",color:"primary",style:{margin:10}},Be("app_cancel")),r.a.createElement(Mt.a,{onClick:l,disabled:!i.otp,style:{margin:10},variant:"contained",color:"primary"},Be("app_submit"))),i.onLoginErrorMessage?r.a.createElement(At.a,{error:!0,id:"password-helper-text"},i.onLoginErrorMessage):null),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},Be("app_not_receive_otp")),r.a.createElement(Mt.a,{size:"small",onClick:n,color:"primary",style:{textTransform:"none",fontWeight:"bold",fontSize:12}},Be("app_resend_otp")))))},ya=a(509);var Ca=function(e){var t=e.params,a=t.client_id,n=t.access_type,i=t.prompt,l=t.response_type,o=Object(ya.useGoogleLogin)({onSuccess:function(t){var a={provider:"google",responseType:"token",code:t.code,redirectURI:"http://localhost:3000",nonce:""};t.code&&e.handleGoogleLogin(a)},onFailure:function(e){console.log("Login failed: res:",e)},clientId:a,isSignedIn:!1,accessType:n,responseType:l,redirectUri:"http://localhost:3000",prompt:i}).signIn;return r.a.createElement(Mt.a,{fullWidth:e.fullWidth,color:"primary",size:"large",onClick:o,style:{width:e.width||240,textTransform:"none",color:"black"},variant:"outlined",startIcon:r.a.createElement("img",{style:{width:24},src:"icons/google.svg",alt:"google login",className:"icon"})},"\xa0  ",e.buttonText," Google")},ja=function(e){var t=Object.assign({},e);return r.a.createElement(st.a,{elevation:1,style:{width:300}},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(gt.a,{variant:"h6"},"Choose Client")," ")),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},Xe.map((function(e,a){return r.a.createElement(jt.a,{item:!0,style:{margin:12,width:75},onClick:(n=e.name,function(e){t.handleClient({name:n})}),key:a},r.a.createElement(bt.a,{"aria-label":"delete",color:"primary"},e.icon),r.a.createElement("center",null,r.a.createElement(gt.a,{variant:"subtitle2"},e.name)," "));var n}))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{height:100}}," "))},Ia=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Sa=function(e){var t=Object.assign({},e),a=window.location.origin,i=t.handleChange,l=t.handleClient,o=t.handleGoogleLogin,s=t.handleEnter,c=t.handleClickShowPassword,m=t.handleMouseDownPassword,u=t.handleSubmit,d=t.handleRegister,p=t.handleForgotOpen,E=t.state,f=t.system,g=t.history,h=Object(n.useState)(""),b=Object(it.a)(h,2),_=b[0],O=b[1],v=Object(n.useState)(!1),y=Object(it.a)(v,2),C=y[0],j=y[1];return Object(n.useEffect)((function(){f.appConstant&&O(f.appConstant.aud)}),[f.appConstant]),Object(n.useEffect)((function(){!1===C&&E.clientId&&j(!0)}),[E.clientId,C]),Object(n.useEffect)((function(){"POP"===g.action&&j(!1)}),[g.action]),Object(n.useEffect)((function(){"voltras-health"===_&&j(!0)}),[_]),window.onpopstate=function(e){},r.a.createElement("div",null,C?null:r.a.createElement(ja,{handleClient:l}),r.a.createElement(xt.a,{style:{display:C?"flex":"none",flexWrap:"wrap",width:285},elevation:4},r.a.createElement("center",null,r.a.createElement(Dt.a,null,r.a.createElement(gt.a,{color:"primary",variant:"h5"},r.a.createElement("b",null,Be("app_sign_in"))," "),r.a.createElement("div",null,"voltras-health"===E.clientId||"https://health.voltras.net"===a?r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:15,marginTop:20}},r.a.createElement(Ca,{params:f.googleParams,handleGoogleLogin:o,buttonText:Be("common_signin_with")})),r.a.createElement(gt.a,{variant:"subtitle2"},Be("common_or"))):null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Nt.a,{style:{width:"30ch",margin:7}},r.a.createElement(Ut.a,{error:!!E.emailErrorMessage,htmlFor:"standard-adornment-password"},Be("app_email_or_phone")),r.a.createElement(Pt.a,{autoFocus:!0,autoComplete:"on",error:!!E.emailErrorMessage,id:"standard-adornment-email",type:"text",value:E.email,onChange:i("email"),onKeyPress:s}),E.emailErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},E.emailErrorMessage):null)),Ia.test(E.email)?r.a.createElement(Nt.a,{style:{width:"30ch",margin:7}},r.a.createElement(Ut.a,{error:!!E.passwordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password")),r.a.createElement(Pt.a,{error:!!E.passwordErrorMessage,id:"standard-adornment-password",type:E.showPassword?"text":"password",value:E.password,onChange:i("password"),endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle password visibility",onClick:c,onMouseDown:m},E.showPassword?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null))),onKeyPress:s}),E.passwordErrorMessage?r.a.createElement(At.a,{error:!0,id:"password-helper-text"},E.passwordErrorMessage):null):null),Ia.test(E.email)?r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start"},r.a.createElement(Mt.a,{size:"small",color:"primary",style:{textTransform:"none",fontWeight:"bold",marginTop:10},onClick:p},Be("app_forgot_password"))):null,r.a.createElement(Nt.a,null,r.a.createElement(Mt.a,{size:"large",onClick:u,style:{width:240,textTransform:"none",fontWeight:"bold",marginTop:Ia.test(E.email)?1:25},variant:"contained",color:"primary"},Be("app_sign_in")),E.onLoginErrorMessage?r.a.createElement(At.a,{error:!0,id:"password-helper-text"},E.onLoginErrorMessage):null)),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(gt.a,{variant:"caption"},Be("app_no_account")),r.a.createElement(Mt.a,{onClick:d,color:"primary",style:{textTransform:"none",fontWeight:"bold"}},Be("app_sign_up")))),r.a.createElement("br",null),r.a.createElement("br",null)))},Ta=(a(633),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Ra=/^(^\+62\s?|^0)(\d{3,4}-?){2}\d{3,4}$/,La=Le.gatewayRepoFile,wa=[{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:La+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ke.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net","https://ajirespati.github.io/"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:La+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:La+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",url:"GenericConfiguration",children:[]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],ka=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleResendOtp=function(e){var t=n.state.clientId;n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"",otp:""}));var a={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"},r=n.state.email,i=n.state.password;Ta.test(r)?(a.email=r,a.password=i):a.phone=r,localStorage.setItem("email",r),n.props._setUserInfo({email:r});var l={request:a,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:t}};n.props._setCompleteRequest(l)},n.handleSubmitOtp=function(e){if(n.state.otp){var t=n.state.clientId;n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus("");var a={request:{challenge:n.state.otp,otpID:n.props.userInfo.otpId,redirectURI:"http://www.alamanak.co.id"},serviceMethod:"POST",serviceCode:"OTP",customHeaders:{clientId:t}};n.props._setCompleteRequest(a)}},n.handleCancelOtp=function(){n.props._setUserOtpId(""),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))},n.handleSubmit=function(e){var t=window.location.origin;e.preventDefault();var a=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),a){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var r={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"},i=n.state.email,l=n.state.password;Ta.test(i)?(r.email=i,r.password=l,localStorage.setItem("email",i),n.props._setUserInfo({email:i})):r.phone="0"===i[0]?"+62"+i.slice(1):i;var o={request:r,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:a}};n.props._setCompleteRequest(o)}}else if("https://health.voltras.net"===t){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var s=n.state.email,c=n.state.password,m={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"};Ta.test(s)?(m.email=s,m.password=c,localStorage.setItem("email",s),n.props._setUserInfo({email:s})):m.phone="0"===s[0]?"+62"+s.slice(1):s;var u={request:m,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(u)}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.handleChange=function(e){return function(t){var a;if("password"===e&&0===t.target.value.length)n.setState(Object(p.a)(Object(p.a)({},n.state),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,"isError",!0),Object(y.a)(a,"passwordErrorMessage",Be("err_password_empty")),a)));else if("password"===e&&t.target.value.length<8){var r;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(r={},Object(y.a)(r,e,t.target.value),Object(y.a)(r,"isError",!0),Object(y.a)(r,"passwordErrorMessage",Be("err_not_six_char")),r)))}else if("email"===e){var i;if((Ta.test(t.target.value)||Ra.test(t.target.value))&&t.target.value.length>0)n.setState(Object(p.a)(Object(p.a)({},n.state),{},(i={},Object(y.a)(i,e,t.target.value),Object(y.a)(i,"isError",!1),Object(y.a)(i,"emailErrorMessage",""),i)));else if(0===t.target.value.length){var l;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(l={},Object(y.a)(l,e,t.target.value),Object(y.a)(l,"isError",!0),Object(y.a)(l,"emailErrorMessage",Be("err_email_phone_empty")),l)))}else{var o;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(o={},Object(y.a)(o,e,t.target.value),Object(y.a)(o,"isError",!0),Object(y.a)(o,"emailErrorMessage",Be("err_email_phone_format")),o)))}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},Object(y.a)({emailErrorMessage:"",passwordErrorMessage:"",isError:!1},e,t.target.value)))}},n.handleEnter=function(e){13===e.which&&"Enter"===e.key&&n.handleSubmit(e)},n.handleClickShowPassword=function(e){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{showPassword:!n.state.showPassword}))},n.handleRegister=function(e){e.preventDefault(),n.props.history.push("/Register")},n.handleClient=function(e){if(e){var t=[{label:"Voltras Health",clientId:"voltras-health"},{label:"Voltras Backoffice",clientId:"authentication-backoffice"},{label:"Dummy App",clientId:"cerita nya Almanak"}].filter((function(t){return t.label===e.name}))[0].clientId;n.setState(Object(p.a)(Object(p.a)({},n.state),{},{clientId:t,onLoginErrorMessage:""}))}},n.onRadioChange=function(e){e.preventDefault(),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{roleChoosen:e.target.value}))},n.handleChooseRole=function(){window.location.origin;var e=n.state.roleChoosen,t=n.props.userInfo.info.aud,a=$e(0,t,e),r={};a.length>0&&a.map((function(e){return r=Object(p.a)(Object(p.a)({},r),{},Object(y.a)({},e.url,!1))})),n.props._setMenuCollapseStatus(r),n.props._setUserMenu(a),n.props._setRoleUsed(e),localStorage.setItem("roleUsed",e),n.props._setPopChooseRole(!1),n.props.history.push("/Home")},n.handleDialogClose=function(){return n.setState(Object(p.a)(Object(p.a)({},n.state),{},{forgotOpen:!1}))},n.handleDialogSubmit=function(){var e=window.location.origin,t=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),t){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var a={request:{redirectURI:"http://www.alamanak.co.id",email:n.state.email},serviceMethod:"POST",serviceCode:"RESET_PASSWORD_REQUEST",customHeaders:{clientId:t}};n.props._setCompleteRequest(a),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))}}else if("https://health.voltras.net"===e){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var r={request:{email:n.state.email,redirectURI:"http://www.alamanak.co.id"},serviceMethod:"POST",serviceCode:"RESET_PASSWORD_REQUEST",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(r),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.submitChangePassword=function(e){var t=window.location.origin,a=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),a){e.redirectURI="http://www.alamanak.co.id",e.resetPasswordCode=n.props.userInfo.resetPasswordCode;var r={request:e,serviceMethod:"POST",serviceCode:"CHANGE_PASSWORD_REQUEST",customHeaders:{clientId:a}};n.props._setCompleteRequest(r)}else if("https://health.voltras.net"===t){e.redirectURI="http://www.alamanak.co.id",e.resetPasswordCode=n.props.userInfo.resetPasswordCode;var i={request:e,serviceMethod:"POST",serviceCode:"CHANGE_PASSWORD_REQUEST",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(i)}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.handleGoogleLogin=function(e){var t={request:e,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(t)},n.handleForgotOpen=function(){return n.setState(Object(p.a)(Object(p.a)({},n.state),{},{forgotOpen:!0}))},n.state={otp:"",otpErrorMessage:"",email:"",emailErrorMessage:"",password:"",passwordErrorMessage:"",showPassword:!1,clientId:"",clientIdErrorMessage:"",onLoginErrorMessage:"",isError:!0,roleChoosen:"",forgotOpen:!1},n}return Object(B.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=window.location.origin;if(this.props._setOpenScreen("Login"),this.props._setUserMenu(We),null===this.props.system.appConstant){var t=wa.filter((function(t){return t.domain.includes(e)}));this.props._setAppConstant(t[0]?t[0]:wa[0]),function(e,t){var a=[];"voltras-health"===t?a=e.map((function(e){return"Clinic"===e.label&&(e.label="Clinic Management"),e})):a=e}(t[0]?t[0].loggedMenu:wa[0].loggedMenu,t[0]?t[0].aud:wa[0].aud)}}},{key:"componentDidMount",value:function(){this.props._setOpenScreen("Login");var e=navigator.language;this.props._setLocale(e);var t=this.props.system.appConstant?this.props.system.appConstant.aud:null,a={request:{},serviceMethod:"GET",serviceCode:"REQ_AUTH_GOOGLE_PARAMS",serviceParams:"?redirectURI=http://www.alamanak.co.id",customHeaders:{clientId:t}};t&&this.props._setCompleteRequest(a);var n=this.props.userInfo.verificationCode?this.props.userInfo.verificationCode:"",r={request:{redirectURI:"http://www.alamanak.co.id",verificationCode:n},serviceMethod:"POST",serviceCode:"VERIFICATION_CHECK",serviceParams:"/email"};n&&(this.props._setCompleteRequest(r),this.props._setVerificationCode(null))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.system;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement(Yt.a,{style:{visibility:a.serviceStart&&"Login"===a.openScreen?"visible":"hidden"},color:"secondary",size:30,thickness:5})),r.a.createElement($t,{open:this.state.forgotOpen,handleDialogClose:this.handleDialogClose,dialogTitle:"Change password request",dialogContent:"A confirmation email will be sent to: ".concat(this.state.email),cancelTitle:"Cancel",submitTitle:"Send",handleDialogSubmit:this.handleDialogSubmit}),this.props.userInfo.resetPasswordCode?r.a.createElement(ga,{formLabel:Be("common_change_password"),submitChangePassword:this.submitChangePassword,state:this.state,handleClient:this.handleClient}):r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(Ft.a,{mdDown:!0},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:600}},r.a.createElement("br",null),r.a.createElement("div",{style:{marginTop:100}},r.a.createElement(gt.a,{variant:"subtitle2"},Be("app_welcome")),r.a.createElement(gt.a,{variant:"h4",color:"primary"},a.appConstant?a.appConstant.welcome:"")))),r.a.createElement("div",{style:{alignSelf:"center",justifySelf:"center"}},r.a.createElement("br",null),this.props.system.popChooseRole?r.a.createElement(Oa,{onRadioChange:this.onRadioChange,userInfo:this.props.userInfo,state:this.state,handleChooseRole:this.handleChooseRole,classes:t.root}):this.props.userInfo.otpId?r.a.createElement(va,{classes:t.root,state:this.state,handleChange:this.handleChange,handleCancelOtp:this.handleCancelOtp,handleSubmitOtp:this.handleSubmitOtp,handleResendOtp:this.handleResendOtp}):r.a.createElement(Sa,Object.assign({handleChange:this.handleChange,handleClient:this.handleClient,handleGoogleLogin:this.handleGoogleLogin,handleEnter:this.handleEnter,handleClickShowPassword:this.handleClickShowPassword,handleMouseDownPassword:this.handleMouseDownPassword,handleSubmit:this.handleSubmit,handleRegister:this.handleRegister,handleForgotOpen:this.handleForgotOpen,state:this.state,setState:this.setState},this.props)))),r.a.createElement("div",{style:{height:window.screen.height-500}}))}}]),a}(n.Component),Ma=Object(o.b)((function(e){return{system:e.system,userInfo:e.userInfo,menu:e.menu}}),(function(e){return{_setLocale:function(t){return e(je(t))},_setVerificationCode:function(t){return e(se(t))},_setServiceMethod:function(t){return e(X(t))},_setRequest:function(t){return e(Q(t))},_setServiceCode:function(t){return e(J(t))},_setServiceStatus:function(t){return e(Y(t))},_setServiceCustomHeaders:function(t){return e(Z(t))},_setOpenScreen:function(t){return e(ve(t))},_setUserInfo:function(t){return e(ne(t))},_setUserOtpId:function(t){return e(ie(t))},_setAppConstant:function(t){return e(ye(t))},_setUserMenu:function(t){return e(ce(t))},_setRoleUsed:function(t){return e(le(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_dispatchLogout:function(){return e({type:"LOGOUT"})},_setPopChooseRole:function(t){return e(Ce(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e(Y(t.serviceStatus||"active"))}}}))(ka),xa=Object(ot.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",width:285},margin:{margin:e.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"30ch"}}}))(Ma),Da=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.phone,i=t.email,l=t.password,o=t.confirmPassword,s=t.isError;if(a&&i&&l&&o&&!s){var c={name:a,email:i,password:l,redirectURI:"http://www.alamanak.co.id"};r&&(c.phone="0"===r[0]?"+62"+r.slice(1):r),n.props._setRequest(c),n.props._setServiceCode("register"),n.props._setServiceCustomHeaders({clientId:"voltras-health"}),n.props._setServiceStatus("active")}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{isError:!0,submitErrorMessage:Be("err_submit")}))},n.handleChange=function(e){return function(t){var a,r,i=pa(e,t.target.value);if("confirmPassword"===e)n.state.password!==t.target.value?n.setState(Object(p.a)(Object(p.a)({},n.state),{},(a={isError:!0},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage",Be("password confirmation not match")),a))):n.setState(Object(p.a)(Object(p.a)({},n.state),{},(r={isError:!1},Object(y.a)(r,e,t.target.value),Object(y.a)(r,e+"ErrorMessage",""),Object(y.a)(r,"submitErrorMessage",""),r)));else if("phone"!==e||t.target.value){var l;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(l={},Object(y.a)(l,e,t.target.value),Object(y.a)(l,e+"ErrorMessage",i.errorMessage),Object(y.a)(l,"isError",i.error),Object(y.a)(l,"submitErrorMessage",""),l)))}else{var o;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(o={isError:!1},Object(y.a)(o,e,t.target.value),Object(y.a)(o,e+"ErrorMessage",""),Object(y.a)(o,"submitErrorMessage",""),o)))}}},n.handleGoogleLogin=function(e){var t={request:e,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(t)},n.state={name:null,nameErrorMessage:"",phone:null,phoneErrorMessage:"",email:"",emailErrorMessage:"",password:"",passwordErrorMessage:"",confirmPassword:"",confirmPasswordErrorMessage:"",showPassword:!1,showConfirm:!1,isError:!0,submitErrorMessage:""},n}return Object(B.a)(a,[{key:"handleMouseDownPassword",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(xt.a,{className:t.root,elevation:4},r.a.createElement(Dt.a,{style:{width:320,textAlign:"center"}},r.a.createElement(gt.a,{color:"primary",variant:"h5",style:{marginBottom:15}},r.a.createElement("b",null,Be("app_sign_up"))," "),r.a.createElement(jt.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Ca,{params:this.props.system.googleParams,handleGoogleLogin:this.handleGoogleLogin,buttonText:Be("common_signup_with"),width:280}),r.a.createElement(gt.a,{variant:"subtitle2",style:{marginTop:20}},Be("common_or")),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.nameErrorMessage,htmlFor:"standard-adornment-password"},Be("app_name")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Pt.a,{error:!!this.state.nameErrorMessage,id:"standard-adornment-name",type:"text",onChange:this.handleChange("name")}),this.state.nameErrorMessage?r.a.createElement(At.a,{error:!0,id:"name-helper-text"},this.state.nameErrorMessage):null),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.emailErrorMessage,htmlFor:"standard-adornment-password"},Be("app_email")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Pt.a,{error:!!this.state.emailErrorMessage,id:"standard-adornment-email",type:"text",onChange:this.handleChange("email")}),this.state.emailErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},this.state.emailErrorMessage):null),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.phoneErrorMessage,htmlFor:"standard-adornment-password"},Be("app_phone")),r.a.createElement(Pt.a,{error:!!this.state.phoneErrorMessage,id:"standard-adornment-phone",type:"text",onChange:this.handleChange("phone")}),this.state.phoneErrorMessage?r.a.createElement(At.a,{error:!0,id:"phone-helper-text"},this.state.phoneErrorMessage):r.a.createElement(At.a,{id:"phone-helper-text"},Be("app_not_mandatory"))),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.passwordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Pt.a,{error:!!this.state.passwordErrorMessage,id:"standard-adornment-password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handleChange("password"),endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle password visibility",onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showPassword:!e.state.showPassword}))},onMouseDown:this.handleMouseDownPassword},this.state.showPassword?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}),this.state.passwordErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},this.state.passwordErrorMessage):null),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.confirmPasswordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password_confirmation")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Pt.a,{error:!!this.state.confirmPasswordErrorMessage,id:"standard-adornment-confirm",type:this.state.showConfirm?"text":"password",onChange:this.handleChange("confirmPassword"),endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle confirm visibility",onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showConfirm:!e.state.showConfirm}))},onMouseDown:this.handleMouseDownPassword},this.state.showConfirm?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}),this.state.confirmPasswordErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},this.state.confirmPasswordErrorMessage):null),r.a.createElement(Mt.a,{fullWidth:!0,onClick:this.handleSubmit,variant:"contained",color:"primary",style:{textTransform:"none",fontWeight:"bold",marginTop:20}},Be("app_sign_up")),this.state.submitErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},this.state.submitErrorMessage):null),r.a.createElement(jt.a,null,r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(gt.a,{variant:"caption"},Be("app_have_account")),r.a.createElement(Mt.a,{onClick:function(){return e.props.history.push("/Login")},color:"primary",style:{textTransform:"none",fontWeight:"bold"}},Be("app_sign_in"))))))))}}]),a}(n.Component),Pa=Object(o.b)((function(e){return{system:e.system}}),(function(e){return{_setRequest:function(t){e(Q(t))},_setServiceRole:function(t){e(ee(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Y(t))},_setOpenScreen:function(t){e(ve(t))},_setServiceCustomHeaders:function(t){return e(Z(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e(Y(t.serviceStatus||"active"))}}}))(Da),Ua=Object(ot.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}}))(Pa),Aa=a(83),Na=a(34),qa=a(341),Fa=a(354),Ha=a(499),Ba=a(67),Ga=a.n(Ba),Va=a(140),Wa=a.n(Va),za=function(e){return parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR",minimumFractionDigits:0})},Ka=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+Number(t.getMonth()+1):Number(t.getMonth()+1))+"-"+(t.getDate()<10?"0"+Number(t.getDate()):Number(t.getDate()))},Qa=function(e,t){return new Date(e).getTime()+24*parseInt(t)*60*60*1e3},Ya=function(e){var t=new Date(e),a=new Date;return t<new Date(a.getTime())},Ja=function(e){var t=new Date,a=new Date(t.getTime()),n=new Date(t.getTime()+6048e5),r=new Date(t.getTime()-6048e5),i=new Date(t.getTime()+316224e5);switch(e){case"now":return Ka(a);case"nextWeek":return Ka(n);case"lastWeek":return Ka(r);case"nextYear":return Ka(i);default:return"params not defined"}};var Xa=function(e){return new Promise((function(t,a){var n=new FileReader,r=document.createElement("canvas"),i=null,l=new Image,o=null;r.id="hiddenCanvas",r.style.visibility="hidden",document.body.appendChild(r),i=r.getContext("2d"),e.type.match("image.*")?n.readAsDataURL(e):t({message:"File is not an image"}),n.onload=function(){var e=this.result;l.src=e},n.onabort=function(){t({message:"The upload was aborted."})},n.onerror=function(){t({message:"An error occured while reading the file."})},l.onload=function(){if(0==this.width||0==this.height)t({message:"Image is empty."});else{var e=this.width,a=this.height,n=Math.min(250/e,200/a),s=e*n,c=a*n;r.width=s,r.height=c,i.clearRect(0,0,s,c),i.drawImage(l,0,0,this.width,this.height,0,0,s,c),o=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:a})}(r.toDataURL(l)),t({message:null,blobUrl:$a(r.toDataURL(l)),file:o})}},l.onabort=function(){t({message:"The upload was aborted."})},l.onerror=function(){t({message:"An error occured while loading image."})}}))},$a=function(e){for(var t=atob(e.split(",")[1]),a=new ArrayBuffer(t.length),n=new Uint8Array(a),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);var i=e.split(",")[0].split(";")[0].split(":")[1],l=new Blob([a],{type:i});return URL.createObjectURL(l)},Za=Wa.a.ExcelFile,en=Wa.a.ExcelFile.ExcelSheet,tn=Ja("lastWeek"),an=Ja("nextYear"),nn=new Date,rn=new Date(nn.getTime()-6048e5),ln=new Date(nn.getTime()+6048e5),on=function(e){var t=Object.assign({},e),a=t.paxList,i=t.history,l=t._setPaxList,o=t._setOpenScreen,s=t.userInfo,c=t._setCompleteRequest,m=Object(n.useState)({order:-1,"Booking Datefromdate":rn,"Booking Datetodate":ln,"Test Datefromdate":rn,"Test Datetodate":ln,"Redeem Datefromdate":rn,"Redeem Datetodate":ln,fromdate:rn,todate:ln,open:!1,name:"","Test Date":!0,"Booking Date":!1,"Redeem Date":!1,Paid:!1,New:!1,finish:!1,dataset:[],simpleTable:[],currentList:[],listLengthById:0}),u=Object(it.a)(m,2),d=u[0],E=u[1],f=[{title:"ID",field:"id"},{title:Be("clinic_test_date"),field:"testdate"},{title:Be("app_name"),field:"name"},{title:Be("clinic_birth_date"),field:"date_of_birth"},{title:"Status",field:"status"},{title:Be("clinic"),field:"klinikname"},{title:Be("clinic_redeem_date"),field:"redeem_on"},{title:Be("clinic_redeem_by"),field:"redeem_by"}];Object(n.useEffect)((function(){var e=a.list;if(localStorage.getItem("accessToken"))if(o(Be("clinic_order_list")),Array.isArray(e)&&e.length>0){var t=e.filter((function(e){return"UNCONFIRMED"!==e.status&&e.payment})),n=function(e){var t=[];return e&&e.forEach((function(e){return e.items&&e.items.forEach((function(a){var n={id:e.id,testdate:a.products[0].testdate,name:a.name,date_of_birth:a.date_of_birth,status:a.status?"FINISH"===a.status.toUpperCase()?"REDEEMED":a.status.toUpperCase():"",klinikname:a.products[0].klinik.name,redeem_on:a.redeem?Ka(a.redeem.redeem_on):"-",redeem_by:a.redeem?a.redeem.redeem_by:"-"};t.push(n)}))})),t}(t),r=function(e){var t=[];return e.forEach((function(e){var a=[];a.push({value:e.id}),a.push({value:e.testdate}),a.push({value:e.name}),a.push({value:e.date_of_birth}),a.push({value:e.status}),a.push({value:e.klinikname}),a.push({value:e.redeem_on}),a.push({value:e.redeem_by}),t.push(a)})),[{ySteps:1,columns:[{title:"OrderID",width:{wch:7}},{title:"Order Date",width:{wch:12}},{title:"Name",width:{wch:20}},{title:"Birth Date",width:{wch:12}},{title:"Status",width:{wch:12}},{title:"Clinic",width:{wch:40}},{title:"Redeem Date",width:{wch:12}},{title:"Redeem By",width:{wch:12}}],data:t}]}(n);E((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:n,dataset:r,listLengthById:t.length})}))}else E((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:[],dataset:[],listLengthById:0})}));else i.push("/")}),[a.list,i,o]),Object(n.useEffect)((function(){var e=s,t=e.info.name,a=e.info.email,n=e.info.phone,r={name:t,email:a};n&&(r.phone=n);var i={request:{},method:"GET",serviceCode:"healthOrder",params:"/list?&testdate_from=".concat(tn,"&testdate_to=").concat(an),customHeaders:r};c(i)}),[l,c,s]);var g=function(e){return function(n){var r=a.list.filter((function(t){return t.id===e}));console.log(r),t._setPaxDetail(r[0]),r.length>0&&i.push("/PaxDetail")}},h=function(e){return function(t){E(Object(p.a)(Object(p.a)({},d),{},Object(y.a)({},e,t)))}},b=function(){E(Object(p.a)(Object(p.a)({},d),{},{open:!1}))},_=function(e){return function(t){E("Paid"===e||"New"===e||"finish"===e||"Booking Date"===e||"Test Date"===e||"Redeem Date"===e?Object(p.a)(Object(p.a)({},d),{},Object(y.a)({},e,!d[e])):Object(p.a)(Object(p.a)({},d),{},Object(y.a)({},e,t.target.value)))}},O=function(){var e=t.userInfo,a=e.info.name?e.info.name:"",n=e.info.email?e.info.email:"",r=e.info.phone?e.info.phone:"",i=Ka(d["Booking Datefromdate"]),l=Ka(d["Booking Datetodate"]),o=Ka(d["Test Datefromdate"]),s=Ka(d["Test Datetodate"]),c=Ka(d["Redeem Datefromdate"]),m=Ka(d["Redeem Datetodate"]),u=d["Booking Date"]?"&paymentdate_from=".concat(i,"&paymentdate_to=").concat(l):"",f=d["Test Date"]?"&testdate_from=".concat(o,"&testdate_to=").concat(s):"",g=d["Redeem Date"]?"&redeemdate_from=".concat(c,"&redeemdate_to=").concat(m):"",h=d.Paid&&!d.finish?"&status=PAID":!d.Paid&&d.finish?"&status=FINISH":(d.Paid&&d.finish,""),b=d.name?"&name=".concat(d.name):"",_=u||f||g||h||b,O={name:a,email:n};r&&(O.phone=r);var v={request:{},method:"GET",serviceCode:"healthOrder",params:_?"/list?"+(u||"")+(f||"")+(g||"")+(h||"")+(b||""):"/list?&paymentdate_from=".concat(i,"&paymentdate_to=").concat(l),customHeaders:O};t._setCompleteRequest(v),E(Object(p.a)(Object(p.a)({},d),{},{open:!1}))},v=a.list,C=a.filteredList,j=C[0]?C:v;return r.a.createElement("div",null,r.a.createElement(Tt.a,{open:d.open,onClose:b,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(kt.a,{id:"responsive-dialog-title"},"Filter by:"),r.a.createElement(Lt.a,null,r.a.createElement(gt.a,{variant:"subtitle2"},Be("clinic_test_request_date")),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0},r.a.createElement(qa.b,{size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"normal",id:"date-picker-from",label:Be("app_from"),value:d.fromdate,onChange:h("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0},r.a.createElement(qa.b,{clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"normal",id:"date-picker-to",label:Be("app_to"),value:d.todate,onChange:h("todate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Nt.a,{fullWidth:!0},r.a.createElement(Fa.a,null,r.a.createElement(Ut.a,{error:!!d.emailErrorMessage,htmlFor:"standard-adornment-password"},Be("app_name")),r.a.createElement(Pt.a,{error:!!d.emailErrorMessage,id:"standard-adornment-email",type:"text",onChange:_("name")}),d.emailErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},d.emailErrorMessage):null),r.a.createElement(gt.a,{style:{marginTop:15},variant:"subtitle2"},"Status:"),r.a.createElement(Nt.a,null,r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{checked:d.New,onChange:_("New"),name:"New"}),label:Be("app_new")}),r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{checked:d.finish,onChange:_("finish"),name:"finish"}),label:"Redeemed"})))),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{autoFocus:!0,onClick:function(){E(Object(p.a)(Object(p.a)({},d),{},{order:1,fromdate:rn,todate:ln,open:!1,name:"",New:!1,finish:!1,4:!1,5:!1}))},color:"primary"},"Reset"),r.a.createElement(Mt.a,{autoFocus:!0,onClick:b,color:"primary"},Be("app_cancel")),r.a.createElement(Mt.a,{autoFocus:!0,onClick:O,color:"primary"},Be("app_submit")))),r.a.createElement(Ft.a,{xsDown:!0},r.a.createElement(jt.a,{container:!0,style:{marginTop:5}},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:5}},r.a.createElement(jt.a,{item:!0,sm:d["Booking Date"]||d["Test Date"]||d["Redeem Date"]?6:3},r.a.createElement(jt.a,{container:!0,direction:"row"},r.a.createElement(gt.a,{variant:"subtitle1"},"Filter:"),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Nt.a,{style:{marginLeft:25,marginTop:2}},r.a.createElement(gt.a,{variant:"subtitle2"},"Date:"),["Test Date","Redeem Date"].map((function(e,t){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(jt.a,{item:!0,style:{width:150,marginRight:15}},r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{size:"small",checked:d[e],onChange:_(e),name:e}),label:e})),r.a.createElement(jt.a,{item:!0,style:{display:d[e]?"":"none"}},r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0},r.a.createElement(qa.b,{style:{width:150,marginRight:15},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from"+e,label:Be("app_from"),value:d[e+"fromdate"],onChange:h(e+"fromdate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(jt.a,{item:!0,style:{display:d[e]?"":"none"}},r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0},r.a.createElement(qa.b,{style:{width:150,marginRight:15},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to"+e,label:Be("app_to"),value:d[e+"todate"],onChange:h(e+"todate"),KeyboardButtonProps:{"aria-label":"change date"}})))))})))))),r.a.createElement(jt.a,{item:!0,sm:2},r.a.createElement(Nt.a,{style:{marginLeft:15,marginTop:30},fullWidth:!0},r.a.createElement(gt.a,{variant:"subtitle2"},"Status:"),r.a.createElement(Nt.a,null,r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{size:"small",checked:d.Paid,onChange:_("Paid"),name:"Paid"}),label:Be("app_paid")}),r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{size:"small",checked:d.finish,onChange:_("finish"),name:"finish"}),label:"Redeemed"})))),r.a.createElement(jt.a,{item:!0,sm:2},r.a.createElement(jt.a,{style:{marginTop:40},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0},r.a.createElement(Za,{filename:"OrderReport",element:r.a.createElement(Mt.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(en,{dataSet:d.dataset,name:"Order Report"}))),r.a.createElement(jt.a,{item:!0},r.a.createElement("br",null)),r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{size:"small",variant:"contained",onClick:O,color:"primary"},Be("app_submit_filter")))))),r.a.createElement(jt.a,{item:!0,sm:12,container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:5}},r.a.createElement(Ga.a,{style:{width:"100%"},title:"TOTAL ORDER BY ID: ".concat(d.listLengthById.toString()," "),columns:f,data:d.simpleTable,onRowClick:function(e,t){return function(e){console.log(e);var t=s,a=t.info.name,n=t.info.email,r=t.info.phone,i={name:a,email:n};r&&(i.phone=r);var l=e.id,o={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(l),customHeaders:i};c(o)}(t)},options:{padding:"dense"}})),r.a.createElement(jt.a,{container:!0},r.a.createElement("div",{style:{height:20}})))),r.a.createElement(Ft.a,{smUp:!0},r.a.createElement("div",null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",style:{marginTop:10}},r.a.createElement(jt.a,{item:!0},r.a.createElement(qt.a,{onClick:function(){E(Object(p.a)(Object(p.a)({},d),{},{order:1,fromdate:rn,todate:ln,open:!0,name:"",New:!1,finish:!1}))},component:"button",variant:"subtitle1"},r.a.createElement("b",null,"Filter")," ")),r.a.createElement(jt.a,{item:!0},r.a.createElement(qt.a,{onClick:function(){},component:"button",variant:"subtitle1"},r.a.createElement("b",null,"Export")," "))),j.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(xt.a,{onClick:g(e),style:{marginBottom:10}},r.a.createElement(Dt.a,null,r.a.createElement(qt.a,{component:"button",variant:"subtitle1",style:{marginBottom:10}},r.a.createElement("b",null,"OrderId: ",e.id," ")," "),e.items?e.items.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:5},r.a.createElement(gt.a,{variant:"caption"},Be("app_name"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:6},r.a.createElement(gt.a,{variant:"caption"},e.name))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:5},r.a.createElement(gt.a,{variant:"caption"},Be("clinic_birth_date"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:6},r.a.createElement(gt.a,{variant:"caption"},e.date_of_birth))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:5},r.a.createElement(gt.a,{variant:"caption"},"Status")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:6},r.a.createElement(gt.a,{variant:"caption"},e.status?e.status.toUpperCase():"NEW"))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:5},r.a.createElement(gt.a,{variant:"caption"},Be("clinic_order_date"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:6},r.a.createElement(gt.a,{variant:"caption"},e.products[0].testdate))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:5},r.a.createElement(gt.a,{variant:"caption"},Be("clinic"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:6},r.a.createElement(gt.a,{variant:"caption"},e.products[0].klinik.name?e.products[0].klinik.name:"KLINIK NAME"))),r.a.createElement(ht.a,{style:{margin:10}}))})):null)))})))),r.a.createElement("div",{style:{height:window.screen.height-700}}))},sn=Object(o.b)((function(e){return{paxList:e.paxList,userInfo:e.userInfo}}),(function(e){return{_setPaxList:function(t){e(ue(t))},_setFilteredList:function(t){e(function(e){return{type:"SET_FILTERED_LIST",val:e}}(t))},_setPaxDetail:function(t){e(de(t))},_setOpenScreen:function(t){e(ve(t))},_setRequest:function(t){e(Q(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Y(t))},_setServiceMethod:function(t){e(X(t))},_setServiceParams:function(t){e($(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Y("active"))}}}))(on),cn=a(25),mn=a(765),un=a(39),dn=a(41),pn=a.n(dn),En=Ja("now"),fn=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),gn=function(e){var t=Object.assign({},e),a=t.cityList,i=t.klinikList,l=t._setCompleteRequest,o=t._setSecondRequest,s=t.open,c=t.userInfo,m=t.item,u=t.roleUsed,d=Object(n.useState)({city:"",product:{},klinikList:[],fromdate:En,fromdateErrorMessage:"",originDate:"",minDate:"",maxValidDate:"",email:"",emailErrorMessage:"",reason:"",reasonErrorMessage:"",clinic_id:0,order_id:0,item_id:0,submitErrorMessage:""}),E=Object(it.a)(d,2),f=E[0],g=E[1];Object(n.useEffect)((function(){var e=f.fromdate,t=["2020-10-29"],a=["2020-10-28","2020-10-30","2020-10-31"],n=[270,272,273,274,282,300,8,5,6],r=[274,300,5],i=[270,271,275,6],l=[282,8],o=parseInt(f.product.clinic_id),s=parseInt(f.clinic_id),c=new Date(e).getDay();console.log(c,o,s),s?0===c&&n.includes(s)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"New clinic close on Sunday, please choose another date."})):6===c&&r.includes(s)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"New Clinic close on Saturday, please choose another date."})):t.includes(e)&&!i.includes(s)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"New Clinic close on Holiday, please choose another date."})):a.includes(e)&&l.includes(s)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"New Clinic close on Extra Holiday, please choose another date."})):282===s&&"PCR Covid - 19 Test"===f.product.product_name?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Product not available, please choose another clinic."})):g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:""})):0===c&&n.includes(o)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Clinic close on Sunday, please choose another date."})):6===c&&r.includes(o)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Clinic close on Saturday, please choose another date."})):t.includes(e)&&!i.includes(o)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Clinic close on Holiday, please choose another date."})):a.includes(e)&&l.includes(o)?g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Clinic close on Extra Holiday, please choose another date."})):g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:""}))}),[f.fromdate,f.clinic_id,f.product,f.city]),Object(n.useEffect)((function(){var e=m;if(e){var t=e.order_id,a=e.item_id,n=e.valid_until,r=e.payment,l=e.testdate,o=Ya(r.date)?Ka(Qa(En,1)):Ka(Qa(r.date,1));g((function(r){return Object(p.a)(Object(p.a)({},r),{},{klinikList:i,order_id:t,item_id:a,product:e,minDate:o,fromdate:o,originDate:l,maxValidDate:n})})),console.log("BEFORE NOW? ",Ya(r.date))}}),[m]),Object(n.useEffect)((function(){1===i.length&&g((function(e){return Object(p.a)(Object(p.a)({},e),{},{klinikList:i,clinic_id:i[0].id})}))}),[i]);var h,b=function(){t.handleClose()},_=function(e){return function(t){var a;t.preventDefault();var n=t.target.value,r=pa(e,n);g(Object(p.a)(Object(p.a)({},f),{},(a={},Object(y.a)(a,e,n),Object(y.a)(a,e+"ErrorMessage",n?r.errorMessage:""),Object(y.a)(a,"notComplete",!1),a)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:s,onClose:b,scroll:"paper"},r.a.createElement(fn,{id:"max-width-dialog-title",onClose:b},t.label),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,sm:12},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Clinic")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(gt.a,null,r.a.createElement("b",null,f.product.clinic?f.product.clinic.name:"")))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Product Name")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(gt.a,null,r.a.createElement("b",null,f.product.product_name)))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Test Date")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(gt.a,null,r.a.createElement("b",null,f.originDate)))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Reschedule valid until")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(gt.a,null,r.a.createElement("b",null,f.maxValidDate)))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Reschedule Date")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0},r.a.createElement(qa.b,{autoOk:!0,minDate:f.minDate,maxDate:f.maxValidDate,error:!!f.fromdateErrorMessage,helperText:f.fromdateErrorMessage?f.fromdateErrorMessage:"",style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",value:f.fromdate,onChange:(h="fromdate",function(e){var t,a;new Date(e)>Qa(m.valid_until,0)?g(Object(p.a)(Object(p.a)({},f),{},(t={},Object(y.a)(t,h+"ErrorMessage","Reschedule date not valid"),Object(y.a)(t,h,Ka(e)),t))):g(Object(p.a)(Object(p.a)({},f),{},(a={},Object(y.a)(a,h+"ErrorMessage",""),Object(y.a)(a,h,Ka(e)),a)))}),KeyboardButtonProps:{"aria-label":"change date"},disablePast:!0}))))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"User Email")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Email",onChange:_("email"),value:f.email,error:!!f.emailErrorMessage,helperText:f.emailErrorMessage?f.emailErrorMessage:""}))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Reschedule Reason")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Reschedule Reason",multiline:!0,onChange:_("reason"),value:f.reason,error:!!f.reasonErrorMessage,helperText:f.reasonErrorMessage?f.reasonErrorMessage:""}))),r.a.createElement(jt.a,{style:{visibility:"voltras.admin"===u?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Change Clinic")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(fa,{id:"changeClinicChooseCity",options:a[0]?a:[],optionItem:"city",notShrink:!0,handleInputChange:function(e){var t={name:c.name,email:c.email};c.phone&&(t.phone=c.phone);var a={request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=".concat(e),customHeaders:t};e&&l(a)},onPick:function(e){var t={name:c.name,email:c.email};if(c.phone&&(t.phone=c.phone),e&&e.city){g(Object(p.a)(Object(p.a)({},f),{},{city:e.city,submitErrorMessage:""}));var a={request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",params:"/cities/".concat(e.city,"/clinics"),customHeaders:t};l(a)}else{l({request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",params:"/cities/none/clinics",customHeaders:t}),g(Object(p.a)(Object(p.a)({},f),{},{city:"",clinic_id:0,submitErrorMessage:""}))}}}))),r.a.createElement(jt.a,{style:{visibility:"voltras.admin"===u?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5}),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"}),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},i[0]&&i[0].name&&i.length>1?r.a.createElement(fa,{id:"changeClinicChooseClinic",options:i,optionItem:"name",notShrink:!0,handleInputChange:function(e){},onPick:function(e){e&&e.id?g(Object(p.a)(Object(p.a)({},f),{},{clinic_id:e.id,submitErrorMessage:""})):g(Object(p.a)(Object(p.a)({},f),{},{clinic_id:0,submitErrorMessage:""}))}}):i[0]&&i[0].name&&1===i.length?r.a.createElement(Zt.a,{focused:!1,value:i[0].name,fullWidth:!0}):null))))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:5,marginBottom:5}},r.a.createElement(gt.a,{color:"error",style:{visibility:f.submitErrorMessage?"visible":"hidden"},variant:"subtitle2"},f.submitErrorMessage),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Mt.a,{variant:"outlined",color:"primary",onClick:function(e){e.preventDefault();var a={name:c.name,email:c.email};c.phone&&(a.phone=c.phone);var n={request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",urlParams:"/cities/none/clinics",customHeaders:a};l({request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=a",customHeaders:a}),o(n);var r=m.payment,i=Ya(r.date)?Ka(Qa(En,1)):Ka(Qa(r.date,1));g(Object(p.a)(Object(p.a)({},f),{},{clinic_id:0,city:"",submitErrorMessage:"",minDate:i,fromdate:i})),t.handleClose()},style:{marginRight:5}},Be("app_cancel")),r.a.createElement(Mt.a,{disabled:!!f.submitErrorMessage,variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var a={name:c.name,email:c.email};c.phone&&(a.phone=c.phone);var n={request:{testdate:f.fromdate,email:f.email?f.email:null,clinic:f.clinic_id?parseInt(f.clinic_id):null,reason:f.reason?f.reason:null},method:"PATCH",serviceCode:"RESCHEDULE_ORDER",params:"/".concat(f.order_id,"/").concat(f.item_id),customHeaders:a};f.fromdate&&f.order_id&&f.item_id?(l(n),t.handleClose()):g(Object(p.a)(Object(p.a)({},f),{},{submitErrorMessage:"Form error, please check your form"}))},style:{marginLeft:5}},"Reschedule")))),console.log("STATE: ",f))},hn=Le.gatewayRepoFile,bn=/^[0-9a-zA-Z]*$/,_n=Object(o.b)((function(e){return{parentList:e.paxList.parentList,cityList:e.paxList.cityList,klinikList:e.paxList.klinikList,detail:e.paxList.detail,product:e.paxList.product,userInfo:e.userInfo.info,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setParentList:function(t){return e(be(t))},_setSnackbar:function(t){return e(_e(t))},_setRequest:function(t){e(Q(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Y(t))},_setOpenScreen:function(t){e(ve(t))},_setServiceStart:function(){e({type:"SERVICE_START"})},_setServiceEnd:function(){e({type:"SERVICE_END"})},_setDialog:function(t){e(Oe(t))},_setPaxList:function(t){e(ue(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Y("active"))},_setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t.detail,l=t.userInfo,o=t._setCompleteRequest,s=t.history,c=t._setServiceStatus,m=t.parentList,u=t._setSnackbar,d=t._setParentList,E=Object(n.useState)({submitErrorMessage:"",open:!1,openRedeemDialog:!1,fullName:"",redeemBy:"",member:[],memberStatus:[],errorMessage:"",clickedItem:0,fileSelected:[],clickedFile:0,rescheduleDialog:!1,items:[],item:null,redeemArr:[],errorArr:[],onPick:!1,showAutoId:!1}),f=Object(it.a)(E,2),g=f[0],h=f[1];Object(n.useEffect)((function(){window.scrollTo(0,0),a("Details");var e=i||[],t=i&&i[0]?i[0]:{},n=t.order_id,r=t.contact,s=[],c=[],m=[];e.length>0&&(e.forEach((function(e){s.push(!1),c.push(e.status),m.push(!1)})),h(Object(p.a)(Object(p.a)({},g),{},{member:s,memberStatus:c,fileSelected:m,order_id:n,contact:r,items:i})));var u=l.name,d=l.email,E=l.phone,f={name:u,email:d};E&&(f.phone=E),o({request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=a",customHeaders:f})}),[]);var b=function(e){return function(t){return h(Object(p.a)(Object(p.a)({},g),{},{open:!0,clickedItem:e}))}},_=function(){return h(Object(p.a)(Object(p.a)({},g),{},{open:!1,rescheduleDialog:!1}))},O=function(){var e=[];i.map((function(t){return e.push(!1)})),h(Object(p.a)(Object(p.a)({},g),{},{openRedeemDialog:!1,member:e,redeemArr:[],redeemBy:"",errorMessage:""}))},v=function(e,t){return function(a){if(console.log(e,t,a.target.value),"redeemBy"===e)h(Object(p.a)(Object(p.a)({},g),{},{redeemBy:a.target.value,errorMessage:""}));else if("person_id_no"===e){console.log("MASUK SINI BOS?");var n=Object(cn.a)(g.redeemArr);n[t]=Object(p.a)(Object(p.a)({},n[t]),{},{person_id_type:"",person_id_no:""}),d([]),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:"",onPick:!1,showAutoId:!0}))}else{var r=Object(cn.a)(g.redeemArr);r[t]=Object(p.a)(Object(p.a)({},r[t]),{},Object(y.a)({},e,a.target.value));var i=r;h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:i,errorMessage:"",showAutoId:!1}))}}},C=function(e){return function(t){var a={person_id_type:"",person_id_no:0,kinship:"",person_id_name:""},n=g.member;n[e]=!n[e];var r=n.map((function(e){return e?a:e})),i={err_message:""},l=n.map((function(e){return e?i:e}));h(Object(p.a)(Object(p.a)({},g),{},{member:n,errorMessage:"",redeemArr:r,errorArr:l}))}},j=function(e){return function(t){h(Object(p.a)(Object(p.a)({},g),{},{item:e,rescheduleDialog:!g.rescheduleDialog}))}},I=function(e,t){var a=t,n=Object(cn.a)(g.redeemArr);if(e){var r=e.as;if("SELF"===r){var i=l.name,o=l.email,s=l.phone,c={name:i,email:o};s&&(c.phone=s);var m=g.items[a].person_name,u="/list?&name=".concat(m);Ge({},"GET","GET_PARENT_LIST",u,c,null,0,(function(e){if(console.log("RESPONSE: ",e.body),e.body.length>0){var t=e.body[0],i=t.id_type,l=t.id_no,o=t.name;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r,person_id_name:o,person_id_no:l,person_id_type:i}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:"",onPick:!0})),d(e.body)}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:"",onPick:!0,showAutoId:!0}))}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:""}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:"",person_id_type:"",person_id_no:"",person_id_name:""}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n}))},S=function(e){console.log(e)},T=function(e,t){console.log("PARENT CHANGE: ",e);var a=l.name,n=l.email,r=l.phone,i={name:a,email:n};r&&(i.phone=r);var s=t,c=g.items[s].person_name,m={request:{},method:"GET",serviceCode:"GET_PARENT_LIST",params:"SELF"===g.redeemArr[s].kinship?"/list?&name=".concat(c,"&id_no=").concat(e):"/list?&id_no=".concat(e),customHeaders:i},u=Object(cn.a)(g.redeemArr),E=Object(cn.a)(g.errorArr);e?e.length>200?(E[s]=Object(p.a)(Object(p.a)({},E[s]),{},{err_message:"Max length 200 character"}),h(Object(p.a)(Object(p.a)({},g),{},{errorArr:E,errorMessage:"Error in form"}))):bn.test(e)?(E[s]=Object(p.a)(Object(p.a)({},E[s]),{},{err_message:""}),u[s]=Object(p.a)(Object(p.a)({},u[s]),{},{person_id_no:e}),o(m),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:u,errorMessage:"",errorArr:E}))):(E[s]=Object(p.a)(Object(p.a)({},E[s]),{},{err_message:"Only numbers and letters allowed"}),h(Object(p.a)(Object(p.a)({},g),{},{errorArr:E,errorMessage:"Error in form"}))):(console.log("SATU CHANGE"),E[s]=Object(p.a)(Object(p.a)({},E[s]),{},{err_message:""}),u[s]=Object(p.a)(Object(p.a)({},u[s]),{},{person_id_type:"",person_id_no:"",person_id_name:""}),d([]),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:u,errorMessage:"",onPick:!1,errorArr:E})))},R=function(e,t){console.log("PICK PARENT: ",e,"Index: ",t);var a=t,n=Object(cn.a)(g.errorArr),r=Object(cn.a)(g.redeemArr),i=Object(cn.a)(g.items);if(e){var l=e.id_type,o=e.id_no,s=e.name;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),r[a]=Object(p.a)(Object(p.a)({},r[a]),{},{person_id_type:l,person_id_no:o,person_id_name:s}),"SELF"===r[a].kinship?i[a]&&i[a].person_name===s?(h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:r,errorMessage:"",onPick:!0,errorArr:n})),d([])):(n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:"ID Number dan Nama tidak sesuai."}),h(Object(p.a)(Object(p.a)({},g),{},{errorMessage:"ID Number dan Nama tidak sesuai.",errorArr:n}))):(n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:r,errorMessage:"",onPick:!0,errorArr:n})),d([]))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),r[a]=Object(p.a)(Object(p.a)({},r[a]),{},{person_id_type:"",person_id_no:"",person_id_name:""}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:r,errorMessage:"",onPick:!1,errorArr:n})),d([])},L=function(){},w=function(e,t){var a=t,n=Object(cn.a)(g.redeemArr);if(e){var r=e.val?e.val:null;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{person_id_type:r}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:""}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{person_id_type:""}),h(Object(p.a)(Object(p.a)({},g),{},{redeemArr:n,errorMessage:"Error Type ID must be filled"}))};return r.a.createElement("div",null,r.a.createElement(gn,Object.assign({},t,{item:g.item,open:g.rescheduleDialog,handleOpen:j,handleClose:_,label:"Reschedule"})),r.a.createElement(Tt.a,{open:g.open,onClose:_,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(kt.a,{id:"responsive-dialog-title"},"Kartu Tanda Penduduk"),r.a.createElement(Lt.a,null,r.a.createElement(xt.a,null,r.a.createElement(mn.a,{component:"img",alt:"KTP",height:"auto",width:"auto",image:g.items.length>0?hn+"/static-file-manager/retrieve?file=".concat(g.items[g.clickedItem].person_id_image):null,title:"KTP"}))),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{autoFocus:!0,onClick:_,color:"primary"},"Close"))),r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:g.openRedeemDialog,onClose:O,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(kt.a,{id:"responsive-dialog-title"},Be("clinic_redeem_confirmation")),r.a.createElement(Lt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},g.member?g.member.map((function(e,t){return e&&r.a.createElement(jt.a,{item:!0,sm:12,key:t},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Name")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(gt.a,null,r.a.createElement("b",null,g.items[t].person_name)))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Redeem As")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(fa,{id:"redeemAs"+t.toString(),options:[{as:"CHILD",i:t},{as:"SELF",i:t}],optionItem:"as",notShrink:!0,handleInputChange:S,onPick:I,setIndex:t}))),"CHILD"===g.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Parent ID Number")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(fa,{id:"idParent"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:T,onPick:R,setIndex:t,freeSolo:!0}),r.a.createElement(gt.a,{color:"error",variant:"caption"},g.errorArr[t].err_message))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Parent ID Type")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},g.redeemArr[t].person_id_type&&g.onPick?r.a.createElement(gt.a,null,g.redeemArr[t].person_id_type):r.a.createElement(fa,{values:""===g.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:S,onPick:w,setIndex:t}))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"Parent Name")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},g.redeemArr[t].person_id_name&&g.onPick?r.a.createElement(gt.a,null,r.a.createElement("b",null,g.redeemArr[t].person_id_name)):r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Parent Name",onChange:v("person_id_name",t),value:g.redeemArr[t].person_id_name})))):"SELF"===g.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"ID Number")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},g.showAutoId?r.a.createElement(fa,{autoFocus:!!g.showAutoId,handleFocus:L,id:"idSelf"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:T,onPick:R,setIndex:t,freeSolo:!0}):r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Person ID Number",onChange:v("person_id_no",t),value:g.redeemArr[t].person_id_no,helperText:g.person_id_nameErrorMessage?g.person_id_nameErrorMessage:"Pastikan nomor identitas benar"}),r.a.createElement(gt.a,{color:"error",variant:"caption"},g.errorArr[t].err_message))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,"ID Type")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},g.redeemArr[t].person_id_type&&g.onPick?r.a.createElement(gt.a,null,g.redeemArr[t].person_id_type):r.a.createElement(fa,{values:""===g.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:S,onPick:w,setIndex:t})))):null,r.a.createElement(ht.a,{style:{marginTop:20,marginBottom:10}}))})):null),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(jt.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(gt.a,null,r.a.createElement("b",null,"Redeem By"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Redeem By",onChange:v("redeemBy"),value:g.person_id_no,error:!!g.emailErrorMessage,helperText:g.emailErrorMessage?g.emailErrorMessage:""})))),r.a.createElement("center",null,r.a.createElement(gt.a,{color:"error",style:{display:g.errorMessage?"":"none"}},g.errorMessage),r.a.createElement(Mt.a,{autoFocus:!0,onClick:O,color:"secondary",variant:"outlined",style:{margin:5,marginBottom:15}},Be("app_cancel")),r.a.createElement(Mt.a,{disabled:!!g.errorMessage,autoFocus:!0,onClick:function(e){e.preventDefault(),console.log(g);Ja("lastWeek"),Ja("nextYear");var t=l.name,a=l.email,n=l.phone,r={name:t,email:a};n&&(r.phone=n);var o=g.errorArr,m=i,d=i[0].order_id,E=m?m.map((function(e){return e.person_name})):[],f=g.redeemBy,b=g.redeemArr,_=[];if(g.member.filter((function(e,t){return!0===e?_.push(t):null})),0===_.length)h(Object(p.a)(Object(p.a)({},g),{},{errorMessage:Be("err_atleast_one_name_chosen")}));else if(0===f.length)h(Object(p.a)(Object(p.a)({},g),{},{errorMessage:Be("err_redeemby_empty")}));else{var O=[],v=[],y=b.map((function(e,t){var a=_[t];console.log(E[a]);b[a]&&("SELF"!==b[a].kinship?E[a]:b[a].person_id_name);return!1===e?e=!1:"SELF"===e.kinship&&(e.person_id_name=E[t]),e}));console.log("ARR TO DEFINE: ",y),y.forEach((function(e,t){!1===e||!e||e.person_id_no&&e.person_id_type&&e.kinship&&e.person_id_name?O.push(!1):O.push(!0)})),o.forEach((function(e,t){e.err_message?v.push(!0):v.push(!1)}));console.log("IS ERROR? ",O,v,b,E),O.includes(!0)||v.includes(!0)?h(Object(p.a)(Object(p.a)({},g),{},{errorMessage:"Error in form"})):(c("active"),function e(t){if(t>_.length-1){h(Object(p.a)(Object(p.a)({},g),{},{openRedeemDialog:!1,redeemBy:"",errorMessage:""}));var a={open:!0,severity:"success",message:Be("clinic_redeem_success"),action:!1,actionLabel:""};return u(a),c("stop"),s.push("/PaxList")}t<0&&console.log("ONFAIL");var n=_[t],i=b[n]?"SELF"===b[n].kinship?E[n]:b[n].person_id_name:"",l=m[n].product_name;(function(e,t,a,n){return new Promise((function(r,i){console.log("SATU_SATU: ",e,t,a,n),Ge(e,a,"healthOrder",t,n,null,0,(function(e){return r(e)}))}))})(Object(p.a)(Object(p.a)({},b[n]),{},{redeem_by:f,person_id_name:i,product_name:l}),"/".concat(d.toString(),"/").concat(E[n]),"POST",r).then((function(a,n){if(a){var r=g.member;r[t]=!1,h(Object(p.a)(Object(p.a)({},g),{},{member:r})),e(t+1)}else console.log("END")}))}(0))}},color:"primary",variant:"contained",style:{margin:5,marginBottom:15}},Be("app_submit")))),r.a.createElement("center",null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(jt.a,{item:!0,xs:10,sm:6},r.a.createElement(xt.a,{variant:"elevation"},r.a.createElement(Dt.a,null,r.a.createElement(gt.a,{variant:"h6"},r.a.createElement("b",null,Be("clinic_order_detail"))," "),r.a.createElement(gt.a,{variant:"caption"},r.a.createElement("b",null,"Order Id: ",g.order_id?g.order_id:"")," "),r.a.createElement("div",{style:{marginTop:15}},r.a.createElement(jt.a,{container:!0,align:"left",style:{marginLeft:20}},r.a.createElement(jt.a,{item:!0,lg:3,sm:3,xs:3},r.a.createElement("b",null,Be("common_contact_person")))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,xs:1,component:"div"},r.a.createElement(gt.a,null)),r.a.createElement(jt.a,{item:!0,xs:2},"Email"),r.a.createElement(jt.a,{item:!0,xs:5},r.a.createElement(gt.a,{variant:"caption"},": ",r.a.createElement("b",null,g.contact&&g.contact.email)))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,xs:1,component:"div"},r.a.createElement(gt.a,null)),r.a.createElement(jt.a,{item:!0,xs:2},Be("app_phone")),r.a.createElement(jt.a,{item:!0,xs:5},r.a.createElement(gt.a,{variant:"caption"},": ",r.a.createElement("b",null,g.contact&&g.contact.phone)))),r.a.createElement(ht.a,{style:{margin:15}}),g.items.length>0?g.items.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{marginLeft:20}},r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},Be("app_name"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(gt.a,{variant:"caption"},r.a.createElement("b",null,e.person_name)))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},Be("common_birth_date"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(gt.a,{variant:"caption"},e.person_date_of_birth))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},"Status")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(gt.a,{variant:"caption"},r.a.createElement("b",null,e.status?"FINISH"===e.status?"REDEEMED":e.status:"NEW")))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},Be("common_products"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(gt.a,{variant:"caption"},r.a.createElement("b",null,e.product_name)))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},Be("clinic_test_date"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(gt.a,{variant:"caption"},e.testdate," "))),r.a.createElement(jt.a,{container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},Be("clinic_name"))),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(gt.a,{variant:"caption"},e.clinic?e.clinic.name:"Klinik Name")," ",r.a.createElement("br",null))),r.a.createElement(jt.a,{onClick:e.person_id_image?b(t):null,container:!0,align:"left"},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(gt.a,{variant:"body2"},"KTP")),r.a.createElement(jt.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,lg:7,sm:7,xs:7},e.person_id_image?r.a.createElement(xt.a,{style:{width:140,marginTop:10}},r.a.createElement(mn.a,{component:"img",alt:"KTP",height:"auto",width:"200",image:e.person_id_image?hn+"/static-file-manager/retrieve?file=".concat(e.person_id_image):null,title:"KTP"})):r.a.createElement(gt.a,{variant:"caption"}," - "))),r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:1}),r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:10,component:"div"}),r.a.createElement(jt.a,{item:!0,lg:4,sm:4,xs:1,variant:"caption"})),r.a.createElement(r.a.Fragment,null,g.member[t]?r.a.createElement(Mt.a,{size:"small",style:{marginTop:15},onClick:C(t),variant:"outlined",color:"secondary"},Be("app_cancel")," Redeem"):"FINISH"===g.memberStatus[t]?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,{size:"small",style:{marginTop:15,marginRight:5},onClick:j(e),variant:"contained",color:"secondary"},"Reschedule"),r.a.createElement(Mt.a,{size:"small",style:{marginTop:15,marginLeft:5},onClick:C(t),variant:"contained",color:"primary"},"Redeem")))),r.a.createElement(ht.a,{style:{margin:15}}))})):null,g.errorMessage?r.a.createElement(jt.a,{container:!0,justify:"center"},r.a.createElement(At.a,{error:!0,id:"email-helper-text"},g.errorMessage)):null,g.submitErrorMessage?r.a.createElement(jt.a,{container:!0,justify:"center"},r.a.createElement(At.a,{error:!0,id:"email-helper-text"},g.submitErrorMessage)):null,r.a.createElement(Mt.a,{style:{marginRight:2},size:"small",onClick:function(e){e.preventDefault(),s.push("/PaxList")},variant:"outlined",color:"secondary"},Be("app_back")),g.memberStatus.includes(void 0)||g.memberStatus.includes("PAID")?r.a.createElement(Mt.a,{style:{marginLeft:2},size:"small",onClick:function(e){e.preventDefault();var t=[];g.member.filter((function(e,a){return!0===e?t.push(a):null})),0===t.length?h(Object(p.a)(Object(p.a)({},g),{},{errorMessage:Be("err_atleast_one_name_chosen")})):h(Object(p.a)(Object(p.a)({},g),{},{openRedeemDialog:!0,errorMessage:""}))},variant:g.member.includes(!0)?"contained":"outlined",color:"secondary"},Be("clinic_redeem_confirmation")):null))),r.a.createElement("div",{style:{height:100}})))))})),On=a(516),vn=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleQrShow=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{isQrShow:!n.state.isQrShow}))},n.handleScan=function(e){var t=n.props.userInfo.info,a=t.basicInformation?t.basicInformation.name:"",r=t.email?t.email:"",i=t.phone?t.phone:"",l={name:a,email:r};if(i&&(l.phone=i),"string"===typeof e||"number"===typeof e)if(e.toString().replace(/\s/g,"").length>0){n.props._serviceEnd();var o={request:{},method:"GET",serviceCode:"PURCHASE_VOUCHER_NUMBER",params:"/purchases/".concat(e.toString()),customHeaders:l};n.props._setCompleteRequest(o)}else{n.props._setResponse({headers:{},body:{error:!0,errorDescription:{id:"QR Code anda tidak teridentifikasi",en:"Unidentified QR Code"}}}),n.props._serviceEnd(),n.props.history.push("/Home")}},n.handleError=function(e){console.error(e)},n.state={isQrShow:!1,result:"no result"},n}return Object(B.a)(a,[{key:"componentWillMount",value:function(){this.props._setOpenScreen("QR Scan"),this.props._serviceStart()}},{key:"componentWillUnmount",value:function(){this.props._serviceEnd()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{md:4,item:!0}),r.a.createElement(jt.a,{xs:12,sm:12,md:4,item:!0},r.a.createElement(xt.a,null,r.a.createElement(Dt.a,null,r.a.createElement("div",null,r.a.createElement(On.a,{onError:this.handleError,onScan:this.handleScan,style:{width:"100%"},resolution:1200,facingMode:"rear"}))))),r.a.createElement(jt.a,{md:4,item:!0})))}}]),a}(n.Component),yn=Object(o.b)((function(e){return{paxList:e.paxList.list,detail:e.paxList.detail,system:e.system,userInfo:e.userInfo}}),(function(e){return{_setRequest:function(t){e(Q(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Y(t))},_setOpenScreen:function(t){e(ve(t))},_setPaxDetail:function(t){e(de(t))},_serviceStart:function(){e({type:"SERVICE_START"})},_serviceEnd:function(){e({type:"SERVICE_END"})},_setResponse:function(t){e(ae(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))(vn),Cn=a(465),jn=function(e){var t=Object.assign({},e),a=t.handleChange,i=t.form,l=t.setFormFocus,o=t.formFocus,s=t.setShowPassword,c=t.showPassword,m=t.setShowConfirmPassword,u=t.showConfirmPassword,d=t.serviceRole,E=Object(n.useState)([]),f=Object(it.a)(E,2),g=f[0],h=f[1];return Object(n.useEffect)((function(){d&&h(function(e){var t=[{value:"root",label:"Root"},{value:"admin",label:"Admin"},{value:"end-user",label:"End-User"}];return"AUTHENTICATION_USER"===e?t=[{value:"end-user",label:"End-User"}]:"AUTHENTICATION_ADMIN"===e&&(t=[{value:"admin",label:"Admin"},{value:"end-user",label:"End-User"}]),t}(d))}),[d]),r.a.createElement(jt.a,{item:!0,xs:12,md:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12,md:8,style:{marginLeft:10,marginRight:10}},r.a.createElement(Zt.a,{size:"small",onChange:a("name"),id:"standard-name",label:"Full Name",placeholder:"Full Name",helperText:i.nameErrorMessage?i.nameErrorMessage:"",error:!!i.nameErrorMessage,fullWidth:!0,margin:"dense",value:i.name,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{name:!0}))},onBlur:function(){return i.name?l(Object(p.a)(Object(p.a)({},o),{},{name:!0})):l(Object(p.a)(Object(p.a)({},o),{},{name:!1}))},InputLabelProps:{shrink:!!o.name}}),r.a.createElement(Zt.a,{size:"small",onChange:a("phone"),id:"standard-phone",label:"Phone",placeholder:"+6281234567890",helperText:i.phoneErrorMessage?i.phoneErrorMessage:"",error:!!i.phoneErrorMessage,fullWidth:!0,margin:"dense",value:i.phone,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{phone:!0}))},onBlur:function(){return i.phone?l(Object(p.a)(Object(p.a)({},o),{},{phone:!0})):l(Object(p.a)(Object(p.a)({},o),{},{phone:!1}))},InputLabelProps:{shrink:!!o.phone}}),r.a.createElement(Zt.a,{size:"small",onChange:a("email"),id:"standard-email",label:"Email",placeholder:"Email",helperText:i.emailErrorMessage?i.emailErrorMessage:"",error:!!i.emailErrorMessage,fullWidth:!0,margin:"dense",value:i.email,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{email:!0}))},onBlur:function(){return i.email?l(Object(p.a)(Object(p.a)({},o),{},{email:!0})):l(Object(p.a)(Object(p.a)({},o),{},{email:!1}))},InputLabelProps:{shrink:!!o.email}}),r.a.createElement(Zt.a,{type:c?"text":"password",size:"small",onChange:a("password"),id:"standard-password",label:"Password",helperText:i.passwordErrorMessage?i.passwordErrorMessage:"",error:!!i.passwordErrorMessage,fullWidth:!0,margin:"dense",value:i.password,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{password:!0}))},onBlur:function(){return i.password?l(Object(p.a)(Object(p.a)({},o),{},{password:!0})):l(Object(p.a)(Object(p.a)({},o),{},{password:!1}))},InputLabelProps:{shrink:!!o.password},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle password visibility",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return s(!c)}},c?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}}),r.a.createElement(Zt.a,{type:u?"text":"password",size:"small",onChange:a("confirmPassword"),id:"standard-confirmPassword",label:"Confirm Password",helperText:i.confirmPasswordErrorMessage?i.confirmPasswordErrorMessage:"",error:!!i.confirmPasswordErrorMessage,fullWidth:!0,margin:"dense",value:i.confirmPassword,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!0}))},onBlur:function(){return i.confirmPassword?l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!0})):l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!1}))},InputLabelProps:{shrink:!!o.confirmPassword},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},r.a.createElement(bt.a,{"aria-label":"toggle confirmPassword visibility",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return m(!u)}},u?r.a.createElement(aa.a,null):r.a.createElement(ra.a,null)))}}),r.a.createElement(Zt.a,{size:"small",onChange:a("userType"),id:"standard-userType",label:"User Type",select:!0,value:i.userType,fullWidth:!0,margin:"dense"},g.map((function(e,t){return r.a.createElement(Cn.a,{value:e.value,key:t+33},e.label)}))))))},In=a(764),Sn=a(728),Tn=function(e){var t=Object.assign({},e),a=t.form,n=t.showAddUserClient,i=t.setShowAddUserClient,l=t.handleChange,o=t.chooseClientList,s=t.handleResource,c=t.handleAddClientRole,m=t.fullmd;return r.a.createElement(jt.a,{item:!0,xs:12,md:m?12:6,style:{marginTop:10}},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{color:"primary",variant:"subtitle2"},"User Client"),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:10}},r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0},"Client Id")),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0},r.a.createElement(ft.a,null,a.assignedUserRole[0]?a.assignedUserRole.map((function(e,t){return r.a.createElement(yt.a,{key:t,secondary:"- "+e.clientId})})):r.a.createElement(yt.a,{secondary:"- none"}))))),r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0},"Resources Allowed")),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0},r.a.createElement(ft.a,null,a.assignedUserRole[0]?a.assignedUserRole[0].resourcesAllowedList.map((function(e,t){return r.a.createElement(yt.a,{key:t,secondary:"- "+e})})):r.a.createElement(yt.a,{secondary:"- none"}))))),r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",style:{margin:20}},n?r.a.createElement(xt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(jt.a,null,r.a.createElement(gt.a,{variant:"subtitle2"}," Add Client and Resources ")),r.a.createElement(jt.a,null,r.a.createElement(Zt.a,{margin:"dense",size:"small",onChange:l("clientId"),id:"standard-clientId",label:"ClientId",placeholder:"ClientId",select:!0,fullWidth:!0,error:!!a.roleIdErrorMessage,value:a.clientId},o.map((function(e,t){return r.a.createElement(Cn.a,{value:e.value,key:t+21},e.label)})))),r.a.createElement(jt.a,null,a.resourcelist[0]?r.a.createElement(Nt.a,{component:"fieldset",style:{marginTop:10}},r.a.createElement(Sn.a,{component:"legend"},"Resources"),r.a.createElement(Fa.a,null,a.resourcelist.map((function(e,t){return r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{onChange:s,id:e.roleId,name:e.roleId}),label:e.roleId,key:t})})))):null)),r.a.createElement(In.a,null,r.a.createElement(Mt.a,{size:"small",color:"primary",onClick:function(){return i(!1)}},"Cancel"),r.a.createElement(Mt.a,{size:"small",color:"secondary",onClick:c},"Add"))):r.a.createElement("div",null,a.assignedUserRole[0]?null:r.a.createElement("div",null,r.a.createElement(Mt.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return i(!0)}},"Choose Client for User"),r.a.createElement(At.a,null,"Only one client allowed on Create User."),r.a.createElement(At.a,null,"Update the User on User List to add more client.")))))))},Rn=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.roleAuth,s=t.clientList,c=Object(n.useState)(!1),m=Object(it.a)(c,2),u=m[0],d=m[1],E=Object(n.useState)(!1),f=Object(it.a)(E,2),g=f[0],h=f[1],b=Object(n.useState)(!1),_=Object(it.a)(b,2),O=_[0],v=_[1],C=Object(n.useState)({name:!1,phone:!1,email:!1,password:!1,confirmPassword:!1}),j=Object(it.a)(C,2),I=j[0],S=j[1],T=Object(n.useState)({resource:[],assignedUserRole:[],resourcelist:[],userType:"",profile:"",submitNotError:!0}),R=Object(it.a)(T,2),L=R[0],w=R[1];Object(n.useEffect)((function(){a("Create User");var e=l.name,t=l.email,n=l.phone,r={name:e,email:t};n&&(r.phone=n);var o={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:r};s.length<1&&l.roleUsed&&i(o)}),[a,i,s,l.email,l.name,l.phone,l.roleUsed]);var k=function(e){return function(t){t.preventDefault();var a,n,r=pa(e,t.target.value);if("confirmPassword"===e)L.password!==t.target.value?w(Object(p.a)(Object(p.a)({},L),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage","password confirmation not match"),Object(y.a)(a,"submitNotError",!0),a))):w(Object(p.a)(Object(p.a)({},L),{},(n={},Object(y.a)(n,e,t.target.value),Object(y.a)(n,e+"ErrorMessage",""),Object(y.a)(n,"submitNotError",!0),n)));else if("clientId"===e){var i,l=[];s.forEach((function(e){if(e.clientId===t.target.value)return l=Array.isArray(e.clientRoles)?e.clientRoles:e.clientRoles?e.clientRoles.split(", ").map((function(e){return{roleId:e}})):[{roleId:"client jadul jgn dipake"}]})),w(Object(p.a)(Object(p.a)({},L),{},(i={resourcelist:l},Object(y.a)(i,e,t.target.value),Object(y.a)(i,e+"ErrorMessage",r.errorMessage),Object(y.a)(i,"submitNotError",!0),i)))}else if("userType"===e){var c,m=t.target.value,u="";"end-user"===m&&(u=o.endUser),"admin"===m&&(u=o.admin),"root"===m&&(u=o.root),w(Object(p.a)(Object(p.a)({},L),{},(c={},Object(y.a)(c,e,t.target.value),Object(y.a)(c,e+"ErrorMessage",r.errorMessage),Object(y.a)(c,"resource",[].concat(Object(cn.a)(L.resource),[u])),Object(y.a)(c,"submitNotError",!0),c)))}else{var d;w(Object(p.a)(Object(p.a)({},L),{},(d={},Object(y.a)(d,e,t.target.value),Object(y.a)(d,e+"ErrorMessage",r.errorMessage),Object(y.a)(d,"submitNotError",!0),d)))}}},M=s.map((function(e){return{value:e.clientId,label:e.clientName}}));return r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12,md:9},r.a.createElement(st.a,null,r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"h6",color:"primary",style:{marginTop:20}},"Create User")),r.a.createElement(jt.a,{container:!0,direction:"row"},r.a.createElement(jn,{handleChange:k,form:L,setFormFocus:S,formFocus:I,setShowPassword:d,showPassword:u,setShowConfirmPassword:h,showConfirmPassword:g,roleAuth:o}),r.a.createElement(Tn,{form:L,showAddUserClient:O,setShowAddUserClient:v,handleChange:k,chooseClientList:M,handleResource:function(e){var t=L.resource;if(e.target.name&&e.target.checked)t.push(e.target.name),w(Object(p.a)(Object(p.a)({},L),{},{resource:t}));else if(e.target.name&&!e.target.checked){var a;a=t.filter((function(t){return t!==e.target.name})),w(Object(p.a)(Object(p.a)({},L),{},{resource:a}))}},handleAddClientRole:function(e){e.preventDefault(),w(Object(p.a)(Object(p.a)({},L),{},{roleId:"",roleDescription:"",assignedUserRole:[].concat(Object(cn.a)(L.assignedUserRole),[{clientId:L.clientId,resourcesAllowedList:L.resource}])})),v(!1)}})),r.a.createElement(ht.a,{style:{margin:20}}),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:10}},L.submitNotError?null:r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{error:!0},"Form not complete")),r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{onClick:function(e){e.preventDefault(),S({name:!1,phone:!1,email:!1,confirmPassword:!1,password:!1}),w({resource:[],name:"",phone:"",email:"",confirmPassword:"",password:"",assignedUserRole:[],resourcelist:[],clientRoles:[],userType:"",clientGroupId:"7ff9bf27-23bd-4253-a015-b2ffbe067f04",submitNotError:!0})},variant:"outlined",color:"primary"},"Reset")),r.a.createElement(jt.a,{style:{margin:10},item:!0}),r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{onClick:function(e){e.preventDefault(),w(Object(p.a)(Object(p.a)({},L),{},{submitNotError:!0}));var t=L.name,a=L.phone,n=L.email,r=L.password,o=L.confirmPassword,s=L.userType,c=L.assignedUserRole,m=L.submitNotError,u={assignedUserRole:c,confirmPassword:o,email:n,emailVerified:!1,name:t,password:r,phone:"0"===a[0]?"+62"+a.slice(1):a,phoneVerified:!1,userType:s},d=l.name,E=l.email,f=l.phone,g={name:d,email:E};(f&&(g.phone=f),c&&t&&a&&n&&r&&o&&s&&m)?i({request:u,method:"POST",serviceCode:"CREATE_BO_USER",customHeaders:g}):w(Object(p.a)(Object(p.a)({},L),{},{submitNotError:!1}))},variant:"contained",color:"primary"},"Create")))," ",r.a.createElement("br",null))))})),Ln=a(108),wn=a.n(Ln),kn=a(149);function Mn(e){var t=Object.assign({},e),a=t.columns,i=t.data,l=t.updatedata,o=t.deletedata,s=t.rowClicked,c=t.confirmdeletetext,m=t.title,u=t.action,d=t.update,E=t.roleUsed,f=Object(n.useState)({columns:[],data:[],rowData:{}}),g=Object(it.a)(f,2),h=g[0],b=g[1];Object(n.useEffect)((function(){b((function(e){return Object(p.a)(Object(p.a)({},e),{},{columns:a,data:i})}))}),[a,i]);var _=function(){var e=Object(kn.a)(wn.a.mark((function e(t){return wn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(jt.a,{container:!0,item:!0,xs:12},r.a.createElement(Ga.a,{localization:{body:{editRow:{deleteText:c}}},style:{width:"100%"},title:m,columns:h.columns,data:h.data,actions:[d&&"member"!==E?{icon:"check",tooltip:"Activate Clinic",onClick:function(e,t){return l(t)}}:null],editable:u?{onRowDelete:function(e){return new Promise((function(t){_(e).then((function(e){return t()}))}))}}:null,onRowClick:function(e,t){return function(e){b(Object(p.a)(Object(p.a)({},h),{},{rowData:e})),s(e)}(t)},options:{actionsColumnIndex:-1,search:"member"!==E,rowStyle:function(e){return{color:"inactive"===e.status?"grey":"register"===e.status?"#00f100":"black"}}}}))}var xn=a(105),Dn=a.n(xn),Pn=a(130),Un=a.n(Pn),An=a(192),Nn=a.n(An),qn=a(768),Fn=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),Hn=function(e){var t=Object.assign({},e),a=Object(n.useState)([]),i=Object(it.a)(a,2),l=i[0],o=i[1],s=Object(n.useState)([]),c=Object(it.a)(s,2),m=c[0],u=c[1],d=Object(n.useState)([]),p=Object(it.a)(d,2),E=p[0],f=p[1],g=function(){t.handleOpen(!1)},h=t.clientList&&t.dataToUpdate?t.clientList.filter((function(e){return e.client===t.dataToUpdate.client})):[],b=h[0]?h[0].client:"";Object(n.useEffect)((function(){o([]),u([]),f([]);var e=[],a=t.dataToUpdate&&t.dataToUpdate.resourcesAllowedList?t.dataToUpdate.resourcesAllowedList:["none"];if(Array.isArray(a)||(a=[a]),o(a),t.dataToUpdate&&!t.dataToUpdate.roleList){var n=t.clientList.filter((function(e){return e.client===t.dataToUpdate.client}));e=n[0].roleList}a[0]&&h[0]&&h[0].roleList.map((function(t){return a.includes(t)||e.push(t),null})),u(e)}),[t.dataToUpdate]);var _=function(e){return function(t){f([].concat(Object(cn.a)(E),[e]));var a=m.filter((function(t){return t!==e}));u(a)}},O=function(e){return function(t){u([].concat(Object(cn.a)(m),[e]));var a=E.filter((function(t){return t!==e}));f(a)}},v=function(e){return function(t){u([].concat(Object(cn.a)(m),[e]));var a=l.filter((function(t){return t!==e}));o(a)}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:g,scroll:"paper"},r.a.createElement(Fn,{id:"max-width-dialog-title",onClose:g},"Client: ",b),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,md:6},r.a.createElement(gt.a,{variant:"subtitle2"},"Role Name"),r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},"Click to remove role"),r.a.createElement(ft.a,{dense:!0},l.map((function(e,t){return"none"===e?r.a.createElement(yt.a,{primary:"- none",key:t}):r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(qn.a,null,r.a.createElement(Ha.a,{edge:"start",id:e,value:e,checked:!0,onChange:v(e)})),r.a.createElement(yt.a,{primary:e}))})),E[0]?E.map((function(e,t){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(qn.a,null,r.a.createElement(Ha.a,{edge:"start",id:e,value:e,checked:!0,onChange:O(e)})),r.a.createElement(yt.a,{secondary:e}))})):l[0]?r.a.createElement("div",null):r.a.createElement(yt.a,{primary:"- none"}))),r.a.createElement(jt.a,{item:!0,md:6},r.a.createElement(gt.a,{variant:"subtitle2"},"Available Role"),r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},"Click to add role"),r.a.createElement(ft.a,{dense:!0},m[0]?m.map((function(e,t){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(qn.a,null,r.a.createElement(Ha.a,{edge:"start",onChange:_(e),checked:!1})),r.a.createElement(yt.a,{secondary:e}))})):r.a.createElement(yt.a,{primary:"- none"}))))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:g,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:function(){var e=l.concat(E),a=t.dataToUpdate;a.roleList=e.join(", "),a.resourcesAllowedList=e,t.handleSave(a),t.handleOpen(!1)},variant:"contained",color:"primary"},"Save")))))},Bn=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),Gn=function(e){var t,a=Object.assign({},e),i=a.handleAddClient,l=a.handleOpen,o=a.clientData,s=a.open,c=a.clientList,m=Object(n.useState)({resource:["member"],assignedUserRole:[],resourcelist:[]}),u=Object(it.a)(m,2),d=u[0],E=u[1],f=function(){l(!1),E({resource:[],assignedUserRole:[],resourcelist:[],clientRoles:[]})},g=o&&o.userRole?o.userRole.map((function(e){return e.client})):[],h=c?c.filter((function(e){var t=e.clientId;return!g.includes(t)})).map((function(e){return{value:e.clientId,label:e.clientName}})):[{value:"",label:""}];return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:s,onClose:f,scroll:"paper"},r.a.createElement(Bn,{id:"max-width-dialog-title",onClose:f},"Add Client"),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,sm:12},r.a.createElement(Zt.a,{style:{width:300},onChange:(t="clientId",function(e){e.preventDefault();var a=pa(t,e.target.value);if("clientId"===t){var n,r=[];c.map((function(t){return t.clientId===e.target.value?r=Array.isArray(t.clientRoles)?t.clientRoles:t.clientRoles?t.clientRoles.split(", ").map((function(e){return{roleId:e}})):[{roleId:"client jadul jgn dipake"}]:null})),E(Object(p.a)(Object(p.a)({},d),{},(n={resourcelist:r},Object(y.a)(n,t,e.target.value),Object(y.a)(n,t+"ErrorMessage",a.errorMessage),Object(y.a)(n,"submitNotError",!0),n)))}else{var i;E(Object(p.a)(Object(p.a)({},d),{},(i={},Object(y.a)(i,t,e.target.value),Object(y.a)(i,t+"ErrorMessage",a.errorMessage),Object(y.a)(i,"submitNotError",!0),i)))}}),id:"standard-clientId",label:"ClientId",placeholder:"ClientId",select:!0,error:!!d.roleIdErrorMessage},h?h.map((function(e,t){return r.a.createElement(Cn.a,{value:e.value,key:t+66},e.label)})):r.a.createElement(Cn.a,null,"None")))))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{variant:"outlined",color:"primary",onClick:function(e){l(!1),e.preventDefault(),E({resource:[],assignedUserRole:[],resourcelist:[],clientRoles:[]})}},"Cancel")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t={userRoleToUpdate:[{clientId:d.clientId,resourcesAllowedList:d.resource}]},a="/users/".concat(o.userId,"/roles");i({request:t,method:"PATCH",serviceCode:"UPDATE_USER_ROLE",urlParams:a}),l(!1)}},"Add")))))},Vn=a(466),Wn=function(e){var t=Object.assign({},e),a=Object(n.useState)({data:""}),i=Object(it.a)(a,2),l=i[0],o=i[1],s=Object(n.useState)([]),c=Object(it.a)(s,2),m=c[0],u=c[1];Object(n.useEffect)((function(){var e=t.clientData;u([{title:"Email",field:e.email,verified:e.emailVerified&&e.email?"Verified":"Not Verified"},{title:"Phone",field:e.phone,verified:e.phoneVerified&&e.phone?"Verified":"Not Verified"},{title:"Name",field:e.basicInformation?e.basicInformation.name:""},{title:"Profile URL",field:e.basicInformation?e.basicInformation.profile:""},{title:"Gender",field:e.basicInformation?e.basicInformation.gender:""},{title:"Address",field:e.basicInformation?e.basicInformation.address:""}]),o({data:e.basicInformation?e.basicInformation.picture:""})}),[t.clientData]);return r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,xs:8,style:{marginTop:10,marginBottom:10}},r.a.createElement(st.a,{style:{paddingLeft:20}},r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,xs:10},r.a.createElement(gt.a,{variant:"h6",style:{paddingBottom:20}},"Basic Information")),r.a.createElement(jt.a,{container:!0,item:!0,xs:2,justify:"flex-end",style:{paddingRight:15}},r.a.createElement(Vn.a,{title:"Edit"},r.a.createElement(Dn.a,{onClick:function(){t.handleOpenEdit(!0)}})))),m.map((function(e){return r.a.createElement("div",null,r.a.createElement(jt.a,{container:!0,style:{marginBottom:8}},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,{style:{fontSize:13,fontWeight:"bold",fontStyle:"Times New Roman"}},e.title)),r.a.createElement(jt.a,{item:!0,xs:8},"Profile URL"===e.title?r.a.createElement("a",{href:e.field,target:"_blank",rel:"noopener noreferrer"},e.field):r.a.createElement(gt.a,{style:{fontSize:14}},e.field)),r.a.createElement(jt.a,null,r.a.createElement(gt.a,{style:{color:"Verified"===e.verified?"#79d70f":"#d32626",fontSize:14}},"phone"!==e.title&&"email"!==e.title||e.field?e.verified:""))),r.a.createElement(ht.a,null))})))),r.a.createElement(jt.a,{item:!0,xs:4,align:"center",style:{padding:50}},r.a.createElement(ct.a,{style:{width:160,height:160,borderWidth:"4px",borderColor:"black",borderStyle:"solid"},src:l.data})))},zn=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},rootUpload:{"& > *":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"},inputUpload:{display:"none"}}},Kn=Object(ot.a)(zn)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(un.a)(e,["children","onClose","classes"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(gt.a,{variant:"h6"},t),a?r.a.createElement(bt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(pn.a,null)):null)})),Qn=Object(ot.a)(zn)((function(e){var t=Object.assign({},e),a=t.classes;console.log("rolesUsed",t.userInfo);var i=Object(n.useState)({basicInformation:{}}),l=Object(it.a)(i,2),o=l[0],s=l[1],c=Object(n.useState)({images:[],data:""}),m=Object(it.a)(c,2),u=m[0],d=m[1];Object(n.useEffect)((function(){t.clientData&&s(Object(p.a)(Object(p.a)({},t.clientData),{},{emailVerified:t.clientData.emailVerified?"Verified":"Not Verified",phoneVerified:t.clientData.phoneVerified?"Verified":"Not Verified"}))}),[t.clientData]);var E=function(){d(Object(p.a)(Object(p.a)({},u),{},{images:[]})),s(Object(p.a)(Object(p.a)({},o),{},{basicInformation:{}})),t.handleClose(!1)},f=function(e){return function(t){var a,n,r,i,l=t.target.value,c=pa("profile"===e?"urlDestination":e,t.target.value);"address"===e||"gender"===e||"profile"===e||"name"===e?s(Object(p.a)(Object(p.a)({},o),{},(n={basicInformation:Object(p.a)(Object(p.a)({},o.basicInformation),{},(a={},Object(y.a)(a,e,l),Object(y.a)(a,e+"Edit",l),a))},Object(y.a)(n,e,l),Object(y.a)(n,e+"Edit",l),Object(y.a)(n,"profile"===e?"urlDestinationErrorMessage":e+"ErrorMessage",c.errorMessage),n))):s(Object(p.a)(Object(p.a)({},o),{},(i={basicInformation:Object(p.a)(Object(p.a)({},o.basicInformation),{},(r={},Object(y.a)(r,e,l),Object(y.a)(r,e+"Edit",l),r))},Object(y.a)(i,e,l),Object(y.a)(i,e+"Edit",l),Object(y.a)(i,e+"ErrorMessage",c.errorMessage),i)))}};return console.log("dataaaa",o),r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:E,scroll:"paper"},r.a.createElement(Kn,{id:"max-width-dialog-title",onClose:E},t.title),r.a.createElement(Lt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:a.rootUpload},r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,sm:8},r.a.createElement(Zt.a,{fullWidth:!0,value:u.images[0]?u.images[0].name:"",variant:"outlined",disabled:!0,label:"Photo",id:"photo",InputLabelProps:{shrink:!0}})),r.a.createElement(jt.a,{item:!0,sm:4,align:"center"},r.a.createElement("input",{accept:"image/*",className:a.inputUpload,id:"contained-button-file",onChange:function(e){var t=e.target,a=new FileReader;a.readAsDataURL(t.files[0]),a.onload=function(e){d(Object(p.a)(Object(p.a)({},u),{},{data:e.target.result,images:t.files}))}},multiple:!0,type:"file"}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(Mt.a,{variant:"contained",color:"primary",component:"span"},"Upload"))))),r.a.createElement(Zt.a,{fullWidth:!0,label:"Email",value:o.email,onChange:f("email"),id:"email",error:!!o.emailErrorMessage,helperText:o.emailErrorMessage?o.emailErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,disabled:!t.userInfo||"root"!==t.userInfo.roleUsed,label:"Email Status",value:o.emailVerified,onChange:f("emailVerified"),id:"emailStatus",InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{value:"Verified"},"Verified"),r.a.createElement(Cn.a,{value:"Not Verified"},"Not Verified")),r.a.createElement(Zt.a,{fullWidth:!0,label:"Phone",id:"phone",onChange:f("phone"),value:o.phone,error:!!o.phoneErrorMessage,helperText:o.phoneErrorMessage?o.phoneErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,disabled:!t.userInfo||"root"!==t.userInfo.roleUsed,label:"Phone Status",value:o.phoneVerified,onChange:f("phoneVerified"),InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{value:"Verified"},"Verified"),r.a.createElement(Cn.a,{value:"Not Verified"},"Not Verified")),r.a.createElement(Zt.a,{fullWidth:!0,label:"Name",id:"name",onChange:f("name"),value:o.basicInformation?o.basicInformation.name:"",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,label:"Profile URL",id:"profile",onChange:f("profile"),value:o.basicInformation?o.basicInformation.profile:"",error:!!o.urlDestinationErrorMessage,helperText:o.urlDestinationErrorMessage?o.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,label:"Gender",onChange:f("gender"),id:"gender",value:o.basicInformation?o.basicInformation.gender:"",InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{key:"male",value:"male"},"Male"),r.a.createElement(Cn.a,{key:"female",value:"female"},"Female")),r.a.createElement(Zt.a,{fullWidth:!0,label:"Address",id:"address",onChange:f("address"),value:o.basicInformation?o.basicInformation.address:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{color:"primary",variant:"contained",onClick:function(){t.handleClose(!1),t.completeRequest(o,u)},className:a.addButton},"Edit")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:E,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),Yn=Object(o.b)((function(e){return{userList:e.userList.list,userInfo:e.userInfo}}),(function(e){return{}}))((function(e){var t=Object.assign({},e),a=t.userList,i=t.userInfo,l=Object(n.useState)(!0),o=Object(it.a)(l,2),s=o[0],c=o[1],m=Object(n.useState)([]),u=Object(it.a)(m,2),d=u[0],E=u[1],f=Object(n.useState)({}),g=Object(it.a)(f,2),h=g[0],b=g[1],_=Object(n.useState)({clientList:[],dataToUpdate:null,open:!1,addClientOpen:!1,openEditBasicInfo:!1}),O=Object(it.a)(_,2),v=O[0],y=O[1],C=Object(n.useState)(null),j=Object(it.a)(C,2),I=j[0],S=j[1],T=Object(n.useState)(!1),R=Object(it.a)(T,2),L=R[0],w=R[1];Object(n.useEffect)((function(){if(L){var e=a.filter((function(e){return e.userId===h.userId}));b(e[0])}}),[h,L,a]);Object(n.useEffect)((function(){var e=t.data?t.data.userRole:[],a=[],n=[];0!==e.length&&(e.forEach((function(e){var t=e.resourcesAllowedList?Array.isArray(e.resourcesAllowedList)?e.resourcesAllowedList.join(", "):e.resourcesAllowedList:"-";e.roleList=t,a.push(e)})),E(a),b(t.data)),t.clientList&&t.clientList.forEach((function(e){var t={},a=Array.isArray(e.clientRoles)?e.clientRoles.map((function(e){return e.roleId})):e.clientRoles?e.clientRoles:["client jadul jgn dipake"];t.client=e.clientId,t.roleList=a,n.push(t)})),y(Object(p.a)(Object(p.a)({},v),{},{clientList:n}))}),[]),Object(n.useEffect)((function(){if(t.updateUser&&1===t.updateUser.length){var e=t.updateUser[0].userRole,a=[];e.forEach((function(e){var t=e.resourcesAllowedList?Array.isArray(e.resourcesAllowedList)?e.resourcesAllowedList.join(", "):e.resourcesAllowedList:"-";e.roleList=t,a.push(e)})),E(a),b(t.updateUser[0])}}),[t.updateUser]);var k=function(e){y(Object(p.a)(Object(p.a)({},v),{},{openEditBasicInfo:e}))};return r.a.createElement(xt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Hn,{handleSave:function(e){c(!1);var t=[];d.forEach((function(e){var a={clientId:e.client,resourcesAllowedList:e.resourcesAllowedList};t.push(a)}));var a={userRoleToUpdate:t},n="/users/".concat(h.userId,"/roles");S({request:a,method:"PATCH",serviceCode:"UPDATE_USER_ROLE",urlParams:n})},dataToUpdate:v.dataToUpdate,data:h,clientList:v.clientList,open:v.open,handleOpen:function(e){y(Object(p.a)(Object(p.a)({},v),{},{open:e}))}}),r.a.createElement(Gn,{open:v.addClientOpen,handleOpen:function(e){y(Object(p.a)(Object(p.a)({},v),{},{addClientOpen:e}))},clientList:t.clientList,clientData:h,handleAddClient:function(e){t.sendUpdateRequest(e)}}),r.a.createElement(Qn,{open:v.openEditBasicInfo,handleClose:k,clientData:h,userInfo:i,title:"Edit Basic Information",completeRequest:function(e,a){var n=e.userId,r=e.basicInformation.emailVerifiedEdit?"Verified"===e.basicInformation.emailVerifiedEdit:null,i=e.basicInformation.phoneVerifiedEdit?"Verified"===e.basicInformation.phoneVerifiedEdit:null,l={attributeToUpdate:{email:e.emailEdit,phone:e.phoneEdit,gender:e.basicInformation.genderEdit,address:e.basicInformation.addressEdit,profile:e.basicInformation.profileEdit,name:e.basicInformation.nameEdit,picture:a.data,emailVerified:r,phoneVerified:i},id:e.userId};Object.keys(l.attributeToUpdate).forEach((function(e){null!==l.attributeToUpdate[e]&&void 0!==l.attributeToUpdate[e]&&""!==l.attributeToUpdate[e]||delete l.attributeToUpdate[e]}));var o={request:l,method:"PATCH",serviceCode:"UPDATE_BASIC_USER",urlParams:"/users/".concat(n)};if(console.log("Request",l),a.data){Ve(a.images[0],a.images[0].type).then((function(e){if(console.log("body",e),"error"===e.type)return Promise.reject();var a=e.ID;return o.request.attributeToUpdate.picture="".concat(Le.gatewayRepoFile,"/static-file-manager/retrieve?file=").concat(a),t.sendUpdateRequest(o),new Promise((function(e,t){e("next-promise")}))})).then((function(e){w(!0)})).catch((function(e){console.log(e)}))}else{new Promise((function(e,a){t.sendUpdateRequest(o),e("next-promise")})).then((function(e){w(!0)}))}k(!1)},backToTable:function(){t.handleClose(!1)}}),r.a.createElement(jt.a,{style:{margin:35,marginTop:15},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Mt.a,{onClick:function(){E([]),b({}),t._setUserFilteredList([]),t.handleClose()},color:"secondary",startIcon:r.a.createElement(Nn.a,null),size:"large",variant:"outlined"},"Back")),r.a.createElement(Wn,{clientData:h,handleOpenEdit:k}),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement(Ga.a,{style:{width:"100%"},title:"User Role List",columns:[{title:"Client",field:"client",width:300},{title:"Role",field:"roleList"}],data:d,editable:{onRowDelete:function(e){return new Promise((function(e){new Promise((function(e,t){e()})).then((function(t){return e()}))}))}},actions:[{icon:"edit",tooltip:"Update Role",onClick:function(e,t){return a=t,void y(Object(p.a)(Object(p.a)({},v),{},{dataToUpdate:a,open:!0}));var a}}],options:{actionsColumnIndex:-1,padding:"dense"}}))),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},v.clientList.length>1?r.a.createElement(Mt.a,{onClick:function(){return y(Object(p.a)(Object(p.a)({},v),{},{addClientOpen:!0}))},variant:"contained",color:"primary",startIcon:r.a.createElement(Un.a,null)},"Add Client to User"):null,r.a.createElement(Mt.a,{onClick:function(){t.sendUpdateRequest(I),c(!0)},variant:"contained",color:"primary",disabled:s,startIcon:r.a.createElement(Dn.a,null)},"Save Role"))))})),Jn=["Soft Delete","Force Delete"];var Xn=function(e){var t=e.userName,a=e.onClose,n=e.value,i=e.open,l=e.handleChoose,o=e.header,s=e.content,c=Object(un.a)(e,["userName","onClose","value","open","handleChoose","header","content"]),m=r.a.useState(n),u=Object(it.a)(m,2),d=u[0],p=u[1],E=r.a.useRef(null);return r.a.useEffect((function(){i||p(n)}),[n,i]),r.a.createElement(Tt.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm",onEntering:function(){null!=E.current&&E.current.focus()},"aria-labelledby":"confirmation-dialog-title",open:i},c),o?r.a.createElement(kt.a,{id:"confirmation-dialog-title"},o):r.a.createElement(kt.a,{id:"confirmation-dialog-title"},"Deleting: ",t),r.a.createElement(Lt.a,{dividers:!0},s?r.a.createElement(gt.a,{variant:"subtitle2"},s):r.a.createElement(ha.a,{ref:E,"aria-label":"ringtone",name:"ringtone",value:d,onChange:function(e){p(e.target.value)}},Jn.map((function(e,t){return r.a.createElement(ba.a,{value:e,control:r.a.createElement(_a.a,null),label:e,key:t+3})})))),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{autoFocus:!0,onClick:function(){a()},color:"primary"},"Cancel"),r.a.createElement(Mt.a,{onClick:function(){l(d),a(d)},color:"primary"},"Ok")))},$n=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth,updateUser:e.userList.filteredList}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t._setUserFilteredList,o=t.clientList,s=t.userInfo,c=t.userList,m=t.updateUser,u=Object(n.useState)(!1),d=Object(it.a)(u,2),E=d[0],f=d[1],g=Object(n.useState)({}),h=Object(it.a)(g,2),b=h[0],_=h[1],O=Object(n.useState)(""),v=Object(it.a)(O,2),y=v[0],C=v[1];Object(n.useEffect)((function(){var e=s.name,t=s.email,n=s.phone,r={name:e,email:t};n&&(r.phone=n),a("User List");var l={request:{},method:"GET",serviceCode:"SELECT_ALL_USER",customHeaders:r};c.length<1&&i(l)}),[a,c.length,i,s]);var j=Object(n.useState)({columns:[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Phone",field:"phone"},{title:"isVerified",field:"isverified",lookup:{"01":"False","02":"True"}}],data:[],dataToProcess:null}),I=Object(it.a)(j,2),S=I[0],T=I[1],R=Object(n.useState)({open:!1}),L=Object(it.a)(R,2),w=L[0],k=L[1];Object(n.useEffect)((function(){var e=s.name,t=s.email,a=s.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:n};o.length<1&&s.email&&setTimeout((function(){i(r)}),100);var l=Object(cn.a)(c);l.forEach((function(e){e.name=e.basicInformation.name,e.isverified=e.phoneVerified||e.emailVerified?"02":"01"})),T((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:l})}))}),[c,s,i,o.length]),Object(n.useEffect)((function(){o[0]&&o.forEach((function(e){e.originURIs=Array.isArray(e.originURIs)?e.originURIs.join(", "):e.originURIs,e.roleDetails=e.roleDetails?e.roleDetails:Array.isArray(e.clientRoles)?e.clientRoles:"",e.clientRoles=e.roleDetails}))}),[o]),Object(n.useEffect)((function(){var e=Object(cn.a)(c);e.forEach((function(e){e.name=e.basicInformation.name,e.isverified=e.phoneVerified||e.emailVerified?"02":"01"})),T((function(t){return Object(p.a)(Object(p.a)({},t),{},{data:e})}))}),[m,c]);return r.a.createElement("div",null,w.open?r.a.createElement(Yn,{clientList:o,open:w.open,handleClose:function(){return k(Object(p.a)(Object(p.a)({},w),{},{open:!1}))},data:S.dataToProcess,sendUpdateRequest:function(e){i(e)},updateUser:m,_setUserFilteredList:l}):r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(Mn,{confirmdeletetext:"Apakah anda yakin menghapus data ini?",title:"Backoffice User List",columns:S.columns,data:S.data,updatedata:function(e,t){return new Promise((function(a,n){t&&(T((function(a){var n=Object(cn.a)(a.data);return n[n.indexOf(t)]=e,Object(p.a)(Object(p.a)({},a),{},{data:n})})),a())}))},deletedata:function(e){return new Promise((function(t,a){var n=e.userId,r="/users/".concat(n);_({request:{},method:"DELETE",serviceCode:"DELETE_USER",urlParams:r}),C(e.name),f(!0),t()}))},rowClicked:function(e){T(Object(p.a)(Object(p.a)({},S),{},{dataToProcess:e})),k(Object(p.a)(Object(p.a)({},w),{},{open:!0}))},action:!0}),r.a.createElement(Xn,{id:"ringtone-menu",keepMounted:!0,open:E,onClose:function(){f(!1)},value:"Soft Delete",handleChoose:function(e){"Soft Delete"===e||(b.request.isForceDelete=!0),t._setCompleteRequest(b)},userName:y})))})),Zn=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),er=function(e){var t,a=Object.assign({},e),i=a.handleAddUser,l=a.handleOpen,o=a.open,s=a.userInfo,c=a.paxList,m=Object(n.useState)({nameErrorMessage:!1,emailErrorMessage:!1,phoneErrorMessage:!1,notComplete:!1}),u=Object(it.a)(m,2),d=u[0],E=u[1],f=function(){l(!1),E({clientRoles:[],nameErrorMessage:!1,emailErrorMessage:!1,phoneErrorMessage:!1,notComplete:!1})};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:o,onClose:f,scroll:"paper"},r.a.createElement(Zn,{id:"max-width-dialog-title",onClose:f},a.label),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,sm:12},r.a.createElement(Zt.a,{size:"small",onChange:(t="email",function(e){var a;e.preventDefault();var n=e.target.value,r=pa(t,n);"0"===n[0]&&console.log("+62"+n.slice(1)),E(Object(p.a)(Object(p.a)({},d),{},(a={},Object(y.a)(a,t,n),Object(y.a)(a,t+"ErrorMessage",r.errorMessage),Object(y.a)(a,"notComplete",!1),a)))}),id:"standard-email",label:Be("app_email"),placeholder:"Email",helperText:d.emailErrorMessage?d.emailErrorMessage:"",error:!!d.emailErrorMessage,fullWidth:!0,margin:"dense",value:d.email}))),d.notComplete?r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{error:!0},Be("err_submit"))):null)),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{variant:"outlined",color:"primary",onClick:function(e){l(!1),e.preventDefault(),E({clientRoles:[]})}},Be("app_cancel"))),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=d.emailErrorMessage,a=d.nameErrorMessage,n=d.phoneErrorMessage;if(t||a||n)E(Object(p.a)(Object(p.a)({},d),{},{notComplete:!0}));else{var r=c.clinicDetail.id?c.clinicDetail.id:c.clinicUser.id?c.clinicUser.id:0,l=d.email,o={name:s.name,email:s.email};s.phone&&(o.phone=s.phone);var m={request:[{email:l}],method:"POST",serviceCode:"ADD_CLINIC_USER",urlParams:"/".concat(r,"/users"),customHeaders:o},u={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(r),customHeaders:o};i(m,u)}}},Be("common_add"))))))},tr=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),ar=function(e){var t=Object.assign({},e),a=t.handleOpen,i=t.imgPreview,l=t.setImgPreview,o=t.open,s=t.setImageFile,c=t.handleSaveImage,m=t._setSnackbar,u=Object(n.useState)({error:!1,errorMessage:""}),d=Object(it.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)(null),g=Object(it.a)(f,2),h=g[0],b=g[1],_=Object(n.useState)(!0),O=Object(it.a)(_,2),v=O[0],y=O[1];Object(n.useEffect)((function(){o&&!h&&b(i)}),[o,h,i]);var C=function(){a(!1)},j=function(){var e=Object(kn.a)(wn.a.mark((function e(t){var a,n,r;return wn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E({error:!1,errorMessage:""}),a={open:!0,severity:"warning"},!(n=t.target.files[0])){e.next=19;break}if(n.type.includes("image")){e.next=8;break}E({error:!0,errorMessage:"Must be image file"}),e.next=19;break;case 8:if(!(n.size>2e6)){e.next=12;break}E({error:!0,errorMessage:"Image is bigger than 2 MB"}),e.next=19;break;case 12:return e.next=14,Xa(n);case 14:(r=e.sent).message&&(a.message=r.message,m(a)),b(r.blobUrl),s(r.file),y(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:o,onClose:C,scroll:"paper"},r.a.createElement(tr,{id:"max-width-dialog-title",onClose:C},t.label),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,sm:12},r.a.createElement(ct.a,{src:h,variant:"rounded",style:{width:150,height:150}}),r.a.createElement("div",null,r.a.createElement("input",{accept:"image/*",onChange:j,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(gt.a,{color:"error",variant:"caption"},p.errorMessage),r.a.createElement(Mt.a,{variant:"outlined",component:"span",size:"small",color:"primary"},Be("app_select_photo"))))))))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{variant:"outlined",color:"primary",onClick:function(e){b(i),a(!1),e.preventDefault()}},Be("app_cancel"))),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{disabled:v,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),l(h),b(null),a(!1),c()}},Be("common_change"))))))},nr=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth,updateUser:e.userList.filteredList,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setSecondRequest:function(t){return e(te(t))},_setSnackbar:function(t){return e(_e(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t._setSecondRequest,o=t.userInfo,s=t.roleUsed,c=t.paxList,m=t._setSnackbar,u=t.history,d=Object(n.useState)({}),E=Object(it.a)(d,2),f=E[0],g=E[1],h=Object(n.useState)([]),b=Object(it.a)(h,2),_=b[0],O=b[1],v=Object(n.useState)({clientList:[],dataToUpdate:null,open:!1,addClientOpen:!1}),y=Object(it.a)(v,2),C=y[0],j=y[1],I=Object(n.useState)(null),S=Object(it.a)(I,2),T=S[0],R=S[1],L=Object(n.useState)(null),w=Object(it.a)(L,2),k=w[0],M=w[1],x=Object(n.useState)(null),D=Object(it.a)(x,2),P=D[0],U=D[1],A=Object(n.useState)(!1),N=Object(it.a)(A,2),q=N[0],F=N[1],H=Object(n.useState)(!1),B=Object(it.a)(H,2),G=B[0],V=B[1],W=Object(n.useState)(null),z=Object(it.a)(W,2),K=z[0],Q=z[1];Object(n.useEffect)((function(){var e=o.name,t=o.email,n=o.phone,r={name:e,email:t};if(n&&(r.phone=n),"biofarma.admin"===s||"voltras.admin"===s){var m=c.clinicDetail.id,u={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(m),customHeaders:r};i(u)}else if("clinic.admin"===s||"clinic.operator"===s){i({request:{},method:"GET",serviceCode:"GET_MY_CLINIC",customHeaders:r}),l(!0)}else console.log("NO ROLE",o);a("Clinic Setting")}),[o,s,a,c.clinicDetail,i,l]),Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){var e={};if(e=c?c.clinicDetail&&c.clinicDetail.id?c.clinicDetail:c.clinicUser&&c.clinicUser.id?c.clinicUser:{}:{},g(e),e.logo_url&&R(e.logo_url),c.clinicUser&&c.clinicUser.users.length>0){var t=c.clinicUser.users.map((function(e){var t=Array.isArray(e.roles)?e.roles.join(", ").replace("member, ",""):"";return e.roles=t,e}));O(t)}}),[c]);var Y=function(e){j(Object(p.a)(Object(p.a)({},C),{},{addClientOpen:e}))},J=function(e){F(e)};return r.a.createElement("div",null,r.a.createElement(er,{label:Be("clinic_add_user"),handleOpen:Y,open:C.addClientOpen,clinicInfo:f,userInfo:o,handleAddUser:function(e,t){i(e),l(t),Y(!1)},paxList:c}),r.a.createElement(ar,{label:Be("clinic_logo"),handleOpen:J,open:q,imgPreview:T,setImgPreview:R,setImageFile:M,setImageType:U,handleSaveImage:function(){var e=c.clinicUser.id||c.myClinic.clinic_id,t=o.name?o.name:"",a=o.email?o.email:"",n=o.phone?o.phone:"",r={name:t,email:a};n&&(r.phone=n),Ve(k,P,k).then((function(t){if(t.ID){var a={request:{url:Le.gatewayRepoFile+"/static-file-manager/retrieve?file=".concat(t.ID)},method:"POST",serviceCode:"ADD_CLINIC_LOGO",urlParams:"/".concat(e,"/logo_url"),customHeaders:r};i(a)}else console.log("wrong response")}))},_setSnackbar:m}),r.a.createElement(Xn,{id:"delete-client",keepMounted:!0,open:G,onClose:function(){V(!1)},header:"Delete User",content:K?K.email:"",handleChoose:function(){var e=K,t=e.clinic_id,a=e.id,n={name:o.name,email:o.email};o.phone&&(n.phone=o.phone);var r={request:{},method:"DELETE",serviceCode:"DELETE_CLINIC_USER",urlParams:"/".concat(t,"/users/").concat(a),customHeaders:n},s={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(t),customHeaders:n};i(r),l(s)}}),r.a.createElement(xt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(jt.a,{style:{margin:40,marginTop:1},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,style:{marginTop:5}},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,null,Be("clinic_logo"))),r.a.createElement(jt.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,xs:4},T?r.a.createElement(Vn.a,{title:"clinic.admin"===s?"Click to change logo":"Clinic Logo"},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(jt.a,{item:!0},r.a.createElement(st.a,{elevation:1,onClick:function(){return"clinic.admin"===s?J(!0):null}},r.a.createElement("img",{src:T,style:{height:85},alt:"Logo"}))),r.a.createElement(jt.a,{item:!0,style:{marginLeft:10,visibility:"clinic.admin"===s?"visible":"hidden"}},r.a.createElement(bt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?J(!0):null}},r.a.createElement(Dn.a,null))))):"clinic.admin"===s?r.a.createElement(Mt.a,{color:"primary",variant:"outlined",size:"small",onClick:function(){return J(!0)}},Be("clinic_set_logo")):null)),r.a.createElement(jt.a,{style:{marginTop:15},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,null,Be("clinic")," ID")),r.a.createElement(jt.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,xs:8},r.a.createElement(gt.a,null,f.id))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,null,Be("clinic_name"))),r.a.createElement(jt.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,xs:8},r.a.createElement(gt.a,null,f.name))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,null,Be("common_address"))),r.a.createElement(jt.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(gt.a,null,":")),r.a.createElement(jt.a,{item:!0,xs:7},r.a.createElement(gt.a,null,f.address))),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement(Ga.a,{style:{width:"100%"},title:Be("clinic_user_list"),columns:[{title:Be("app_name"),field:"name"},{title:Be("app_email"),field:"email"},{title:"Role",field:"roles"},{title:Be("app_phone"),field:"phone"}],data:_,actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,t){return a=t,new Promise((function(e,t){var n=c.clinicDetail.creation?c.clinicDetail.creation.email:c.clinicUser.creation?c.clinicUser.creation.email:null;n&&n!==a.email?(Q(a),V(!0)):m({open:!0,severity:"warning",message:"Cannot delete clinic creator"}),e()}));var a}}],options:{actionsColumnIndex:-1,padding:"dense",paging:!1}}))),r.a.createElement(jt.a,{style:{marginTop:25},container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Mt.a,{style:{width:150,marginRight:10,display:"clinic.admin"===s||"clinic.operator"===s?"none":""},variant:"outlined",color:"secondary",onClick:function(){return u.push("/KClinicList")},startIcon:r.a.createElement(Nn.a,null)},Be("app_back")),r.a.createElement(Mt.a,{style:{width:150,marginLeft:10},variant:"contained",color:"primary",onClick:function(){return Y(!0)},startIcon:r.a.createElement(Un.a,null)},Be("clinic_add_user"))))),r.a.createElement("div",{style:{height:100}}),r.a.createElement("canvas",{id:"canvas",style:{width:"300",display:"none"}}))})),rr=function(e){var t=r.a.useState("all"),a=Object(it.a)(t,2),n=a[0],i=a[1],l=function(t){var a=t.target.value,n=e.props.userInfo,r=n.name?n.name:"",l=n.email?n.email:"",o=n.phone?n.phone:"",s={name:r,email:l};o&&(s.phone=o),i(a);var c="?&status=".concat(a);"all"!==a&&({request:{},method:"GET",serviceCode:"healthKlinik",customHeaders:s}.urlParams=c),e.setFilteredData(a)};return r.a.createElement(Ft.a,{xsDown:!0},"member"!==e.props.roleUsed?r.a.createElement(jt.a,{container:!0,style:{marginTop:5}},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginLeft:20,marginTop:5}},r.a.createElement(jt.a,{item:!0},r.a.createElement(gt.a,{variant:"subtitle1"},r.a.createElement("b",null,"Status:")," ")),r.a.createElement(jt.a,{item:!0,style:{marginLeft:10}},r.a.createElement(ba.a,{value:"all",control:r.a.createElement(_a.a,{size:"small",checked:"all"===n,onChange:l}),label:"All"}),r.a.createElement(ba.a,{value:"active",control:r.a.createElement(_a.a,{size:"small",checked:"active"===n,onChange:l}),label:"Active"}),r.a.createElement(ba.a,{value:"register",control:r.a.createElement(_a.a,{size:"small",checked:"register"===n,onChange:l}),label:"Register"})),r.a.createElement(jt.a,{item:!0}," ",r.a.createElement("br",null)))):null)},ir=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setSnackbar:function(t){return e(_e(t))},_setSecondRequest:function(t){return e(te(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setClinicDetail:function(t){return e(fe(t))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t._setSecondRequest,s=t._setSnackbar,c=t.paxList,m=t._setClinicDetail,u=t.history,d=t.roleUsed,p=Object(n.useState)([]),E=Object(it.a)(p,2),f=E[0],g=E[1],h=Object(n.useState)([]),b=Object(it.a)(h,2),_=b[0],O=b[1],v=Object(n.useState)(!1),y=Object(it.a)(v,2),C=y[0],j=y[1],I=Object(n.useState)(null),S=Object(it.a)(I,2),T=S[0],R=S[1];Object(n.useEffect)((function(){a("Clinic List"),window.scrollTo(0,0);var e=[{title:"ID",field:"id",width:100},{title:Be("clinic_name"),field:"name",width:300},{title:Be("common_address"),field:"address"},{title:"Status",field:"status"}];g(e);var t=l.name,n=l.email,r=l.phone,o={name:t,email:n};r&&(o.phone=r),i({request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:o})}),[a,i,l]),Object(n.useEffect)((function(){var e=c.klinikList?c.klinikList:[];Array.isArray(e)&&e.length>0?(e.sort((function(e,t){return e.id-t.id})),O(e)):O([])}),[c]);return r.a.createElement(jt.a,null,r.a.createElement(rr,{props:t,setFilteredData:function(e){var t=c.klinikList?c.klinikList:[],a=[];a="active"===e?t.filter((function(e){return"active"===e.status})):"register"===e?t.filter((function(e){return"register"===e.status})):t,O(a)}}),r.a.createElement(Mn,{title:"Clinic List",columns:f,data:_,parentProps:t,updatedata:function(e){if("active"===e.status){var t={open:!0,severity:"success",message:Be("clinic_active")};s(t)}else R(e),j(!0)},deletedata:function(e){console.log(e.status);var t=e.id,a=l.name?l.name:"",n=l.email?l.email:"",r=l.phone?l.phone:"",c={name:a,email:n};r&&(c.phone=r);var m={request:{},method:"DELETE",serviceCode:"DELETE_CLINIC",urlParams:"/".concat(t),customHeaders:c},u={request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:c};if("inactive"===e.status){var d={open:!0,severity:"success",message:Be("clinic_inactive")};s(d)}else i(m),o(u)},rowClicked:function(e){m(e);var t=e.id,a=l.name,n=l.email,r=l.phone,o={name:a,email:n};r&&(o.phone=r);var s={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(t),customHeaders:o};"member"===d?u.push("/KSetting"):i(s)},confirmdeletetext:Be("clinic_inactive_confirmation"),update:!0,action:"member"!==d,roleUsed:d}),r.a.createElement(Xn,{id:"ringtone-menu",keepMounted:!0,open:C,onClose:function(){j(!1)},header:"Activate",content:T&&T.name,handleChoose:function(e){var t=l.name,a=l.email,n=l.phone,r={name:t,email:a};n&&(r.phone=n);var o={request:{},method:"POST",serviceCode:"SEND_CLINIC_ACTIVATION",urlParams:"/".concat(T.id,"/activation"),customHeaders:r};i(o)}}),r.a.createElement(jt.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-700}})))})),lr=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setClinicDetail:function(t){return e(fe(t))},_setCityList:function(t){return e(he(t))},_setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=e.paxList,a=e._setCompleteRequest,i=e.userInfo,l=e._setCityList,o=e._setOpenScreen,s=Object(n.useState)({city:"",submitErrorMessage:"",clinic_parents:[]}),c=Object(it.a)(s,2),m=c[0],u=c[1];Object(n.useEffect)((function(){o("Clinic Registration")}),[o]),Object(n.useEffect)((function(){var e=i.name,t=i.email,n=i.phone,r={name:e,email:t};n&&(r.phone=n),a({request:{},method:"GET",serviceCode:"GET_CITY_LIST",urlParams:"/cities?&citykey=a",customHeaders:r})}),[a,i]),Object(n.useEffect)((function(){u((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_parents:t.clinic_parents,parent_id:1===t.clinic_parents.length?parseInt(t.clinic_parents[0].id):0})}))}),[t.clinic_parents]);var d=function(e){return function(t){var a,n=pa(e,t.target.value);u(Object(p.a)(Object(p.a)({},m),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage",n.errorMessage),Object(y.a)(a,"isError",n.error),Object(y.a)(a,"submitErrorMessage",""),a)))}};return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},console.log("PARENT CLINIC: ",Le.parentClinic),r.a.createElement(xt.a,{variant:"elevation",style:{marginTop:20}},r.a.createElement(Dt.a,{style:{width:320,textAlign:"center"}},r.a.createElement(gt.a,{variant:"h5",style:{marginBottom:15}},r.a.createElement("b",null,Be("app_register"))," "),r.a.createElement(jt.a,{container:!0,item:!0,direction:"column"},r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:15}},r.a.createElement(Ut.a,{error:!!m.clinicNameErrorMessage,htmlFor:"nameClinic"},Be("clinic_name")),r.a.createElement(Pt.a,{error:!!m.clinicNameErrorMessage,id:"standard-adornment-name",type:"text",onChange:d("clinicName")}),m.clinicNameErrorMessage?r.a.createElement(At.a,{error:!0,id:"name-helper"},m.clinicNameErrorMessage):null),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:15,marginRight:5}},r.a.createElement(fa,{id:"registerClinicChooseCity",options:e.paxList.cityList[0]?e.paxList.cityList:[],optionItem:"city",label:Be("clinic_city"),notShrink:!0,handleInputChange:function(e){var n=i.name?i.name:"",r=i.email?i.email:"",o=i.phone?i.phone:"",s={name:n,email:r};o&&(s.phone=o);var c={request:{},method:"GET",serviceCode:"GET_CITY_LIST",urlParams:"/cities?&citykey=".concat(e),customHeaders:s};t.cityList&&e?a(c):l([{name:""}])},onPick:function(e){u(Object(p.a)(Object(p.a)({},m),{},{city:e?e.city:"",submitErrorMessage:""}))}})),r.a.createElement(Nt.a,{fullWidth:!0,style:{marginBottom:15}},r.a.createElement(Ut.a,{error:!!m.phoneErrorMessage,htmlFor:"standard-address"},Be("clinic_address")),r.a.createElement(Pt.a,{error:!!m.addressErrorMessage,id:"standard-adornment-address",type:"text",onChange:d("address")}),m.addressErrorMessage?r.a.createElement(At.a,{error:!0,id:"address-helper-text"},m.addressErrorMessage):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Mt.a,{onClick:function(e){e.preventDefault();var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l=m.city,o=m.clinicName,s=m.address,c={name:t,email:n};if(r&&(c.phone=r),l&&o&&s){var d={request:{city:l,name:o,address:s,parent_id:Le.parentClinic},method:"POST",serviceCode:"CLINIC_REGISTRATION",customHeaders:c};a(d)}else u(Object(p.a)(Object(p.a)({},m),{},{submitErrorMessage:Be("err_submit")}))},fullWidth:!0,variant:"contained",color:"primary"},Be("app_register")),m.submitErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},m.submitErrorMessage):null))),r.a.createElement(jt.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-550}})))})),or=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),sr=function(e){var t=Object.assign({},e),a=Object(n.useState)(!0),i=Object(it.a)(a,2),l=i[0],o=i[1],s=Object(n.useState)({addRoleList:[]}),c=Object(it.a)(s,2),m=c[0],u=c[1],d=function(){u({addRoleList:[]}),t.handleOpen(!1),o(!0)},E=function(e){return function(t){var a,n=pa(e,t.target.value);u(Object(p.a)(Object(p.a)({},m),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:d,scroll:"paper"},r.a.createElement(or,{id:"max-width-dialog-title",onClose:d},"Client: ",t.data?t.data.clientName:""),r.a.createElement(Lt.a,{dividers:!0},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,md:6},r.a.createElement(gt.a,{variant:"subtitle2"},"Role Id"),r.a.createElement(ft.a,{dense:!0},m.addRoleList[0]?m.addRoleList.map((function(e,t){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(yt.a,{primary:"- "+e.roleId}))})):r.a.createElement(yt.a,{secondary:"- none"}))),r.a.createElement(jt.a,{item:!0,md:6},r.a.createElement(gt.a,{variant:"subtitle2"},"Description"),r.a.createElement(ft.a,{dense:!0},m.addRoleList[0]?m.addRoleList.map((function(e,t){return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(yt.a,{primary:"- "+e.roleDescription}))})):r.a.createElement(yt.a,{secondary:"- none"}))),l?r.a.createElement(xt.a,{style:{marginTop:20}},r.a.createElement(Dt.a,null,r.a.createElement(jt.a,null,r.a.createElement(gt.a,{variant:"subtitle2"},"Add RoleId and Description")),r.a.createElement(jt.a,null,r.a.createElement(Zt.a,{autoFocus:!0,margin:"dense",size:"small",onChange:E("roleId"),id:"standard-roleId",label:"RoleId",placeholder:"RoleId",value:m.roleId,helperText:m.roleIdErrorMessage?m.roleIdErrorMessage:"",error:!!m.roleIdErrorMessage})),r.a.createElement(jt.a,null,r.a.createElement(Zt.a,{size:"small",onChange:E("roleDescription"),id:"standard-roleDesc",label:"Description",placeholder:"Role description",value:m.roleDescription,helperText:m.roleDescriptionErrorMessage?m.roleDescriptionErrorMessage:"",error:!!m.roleDescriptionErrorMessage}))),r.a.createElement(In.a,null,r.a.createElement(Mt.a,{disabled:!m.roleId||!m.roleDescription,variant:"outlined",size:"small",color:"secondary",onClick:function(){var e={};m.roleId&&m.roleDescription&&(e.roleId=m.roleId,e.roleDescription=m.roleDescription,u(Object(p.a)(Object(p.a)({},m),{},{addRoleList:[].concat(Object(cn.a)(m.addRoleList),[e]),roleId:"",roleDescription:""})),o(!1),e={})}},"Add"))):null)),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:d,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:function(){t.handleSave(m.addRoleList),t.handleOpen(!1),o(!0),u(Object(p.a)(Object(p.a)({},m),{},{addRoleList:[]}))},variant:"contained",color:"primary"},"Save")))))},cr=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),mr=function(e){var t=Object.assign({},e),a=Object(n.useState)(Object(y.a)({basicInfo:{}},t.dataField.id,t.dataField.field)),i=Object(it.a)(a,2),l=i[0],o=i[1];Object(n.useEffect)((function(){o(Object(y.a)({},t.dataField.id,t.dataField.field))}),[t.dataField]);var s=function(){o({addRoleList:[]}),t.handleOpen({open:!1})},c=function(e){return function(a){var n,r=pa(e,a.target.value);o(Object(p.a)(Object(p.a)({},l),{},(n={basicInfo:Object(p.a)(Object(p.a)({},l.basicInfo),{},Object(y.a)({},t.dataField.id,a.target.value))},Object(y.a)(n,t.dataField.id,a.target.value),Object(y.a)(n,e+"ErrorMessage",r.errorMessage),n)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:s,scroll:"paper"},r.a.createElement(cr,{id:"max-width-dialog-title",onClose:s},"Client: ",t.data?t.data.clientName:""),r.a.createElement(Lt.a,{dividers:!0},"initialUserRole"===t.dataField.id||"profile"===t.dataField.id?r.a.createElement(Zt.a,{autoFocus:!0,fullWidth:!0,select:!0,margin:"dense",size:"small",onChange:c(t.dataField.id),id:"standard-roleId",label:t.dataField.title,placeholder:t.dataField.title,value:l[t.dataField.id]},"profile"===t.dataField.id?["Web Application","Android","IOS"].map((function(e){return r.a.createElement(Cn.a,{key:e,value:e},e)})):t.data.roleDetails.map((function(e){return r.a.createElement(Cn.a,{key:e.roleId,value:e.roleId},e.roleId)}))):r.a.createElement(Zt.a,{autoFocus:!0,fullWidth:!0,margin:"dense",size:"small",onChange:c(t.dataField.id),id:"standard-roleId",label:t.dataField.title,placeholder:t.dataField.title,value:l[t.dataField.id],helperText:l["".concat(t.dataField.id,"ErrorMessage")]?l["".concat(t.dataField.id,"ErrorMessage")]:"",error:!!l["".concat(t.dataField.id,"ErrorMessage")]})),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:s,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:function(){t.handleSave(l.basicInfo),t.handleOpen(!1),o(Object(p.a)(Object(p.a)({},l),{},{addRoleList:[]}))},variant:"contained",color:"primary",disabled:"emailSender"===t.dataField.id||"emailSenderMaskingName"===t.dataField.id?!!l["".concat(t.dataField.id,"ErrorMessage")]:!l[t.dataField.id]||!!l["".concat(t.dataField.id,"ErrorMessage")]},"Edit")))))},ur=Object(ot.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),dr=function(e){var t=Object.assign({},e),a=Object(n.useState)({originUris:[],redirectUris:[]}),i=Object(it.a)(a,2),l=i[0],o=i[1],s=function(){o({addRoleList:[]}),t.handleOpen(!1)},c=function(e){return function(t){var a,n=pa(e,t.target.value);o(Object(p.a)(Object(p.a)({},l),{},(a={},Object(y.a)(a,e,{uri:t.target.value}),Object(y.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:s,scroll:"paper"},r.a.createElement(ur,{id:"max-width-dialog-title",onClose:s},"Client: ",t.data?t.data.clientName:""),r.a.createElement(Lt.a,{dividers:!0},t.redirect?r.a.createElement(Zt.a,{autoFocus:!0,margin:"dense",size:"small",onChange:c("redirectUris"),id:"standard-roleId",label:"Redirect URI",placeholder:"Redirect URI",value:l.redirectUris?l.redirectUris.uri:"",helperText:l.redirectUrisErrorMessage?l.redirectUrisErrorMessage:"",error:!!l.redirectUrisErrorMessage}):r.a.createElement(Zt.a,{autoFocus:!0,margin:"dense",size:"small",onChange:c("originUris"),id:"standard-roleId",label:"Origin URI",placeholder:"Origin URI",value:l.originUris?l.originUris.uri:"",helperText:l.originUrisErrorMessage?l.originUrisErrorMessage:"",error:!!l.originUrisErrorMessage})),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:s,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:function(){t.redirect?t.handleSave(l.redirectUris):t.handleSave(l.originUris),t.handleOpen(!1),o(Object(p.a)(Object(p.a)({},l),{},{addRoleList:[]}))},variant:"contained",color:"primary",disabled:function(){var e=l.originUris?l.originUris.uri:"",t=l.redirectUris?l.redirectUris.uri:"";return!!l.originUrisErrorMessage||(!!l.redirectUrisErrorMessage||!e&&!t)}()},"Save")))))},pr=a(30),Er=a(481),fr=a(469),gr=a(464),hr=a(482),br=a(479),_r=a(502),Or=a(470),vr=a(360),yr=a.n(vr),Cr=a(362),jr=a.n(Cr),Ir=a(361),Sr=a.n(Ir),Tr=a(359),Rr=a.n(Tr),Lr=Object(Bt.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},table:{minWidth:500},rootToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)}}})),wr=function(e){var t=Object.assign({},e),a=t.column,i=t.data;i.map((function(e){return a.map((function(t){return"boolean"===typeof e[t.field]&&(e[t.field]?e[t.field]="True":e[t.field]="False"),null})),null})),Object(n.useEffect)((function(){return b(i),function(){y("")}}),[i]);var l=Lr(),o=Object(n.useState)(0),s=Object(it.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(5),d=Object(it.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)([]),g=Object(it.a)(f,2),h=g[0],b=g[1],_=Object(n.useState)(""),O=Object(it.a)(_,2),v=O[0],y=O[1],C=p-Math.min(p,h.length-c*p),j=function(e,t){m(t)},I=function(e){E(parseInt(e.target.value,10)),m(0)},S=function(e){e.target.value?(b(i.filter((function(t){return t.clientId===e.target.value}))),y(e.target.value),m(0)):(b(i),y(e.target.value))},T=function(e,t){return e.filter((function(e,a,n){return n.map((function(e){return e[t]})).indexOf(e[t])===a}))};return r.a.createElement(st.a,{className:l.root},r.a.createElement(pt.a,null,r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,sm:10},r.a.createElement(gt.a,{className:l.title,variant:"h6",id:"tableTitle",component:"div"},t.title)),r.a.createElement(jt.a,{item:!0,sm:2},t.options?t.options.filterClientId?r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(Zt.a,{label:"filter By Client Id",fullWidth:!0,placeholder:"ClientId",onChange:S,value:v,select:!0,InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{key:null,value:null},"All"),T(i,"clientId").map((function(e){return r.a.createElement(Cn.a,{key:e.clientId,value:e.clientId},e.clientId)})))):"":r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(Zt.a,{label:"filter By Client Id",fullWidth:!0,placeholder:"ClientId",onChange:S,value:v,select:!0,InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{key:null,value:null},"All"),T(i,"clientId").map((function(e){return r.a.createElement(Cn.a,{key:e.clientId,value:e.clientId},e.clientId)}))))))),r.a.createElement(Er.a,{className:l.table,size:"small","aria-label":"a dense table"},r.a.createElement(br.a,null,r.a.createElement(Or.a,null,a.map((function(e,t){return r.a.createElement(gr.a,{key:t,align:"left"},e.title)})),r.a.createElement(gr.a,{align:"right"},"Actions"))),r.a.createElement(fr.a,null,(p>0?h.slice(c*p,c*p+p):h).map((function(e,n){return r.a.createElement(Or.a,{key:n},a.map((function(t,a){return r.a.createElement(gr.a,{key:a,align:"left"},e[t.field])})),r.a.createElement(gr.a,{align:"right"},r.a.createElement(Vn.a,{title:"Edit"},r.a.createElement(Dn.a,{onClick:function(){return function(e){t.handleEditOpen(!0,!0,e)}(e)},style:{cursor:"pointer"}}))))})),C>0&&r.a.createElement(Or.a,{style:{height:53*C}},r.a.createElement(gr.a,{colSpan:6}))),t.options?t.options.pagination?r.a.createElement(hr.a,null,r.a.createElement(Or.a,null,r.a.createElement(_r.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:h.length,rowsPerPage:p,page:c,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:j,onChangeRowsPerPage:I,ActionsComponent:Mr}))):"":r.a.createElement(hr.a,null,r.a.createElement(Or.a,null,r.a.createElement(_r.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:h.length,rowsPerPage:p,page:c,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:j,onChangeRowsPerPage:I,ActionsComponent:Mr})))))},kr=Object(Bt.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Mr(e){var t=kr(),a=Object(pr.a)(),n=e.count,i=e.page,l=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:t.root},r.a.createElement(bt.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page"},"rtl"===a.direction?r.a.createElement(Rr.a,null):r.a.createElement(yr.a,null)),r.a.createElement(bt.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page"},"rtl"===a.direction?r.a.createElement(Sr.a,null):r.a.createElement(jr.a,null)),r.a.createElement(bt.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(n/l)-1,"aria-label":"next page"},"rtl"===a.direction?r.a.createElement(jr.a,null):r.a.createElement(Sr.a,null)),r.a.createElement(bt.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/l)-1))},disabled:i>=Math.ceil(n/l)-1,"aria-label":"last page"},"rtl"===a.direction?r.a.createElement(yr.a,null):r.a.createElement(Rr.a,null)))}var xr=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},Dr=Object(ot.a)(xr)((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(un.a)(e,["children","classes","onClose"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(gt.a,{variant:"h6"},t),n?r.a.createElement(bt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(pn.a,null)):null)})),Pr=Object(ot.a)(xr)((function(e){var t=Object.assign({},e),a=t.classes,i=t.dataToUpdate,l=Object(n.useState)({dataToUpdate:{}}),o=Object(it.a)(l,2),s=o[0],c=o[1],m=Object(n.useState)([]),u=Object(it.a)(m,2),d=u[0],E=u[1];Object(n.useEffect)((function(){i&&(c({dataToUpdate:i}),E(t.data?t.data:[]))}),[i,t.data]);var f=function(){t.handleClose(!1,!0)},g=function(e){return function(t){var a;c(Object(p.a)(Object(p.a)({},s),{},{dataToUpdate:Object(p.a)(Object(p.a)({},s.dataToUpdate),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"Edit",t.target.value),a))}))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:t.open,onClose:f,scroll:"paper"},r.a.createElement(Dr,{id:"max-width-dialog-title",onClose:f},"Edit Messaging Template"),r.a.createElement(Lt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(Zt.a,{fullWidth:!0,id:"messagingTemplateCode",onChange:g("messagingTemplateCode"),value:s.dataToUpdate?s.dataToUpdate.messagingTemplateCode:"",label:"Code",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,onChange:g("messagingTemplateLang"),id:"messagingTemplateLang",value:s.dataToUpdate?s.dataToUpdate.messagingTemplateLang:"",label:"Languange",InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{value:"en"},"EN"),r.a.createElement(Cn.a,{value:"id"},"ID")),r.a.createElement(Zt.a,{fullWidth:!0,label:"Subject",id:"subjectTemplate",onChange:g("subjectTemplate"),value:s.dataToUpdate?s.dataToUpdate.subjectTemplate:"",InputLabelProps:{shrink:!0}}),r.a.createElement(Zt.a,{fullWidth:!0,multiline:!0,rows:5,onChange:g("contentTemplate"),id:"contentTemplate",label:"Content",value:s.dataToUpdate?s.dataToUpdate.contentTemplate:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{color:"primary",variant:"contained",className:a.addButton,onClick:function(){console.log("datatataa",d),delete s.dataToUpdate.messagingTemplateCodeEdit,delete s.dataToUpdate.messagingTemplateLangEdit,delete s.dataToUpdate.subjectTemplateEdit,delete s.dataToUpdate.contentTemplateEdit,t.handleClose(!1),t.handleSave(s.dataToUpdate)}},"Edit")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:f,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),Ur=Object(o.b)((function(e){return{messagingList:e.clientList.messagingList,userInfo:e.userInfo.info}}),(function(e){return{_setClientMessagingEdit:function(t){e(function(e){return{type:"SET_CLIENT_MESSAGE_EDIT",val:e}}(t))}}}))((function(e){var t=Object.assign({},e),a=t.userInfo,i=t.messagingList,l=t._setClientMessagingEdit,o=t.completeRequest,s=Object(n.useState)([]),c=Object(it.a)(s,2),m=c[0],u=c[1],d=Object(n.useState)([]),E=Object(it.a)(d,2),f=E[0],g=E[1],h=Object(n.useState)([]),b=Object(it.a)(h,2),_=b[0],O=b[1],v=Object(n.useState)({}),y=Object(it.a)(v,2),C=y[0],j=y[1],I=Object(n.useState)({}),S=Object(it.a)(I,2),T=S[0],R=S[1],L=Object(n.useState)([]),w=Object(it.a)(L,2),k=w[0],M=w[1],x=Object(n.useState)([]),D=Object(it.a)(x,2),P=D[0],U=D[1],A=Object(n.useState)({clientList:[],dataField:{},dataToUpdate:null,messageToUpdate:null,open:!1,openBasicInfo:!1,openOriginOri:!1,openRedirectOri:!1,openTemplateMessage:!1}),N=Object(it.a)(A,2),q=N[0],F=N[1],H=Object(n.useState)(!0),B=Object(it.a)(H,2),G=B[0],V=B[1];Object(n.useEffect)((function(){var e=a.name,n=a.email,r=a.phone,i={name:e,email:n},l=t.data.clientId;r&&(i.phone=r);var s={request:{clientId:l},method:"GET",serviceCode:"SELECT_ALL_MESSAGE",urlParams:"/clients/".concat(l,"/messaging-templates/")};o(s)}),[a,o,t.data.clientId]),Object(n.useEffect)((function(){var e=[],a=[],n=Object(p.a)({},t.data);Array.isArray(t.data.originURIs)&&t.data.originURIs.map((function(t,a){return e.push({uri:t,id:a}),null})),Array.isArray(t.data.redirectURIs)&&t.data.redirectURIs.map((function(e,t){return a.push({uri:e,id:t}),null})),g(e),O(a),j(t.data),M([{title:"Client ID",id:"clientId",field:n.clientId,edit:!1},{title:"Client Secret",field:n.clientSecret,id:"clientSecret",edit:!1},{title:"Client Name",field:n.clientName,id:"clientName",edit:!0},{title:"Initial Role",id:"initialUserRole",field:n.initialUserRole,edit:!0},{title:"Profile",id:"profile",field:n.profile,edit:!0},{title:"Email Sender",id:"emailSender",field:n.emailSender,edit:!0},{title:"Email Masking Name",id:"emailSenderMaskingName",field:n.emailSenderMaskingName,edit:!0},{title:"Client Domain",id:"clientDomain",field:n.clientDomain,edit:!0}]),u(t.data.roleDetails?t.data.roleDetails:[{roleId:"jadul",roleDescription:"save to delete"}]),U(0!==i.length?i:[{messagingTemplateCode:"",messagingTemplateLang:""}])}),[t.data,i]);var W=Object(n.useState)(!1),z=Object(it.a)(W,2),K=z[0],Q=z[1],Y=Object(n.useState)({}),J=Object(it.a)(Y,2),X=J[0],$=J[1],Z=function(){t.handleClose()},ee=function(e){F(Object(p.a)(Object(p.a)({},q),{},{open:e}))},te=function(e){F(Object(p.a)(Object(p.a)({},q),{},{openOriginOri:e}))},ae=function(e){F(Object(p.a)(Object(p.a)({},q),{},{openRedirectOri:e}))},ne=function(e){F(Object(p.a)(Object(p.a)({},q),{},{openBasicInfo:e.open,dataField:e}))},re=function(e,t,a){F(Object(p.a)(Object(p.a)({},q),{},{openTemplateMessage:e,messageToUpdate:a}))};return r.a.createElement(xt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(jt.a,{style:{margin:35,marginTop:15},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Mt.a,{size:"large",onClick:Z,color:"secondary",startIcon:r.a.createElement(Nn.a,null),variant:"outlined"},"Back")),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0,xs:12,style:{marginTop:10,marginBottom:10}},r.a.createElement(st.a,{style:{paddingLeft:20}},r.a.createElement(gt.a,{variant:"h6",style:{paddingBottom:20}},"Basic Information"),r.a.createElement(jt.a,{container:!0,style:{marginBottom:15}},r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(gt.a,null,"Information")),r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(gt.a,{style:{textAlign:"right",paddingRight:5}},"Actions"))),k.map((function(e){return r.a.createElement("div",null,r.a.createElement(jt.a,{container:!0,style:{marginBottom:8}},r.a.createElement(jt.a,{item:!0,xs:2},r.a.createElement(gt.a,null,e.title)),r.a.createElement(jt.a,{item:!0,xs:8},r.a.createElement(gt.a,{style:{fontSize:14}},e.field)),e.edit?r.a.createElement(jt.a,{container:!0,item:!0,xs:2,justify:"flex-end",style:{paddingRight:15}},r.a.createElement(Dn.a,{onClick:function(){return ne(Object(p.a)(Object(p.a)({},e),{},{open:!0}))}})):""),r.a.createElement(ht.a,null))})))),r.a.createElement(jt.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(wr,{title:"Messaging Template",column:[{title:"Code",field:"messagingTemplateCode"},{title:"Languange",field:"messagingTemplateLang"},{title:"Subject",field:"subjectTemplate"}],handleEditOpen:re,data:0!==i.length?i:[{messagingTemplateCode:"",messagingTemplateLang:""}],options:{pagination:!0,filterClientId:!1}})),r.a.createElement(jt.a,{item:!0,xs:12,style:{marginTop:25}},r.a.createElement(Ga.a,{style:{width:"100%"},title:"Available Role",columns:[{title:"Role ID",field:"roleId",width:300},{title:"Description",field:"roleDescription"}],data:m,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(cn.a)(m);n.map((function(a){return a.roleId===t.roleId&&(a.roleId=e.roleId,a.roleDescription=e.roleDescription),null})),u(Object(cn.a)(n)),V(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){(function(e){return new Promise((function(t,a){var n=m.filter((function(t){return t.roleId!==e.roleId}));u(n),V(!1),t()}))})(e).then((function(e){return t()}))}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}}))),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(Mt.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return ee(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Un.a,null)},"Add New Role"),r.a.createElement(jt.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(Ga.a,{style:{width:"100%"},title:"Origin URI",columns:[{title:"URI",field:"uri"}],data:f,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(cn.a)(f);n[t.id].uri=e.uri,g(Object(cn.a)(n)),V(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){var a=Object(cn.a)(f),n=e.id;a.splice(n,1),g(Object(cn.a)(a)),V(!1),t()}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}})),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(Mt.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return te(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Un.a,null)},"Add Origin URI")),r.a.createElement(jt.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(Ga.a,{style:{width:"100%"},title:"Redirect URI",columns:[{title:"URI",field:"uri"}],data:_,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(cn.a)(_);n[t.id].uri=e.uri,g(Object(cn.a)(n)),V(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){var a=Object(cn.a)(_),n=e.id;a.splice(n,1),O(Object(cn.a)(a)),V(!1),t()}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}})),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(Mt.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return ae(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Un.a,null)},"Add Redirect URI")),r.a.createElement(jt.a,{style:{marginTop:30},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(Mt.a,{onClick:function(){var e=m,a=[],n=[];f.map((function(e){return a.push(e.uri),null})),_.map((function(e){return n.push(e.uri),null}));var r=t.data.clientId,i="/clients/".concat(r,"/"),o={request:Object(p.a)(Object(p.a)({},T),{},{clientRoles:e,originURIs:a,redirectURIs:n,clientId:r}),method:"PATCH",serviceCode:"UPDATE_CLIENT_DETAIL",urlParams:i},s=Object(p.a)(Object(p.a)({},X),{},{updateMessageTemplate:K,clientId:r});l(s),t.completeRequest(o),t.handleClose()},style:{marginRight:"15px",paddingLeft:"50px",paddingRight:"50px",color:"white",fontSize:18,lineHeight:2.1},variant:"contained",color:"primary",disabled:G},"Save"),r.a.createElement(Mt.a,{variant:"contained",color:"secondary",style:{marginRight:"15px",paddingLeft:"50px",paddingRight:"50px",color:"white",fontSize:18,lineHeight:2.1},onClick:Z},"Cancel")))),r.a.createElement(sr,{handleSave:function(e){u([].concat(Object(cn.a)(m),Object(cn.a)(e))),V(!1)},dataToUpdate:q.dataToUpdate,data:C,clientList:q.clientList,open:q.open,handleOpen:ee}),r.a.createElement(mr,{handleSave:function(e){k.map((function(t){return t.id===q.dataField.id&&(t.field=e[q.dataField.id]),null})),delete e.emailSenderErrorMessage,delete e.emailSenderMaskingNameErrorMessage,"emailSender"===q.dataField.id&&(e[q.dataField.id]=null),"emailSenderMaskingName"===q.dataField.id&&(e[q.dataField.id]=null),M(k),R(e),V(!1)},open:q.openBasicInfo,dataToUpdate:q.dataToUpdate,data:C,dataField:q.dataField,clientList:q.clientList,handleOpen:ne}),r.a.createElement(dr,{open:q.openOriginOri,handleOpen:te,handleSave:function(e){g([].concat(Object(cn.a)(f),[e])),V(!1)},data:C,redirect:!1}),r.a.createElement(dr,{open:q.openRedirectOri,handleOpen:ae,handleSave:function(e){O([].concat(Object(cn.a)(_),[e])),V(!1)},data:C,redirect:!0}),r.a.createElement(Pr,{open:q.openTemplateMessage,handleClose:re,dataToUpdate:q.messageToUpdate,data:P,handleSave:function(e){i.forEach((function(t,a){t.messagingTemplateId===e.messagingTemplateId&&(i[a]=e)})),U(i),$(e),Q(!0),V(!1)}}))})),Ar=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,messagingList:e.clientList.messagingList}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.clientList,s=Object(n.useState)(!1),c=Object(it.a)(s,2),m=c[0],u=c[1],d=Object(n.useState)({}),E=Object(it.a)(d,2),f=E[0],g=E[1],h=Object(n.useState)(""),b=Object(it.a)(h,2),_=b[0],O=b[1];Object(n.useEffect)((function(){a("Client List")}),[a]),Object(n.useEffect)((function(){var e=l.name,t=l.email,a=l.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:n};0===o.length&&i(r)}),[]);var v=Object(n.useState)({columns:[{title:"Name",field:"clientName"},{title:"Client Id",field:"clientId"},{title:"Type",field:"type"}],data:[],dataToProcess:null}),y=Object(it.a)(v,2),C=y[0],j=y[1],I=Object(n.useState)({open:!1}),S=Object(it.a)(I,2),T=S[0],R=S[1];Object(n.useEffect)((function(){o[0]&&(o.forEach((function(e){e.roleDetails=e.roleDetails?e.roleDetails:Array.isArray(e.clientRoles)?e.clientRoles:"",e.clientRoles=Array.isArray(e.clientRoles)?e.clientRoles.map((function(e){return e.roleId})).join(", "):e.clientRoles})),j((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:o})})))}),[o]);return r.a.createElement("div",null,T.open?r.a.createElement(Ur,{completeRequest:i,open:T.open,handleClose:function(){return R(Object(p.a)(Object(p.a)({},T),{},{open:!1}))},data:C.dataToProcess}):r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(Mn,{confirmdeletetext:"Apakah anda yakin menghapus data ini?",title:"Backoffice Client List",columns:C.columns,data:C.data,updatedata:function(e,t){return new Promise((function(a,n){t&&(j((function(a){var n=Object(cn.a)(a.data);return n[n.indexOf(t)]=e,Object(p.a)(Object(p.a)({},a),{},{data:n})})),a())}))},deletedata:function(e){return new Promise((function(t,a){var n=e.clientId,r="/clients/".concat(n);g({request:{},method:"DELETE",serviceCode:"DELETE_CLIENT",urlParams:r}),O(e.clientName),u(!0),t()}))},rowClicked:function(e){j(Object(p.a)(Object(p.a)({},C),{},{dataToProcess:e})),R(Object(p.a)(Object(p.a)({},T),{},{open:!0}))},action:!0})),r.a.createElement(Xn,{id:"ringtone-menu",keepMounted:!0,open:m,onClose:function(){u(!1)},value:"Soft Delete",handleChoose:function(e){"Soft Delete"===e?(f.request.isForceDelete=!1,t._setCompleteRequest(f)):(f.request.isForceDelete=!0,t._setCompleteRequest(f))},userName:_}))})),Nr=function(e){var t=Object.assign({},e),a=t.form,n=t.handleChange,i=t.setShowAddRoles,l=t.handleAddClientRole;return r.a.createElement(xt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(jt.a,null,r.a.createElement(gt.a,{variant:"subtitle2"},"Add RoleId and Description")),r.a.createElement(jt.a,null,r.a.createElement(Zt.a,{margin:"dense",size:"small",onChange:n("roleId"),id:"standard-roleId",label:"RoleId",placeholder:"RoleId",error:!!a.roleIdErrorMessage,value:a.roleId})),r.a.createElement(jt.a,null,r.a.createElement(Zt.a,{size:"small",onChange:n("roleDescription"),id:"standard-roleDesc",label:"Description",placeholder:"Role description",helperText:a.roleDescriptionErrorMessage?a.roleDescriptionErrorMessage:"",error:!!a.roleDescriptionErrorMessage,value:a.roleDescription}))),r.a.createElement(In.a,null,r.a.createElement(Mt.a,{size:"small",color:"primary",onClick:function(){return i(!1)}},"Cancel"),r.a.createElement(Mt.a,{size:"small",color:"secondary",onClick:l},"Add")))},qr=[{value:"public",label:"Public"},{value:"confidential",label:"Confidential"}],Fr=[{value:"Web Application",label:"Web Application"},{value:"iOS",label:"iOS"},{value:"Android",label:"Android"}],Hr=function(e){var t=Object.assign({},e),a=t.form,n=t.handleChange,i=t.setFormFocus,l=t.formFocus,o=t.helpTextOrigin,s=t.setHelpTextOrigin,c=t.helpTextRedirect,m=t.setHelpTextRedirect;return r.a.createElement(jt.a,{item:!0,xs:12,md:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12,md:8,style:{marginLeft:15,marginRight:15}},r.a.createElement(Zt.a,{size:"small",onChange:n("clientId"),id:"standard-clientId",label:"Client Id",helperText:a.clientIdErrorMessage?a.clientIdErrorMessage:"",error:!!a.clientIdErrorMessage,fullWidth:!0,margin:"dense",value:a.clientId,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{clientId:!0}))},onBlur:function(){return a.clientId?i(Object(p.a)(Object(p.a)({},l),{},{clientId:!0})):i(Object(p.a)(Object(p.a)({},l),{},{clientId:!1}))},InputLabelProps:{shrink:!!l.clientId}}),r.a.createElement(Zt.a,{size:"small",onChange:n("clientName"),id:"standard-clientName",label:"Client Name",helperText:a.clientNameErrorMessage?a.clientNameErrorMessage:"",error:!!a.clientNameErrorMessage,fullWidth:!0,margin:"dense",value:a.clientName,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{clientName:!0}))},onBlur:function(){return a.clientName?i(Object(p.a)(Object(p.a)({},l),{},{clientName:!0})):i(Object(p.a)(Object(p.a)({},l),{},{clientName:!1}))},InputLabelProps:{shrink:!!l.clientName}}),r.a.createElement(Zt.a,{size:"small",onChange:n("clientType"),id:"standard-clientType",label:"Client Type",select:!0,value:a.clientType,fullWidth:!0,margin:"dense"},qr.map((function(e,t){return r.a.createElement(Cn.a,{value:e.value,key:t+2},e.label)}))),r.a.createElement(Zt.a,{size:"small",onChange:n("profile"),id:"standard-clientProfile",label:"Client Profile",select:!0,value:a.profile,fullWidth:!0,margin:"dense"},Fr.map((function(e,t){return r.a.createElement(Cn.a,{value:e.value,key:t+11},e.label)}))),r.a.createElement(Zt.a,{size:"small",onChange:n("originURIs"),id:"standard-originURIs",label:"Origin URI",placeholder:"http://example.com",helperText:o?"Press Enter to add more URI!":"",fullWidth:!0,multiline:!0,margin:"dense",value:a.originURIs,onFocus:function(){i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!0})),s(!0)},onBlur:function(){return a.originURIs?i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!0})):i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!1}))},InputLabelProps:{shrink:!!l.originURIs}}),r.a.createElement(Zt.a,{size:"small",onChange:n("redirectURIs"),id:"standard-redirectURIs",label:"Redirect URI",placeholder:"http://example.com/home",helperText:c?"Press Enter to add more URI!":"",fullWidth:!0,multiline:!0,margin:"dense",value:a.redirectURIs,onFocus:function(){i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!0})),m(!0)},onBlur:function(){return a.redirectURIs?i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!0})):i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!1}))},InputLabelProps:{shrink:!!l.redirectURIs}}),r.a.createElement(Zt.a,{size:"small",onChange:n("initialRole"),id:"standard-initialRole",label:"Initial Role",helperText:a.initialRoleErrorMessage?a.initialRoleErrorMessage:"",error:!!a.initialRoleErrorMessage,fullWidth:!0,multiline:!0,margin:"dense",value:a.initialRole}))))},Br=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=Object(n.useState)(!1),s=Object(it.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)(!1),d=Object(it.a)(u,2),E=d[0],f=d[1],g=Object(n.useState)(!1),h=Object(it.a)(g,2),b=h[0],_=h[1],O=Object(n.useState)({clientId:!1,clientName:!1}),v=Object(it.a)(O,2),C=v[0],j=v[1],I=Object(n.useState)({clientRoles:[],clientType:"",clientGroupId:"7ff9bf27-23bd-4253-a015-b2ffbe067f04",profile:""}),S=Object(it.a)(I,2),T=S[0],R=S[1],L=Object(n.useState)(!1),w=Object(it.a)(L,2)[1],k=Object(n.useState)(!1),M=Object(it.a)(k,2),x=M[0],D=M[1];Object(n.useEffect)((function(){a("Create Client")}),[a]);var P=function(e){return function(t){t.preventDefault(),D(!1);var a=pa(e,t.target.value);if("originURIs"===e||"redirectURIs"===e)R(Object(p.a)(Object(p.a)({},T),{},Object(y.a)({},e,t.target.value)));else if("initialRole"===e){var n;R(Object(p.a)(Object(p.a)({},T),{},(n={},Object(y.a)(n,e,t.target.value),Object(y.a)(n,e+"ErrorMessage",a.errorMessage),Object(y.a)(n,"clientRoles",[{roleId:t.target.value,roleDescription:"Initial role"}]),n)))}else{var r;R(Object(p.a)(Object(p.a)({},T),{},(r={},Object(y.a)(r,e,t.target.value),Object(y.a)(r,e+"ErrorMessage",a.errorMessage),r)))}}};return r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12,md:9},r.a.createElement(st.a,null,r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"h6",color:"primary",style:{marginTop:20}},"Create Client")),r.a.createElement(jt.a,{container:!0,direction:"row"},r.a.createElement(Hr,{setFormFocus:j,formFocus:C,helpTextOrigin:E,setHelpTextOrigin:f,helpTextRedirect:b,setHelpTextRedirect:_,handleChange:P,form:T}),r.a.createElement(jt.a,{item:!0,xs:12,md:6,style:{marginTop:10}},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{color:"primary",variant:"subtitle2"},"Client Roles:"),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:10}},r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0},"Role Id")),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0},r.a.createElement(ft.a,null,T.clientRoles[0]?T.clientRoles.map((function(e,t){return r.a.createElement(yt.a,{key:t,secondary:"- "+e.roleId})})):r.a.createElement(yt.a,{secondary:"- none"}))))),r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0},"Description")),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(jt.a,{item:!0},r.a.createElement(ft.a,null,T.clientRoles[0]?T.clientRoles.map((function(e,t){return r.a.createElement(yt.a,{key:t,secondary:"- "+e.roleDescription})})):r.a.createElement(yt.a,{secondary:"- none"}))))),r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",style:{margin:20}},c?r.a.createElement(Nr,{form:T,setForm:R,handleChange:P,setShowAddRoles:m,handleAddClientRole:function(e){e.preventDefault(),R(Object(p.a)(Object(p.a)({},T),{},{clientRoles:[].concat(Object(cn.a)(T.clientRoles),[{roleId:T.roleId,roleDescription:T.roleDescription}]),roleId:"",roleDescription:""})),m(!1),w(!0)}}):r.a.createElement(Mt.a,{disabled:!T.initialRole,size:"small",variant:"outlined",color:"secondary",onClick:function(){return m(!0)}},"Add Client Roles")))))),r.a.createElement(ht.a,{style:{margin:20}}),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{onClick:function(e){e.preventDefault(),f(!1),_(!1),w(!1),D(!1),R(Object(p.a)(Object(p.a)({},T),{},{clientId:"",clientName:"",clientType:"",clientRoles:[],originURIs:"",profile:"",redirectURIs:"",initialRole:""})),j({clientId:!1,clientName:!1,clientRoles:[],clientType:!1,originURIs:!1,profile:!1,redirectURIs:!1,initialRole:!1})},variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(jt.a,{style:{margin:10},item:!0}),r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{onClick:function(e){e.preventDefault(),D(!1);var t=T.clientGroupId,a=T.clientId,n=T.clientName,r=T.clientRoles,o=T.clientType,s=T.originURIs,c=T.profile,m=T.redirectURIs,u=T.initialRole;if(t&&a&&n&&r&&o&&s&&c&&m&&u){var d={clientGroupId:t,clientId:a,clientName:n,clientRoles:r,originURIs:s.split(/\r?\n/),profile:c,redirectURIs:m.split(/\r?\n/),type:o,initialUserRole:u},p=l.name,E=l.email,f=l.phone,g={name:p,email:E};f&&(g.phone=f),i({request:d,method:"POST",serviceCode:"CREATE_CLIENT",customHeaders:g}),w(!1)}else D(!0)},variant:"contained",color:"primary"},"Create"))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{error:!0},x?"Form not complete":null)),r.a.createElement("br",null))))})),Gr=a(511),Vr=a.n(Gr),Wr=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},zr=Object(ot.a)(Wr)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(un.a)(e,["children","onClose","classes"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(gt.a,{variant:"h6"},t),a?r.a.createElement(bt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(pn.a,null)):null)})),Kr=Object(ot.a)(Wr)((function(e){var t,a,i=Object.assign({},e),l=i.classes,o=i.data,s=i.dataClient,c=Object(n.useState)({clientId:""}),m=Object(it.a)(c,2),u=m[0],d=m[1],E=[],f=function(){d({}),i.handleClose(!1,!1)},g=function(e){return function(t){var a,n=pa(e,t.target.value);d(Object(p.a)(Object(p.a)({},u),{},(a={},Object(y.a)(a,e,t.target.value),Object(y.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:i.open,onClose:f,scroll:"paper"},r.a.createElement(zr,{id:"max-width-dialog-title",onClose:f},"Add Request Specification"),r.a.createElement(Lt.a,null,r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Contoh : authentication-backoffice",required:!0,select:!0,id:"clientId",label:"Client Id",value:u.clientId,onChange:g("clientId"),InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}},(t=o,a="clientId",t.filter((function(e,t,n){return n.map((function(e){return e[a]})).indexOf(e[a])===t}))).map((function(e){return r.a.createElement(Cn.a,{key:e.clientId,value:e.clientId},e.clientId)}))),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,placeholder:"Contoh : /users/*/orders/**",label:"Path",onChange:g("path"),error:!!u.pathErrorMessage,value:u.path?u.path:"",helperText:u.pathErrorMessage?u.pathErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}}),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,placeholder:"Contoh : http//172.16.10.51:32170/users/*/orders/**",label:"URL Destination",onChange:g("urlDestination"),error:!!u.urlDestinationErrorMessage,helperText:u.urlDestinationErrorMessage?u.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}}),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,select:!0,label:"Need Login",onChange:g("isNeedLogin"),InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}},[{label:"Yes",boolean:!0},{label:"No",boolean:!1}].map((function(e){return r.a.createElement(Cn.a,{key:e.label,value:e.boolean},e.label)}))),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,label:"Default Role",onChange:g("defaultRole"),InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{key:"null",value:null},"Null"),((E=s.filter((function(e){return e.clientId===u.clientId}))[0])?E.clientRoles:[]).map((function(e){return r.a.createElement(Cn.a,{key:e.roleId,value:e.roleId},e.roleId)}))),r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Contoh: 100",label:"Priority Value",onChange:g("priorityValue"),InputLabelProps:{shrink:!0}}))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{color:"primary",variant:"contained",className:l.addButton,onClick:function(){delete u.clientIdErrorMessage,delete u.defaultRoleErrorMessage,delete u.pathErrorMessage,delete u.urlDestinationErrorMessage,delete u.isNeedLoginErrorMessage,i.completeRequest(u)},disabled:function(){var e=""!==u.isNeedLogin&&null!==u.isNeedLogin&&void 0!==u.isNeedLogin;return!(u.clientId&&u.path&&u.urlDestination&&e)}()},"Add")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:f,color:"secondary",variant:"contained",className:l.addButton},"Cancel")))))})),Qr=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},Yr=Object(ot.a)(Qr)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(un.a)(e,["children","onClose","classes"]);return r.a.createElement(kt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(gt.a,{variant:"h6"},t),a?r.a.createElement(bt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(pn.a,null)):null)})),Jr=Object(ot.a)(Qr)((function(e){var t=Object.assign({},e),a=t.classes,i=t.data,l=t.dataClient,o=t.dataToUpdate,s=Object(n.useState)({dataToUpdate:{clientId:"",path:"",urlDestination:"",isNeedLogin:""}}),c=Object(it.a)(s,2),m=c[0],u=c[1];Object(n.useEffect)((function(){u({dataToUpdate:o})}),[o]);var d,E,f=[],g=function(){u({}),t.handleClose(!1,!0)},h=function(e){return function(t){var a=pa(e,t.target.value);u(Object(p.a)(Object(p.a)({},m),{},Object(y.a)({dataToUpdate:Object(p.a)(Object(p.a)({},m.dataToUpdate),{},Object(y.a)({},e,t.target.value))},e+"ErrorMessage",a.errorMessage)))}};return r.a.createElement(Tt.a,{fullWidth:!0,maxWidth:"xs",open:t.open,onClose:g,scroll:"paper"},r.a.createElement(Yr,{id:"max-width-dialog-title",onClose:g},"Edit Request Specification"),r.a.createElement(Lt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Contoh : authentication-backoffice",required:!0,select:!0,id:"clientId",label:"Client Id",value:m.dataToUpdate?m.dataToUpdate.clientId:"",onChange:h("clientId"),InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}},(d=i,E="clientId",d.filter((function(e,t,a){return a.map((function(e){return e[E]})).indexOf(e[E])===t}))).map((function(e){return r.a.createElement(Cn.a,{key:e.clientId,value:e.clientId},e.clientId)}))),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,placeholder:"Contoh : /users/*/orders/**",label:"Path",onChange:h("path"),error:!!m.pathErrorMessage,value:m.dataToUpdate?m.dataToUpdate.path:"",helperText:m.pathErrorMessage?m.pathErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}}),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,placeholder:"Contoh : http//172.16.10.51:32170/users/*/orders/**",label:"URL Destination",onChange:h("urlDestination"),value:m.dataToUpdate?m.dataToUpdate.urlDestination:"",error:!!m.urlDestinationErrorMessage,helperText:m.urlDestinationErrorMessage?m.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}}),r.a.createElement(Zt.a,{fullWidth:!0,required:!0,select:!0,label:"Need Login",value:m.dataToUpdate?"True"===m.dataToUpdate.isNeedLogin||!0===m.dataToUpdate.isNeedLogin:"",onChange:h("isNeedLogin"),InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}},[{label:"Yes",boolean:!0},{label:"No",boolean:!1}].map((function(e){return r.a.createElement(Cn.a,{key:e.label,value:e.boolean},e.label)}))),r.a.createElement(Zt.a,{fullWidth:!0,select:!0,label:"Default Role",value:m.dataToUpdate?m.dataToUpdate.defaultRole:"",onChange:h("defaultRole"),InputLabelProps:{shrink:!0}},r.a.createElement(Cn.a,{key:"null",value:null},"Null"),function(){var e=m.dataToUpdate?m.dataToUpdate.clientId:"";return(f=l.filter((function(t){return t.clientId===e}))[0])?f.clientRoles:[]}().map((function(e){return r.a.createElement(Cn.a,{key:e.roleId,value:e.roleId},e.roleId)}))),r.a.createElement(Zt.a,{fullWidth:!0,placeholder:"Contoh: 100",label:"Priority Value",onChange:h("priorityValue"),value:m.dataToUpdate?m.dataToUpdate.priorityValue:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(Rt.a,null,r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{color:"primary",variant:"contained",className:a.addButton,onClick:function(){var e=!0;m.dataToUpdate.priorityValue===o.priorityValue&&(e=!1),delete m.dataToUpdate.clientIdErrorMessage,delete m.dataToUpdate.isNeedLoginErrorMessage,delete m.dataToUpdate.pathErrorMessage,delete m.dataToUpdate.priorityValueErrorMessage,delete m.dataToUpdate.urlDestinationErrorMessage,t.completeRequest(m.dataToUpdate,e)},disabled:function(){var e=m.dataToUpdate?""!==m.dataToUpdate.isNeedLogin&&null!==m.dataToUpdate.isNeedLogin&&void 0!==m.dataToUpdate.isNeedLogin:"",t=m.dataToUpdate?m.dataToUpdate.clientId:"",a=m.dataToUpdate?m.dataToUpdate.path:"",n=m.dataToUpdate?m.dataToUpdate.urlDestination:"";return!(t&&a&&n&&e)}()},"Edit")),r.a.createElement(jt.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(Mt.a,{onClick:g,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),Xr=Object(o.b)((function(e){return{requestList:e.requestList.list,clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.requestList,s=t.clientList;Object(n.useEffect)((function(){a("Request List")}),[a]);Object(n.useEffect)((function(){var e=l.name,t=l.email,a=l.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_REQUEST",customHeaders:n};0===o.length&&i(r)}),[]);var c=Object(n.useState)({columns:[{title:"Client Id",field:"clientId"},{title:"Path",field:"path"},{title:"URL Destination",field:"urlDestination"},{title:"Need Login",field:"isNeedLogin"},{title:"Priority Value",field:"priorityValue"},{title:"Default Role",field:"defaultRole"}],data:[],dataClient:[],dataToProcess:null,dataToUpdate:null}),m=Object(it.a)(c,2),u=m[0],d=m[1];Object(n.useEffect)((function(){d((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:o,dataClient:s})}))}),[o,s]);var E=Object(n.useState)({openDialogRequest:!1,editDialogRequest:!1}),f=Object(it.a)(E,2),g=f[0],h=f[1],b=function(e,t,a){t?(h(Object(p.a)(Object(p.a)({},g),{},{editDialogRequest:e})),d(Object(p.a)(Object(p.a)({},u),{},{dataToUpdate:a}))):h(Object(p.a)(Object(p.a)({},g),{},{openDialogRequest:e}))};return r.a.createElement("div",null,g.open?r.a.createElement(Vr.a,{completeRequest:i,open:g.open,handleClose:function(){return h(Object(p.a)(Object(p.a)({},g),{},{open:!1}))},data:u.dataToProcess}):r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(wr,{title:"Backoffice Request List",column:u.columns,data:u.data,handleEditOpen:b,filterById:function(e,t){return e.filter((function(e,a,n){return n.map((function(e){return e[t]})).indexOf(e[t])===a}))},options:{pagination:!0,filterClientId:!0}})),r.a.createElement(jt.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(Mt.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return b(!0,!1)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Un.a,null)},"Add Request Specification")),r.a.createElement(Kr,{open:g.openDialogRequest,handleClose:b,completeRequest:function(e){var t=Object(p.a)(Object(p.a)({},e),{},{priorityValue:e.priorityValue?Number(e.priorityValue):null});i({request:t,method:"POST",serviceCode:"ADD_REQUEST_SPESIFICATIONS",urlParams:"/request-specifications"}),b(!1,!1)},data:u.data,dataClient:u.dataClient}),r.a.createElement(Jr,{open:g.editDialogRequest,handleClose:b,data:u.data,dataClient:u.dataClient,dataToUpdate:u.dataToUpdate,completeRequest:function(e,t){var a=e.requestSpecificationId;delete e.method,"True"===e.isNeedLogin?e.isNeedLogin=!0:e.isNeedLogin=!1;var n=Object(p.a)(Object(p.a)({},e),{},{priorityValue:e.priorityValue?Number(e.priorityValue):null});e.priorityValue||delete n.priorityValue,t||delete n.priorityValue,delete n.isPriorityValueUpdate;var r={request:n,method:"PATCH",serviceCode:"UPDATE_REQUEST_SPESIFICATIONS",urlParams:"/request-specifications/".concat(a)};i(r),b(!1,!0)}}))})),$r=Wa.a.ExcelFile,Zr=Wa.a.ExcelFile.ExcelSheet,ei=Ja("lastWeek"),ti=Ja("nextWeek"),ai=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setSnackbar:function(t){return e(_e(t))},_setSecondRequest:function(t){return e(te(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setClinicDetail:function(t){return e(fe(t))},_setClinicRecapt:function(t){return e(ge(t))}}}))((function(e){var t=e._setOpenScreen,a=e._setCompleteRequest,i=e.userInfo,l=e.paxList,o=e.roleUsed,s=e._setClinicRecapt,c=Object(n.useState)([]),m=Object(it.a)(c,2),u=m[0],d=m[1],E=Object(n.useState)({fromdate:ei,todate:ti,simpleTable:[],totalPax:0,agentPrice:0,price:0,dataset:[]}),f=Object(it.a)(E,2),g=f[0],h=f[1];Object(n.useEffect)((function(){s([]);var e=i.name,n=i.email,r=i.phone,l={name:e,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:l};a(o),t("Redeemed Order")}),[]),Object(n.useEffect)((function(){var e=[{title:"ID",field:"id",width:50},{title:Be("app_name"),field:"name"},{title:Be("clinic"),field:"clinic"},{title:Be("clinic_redeem_on"),field:"redeem_on"},{title:Be("clinic_payment_date"),field:"payment_on"},{title:"NTA",field:"nta"},{title:"NTSA",field:"ntsa"},{title:Be("clinic_price"),field:"agentprice"}],t=[].concat(e);d("voltras.admin"===o?t:t.filter((function(e){return"agentprice"!==e.field&&"ntsa"!==e.field})))}),[o]),Object(n.useEffect)((function(){var e=[];l.clinicRecapt.forEach((function(t){return t.items.forEach((function(a){return a.products.forEach((function(n){var r={id:t.id,name:n.name,clinic:n.klinik.name,redeem_on:a.redeem&&a.redeem.redeem_on?Ka(a.redeem.redeem_on):"",payment_on:t.payment&&t.payment.date?Ka(t.payment&&t.payment.date):"",nta:n.price.nta,ntsa:n.price.ntsa,agentprice:n.price.price};e.push(r)}))}))}));var t=e.length,a=e.reduce((function(e,t){return e+parseInt(t.nta)}),0),n=[];e.forEach((function(e){var t=Object(p.a)(Object(p.a)({},e),{},{nta:za(e.nta),ntsa:za(e.ntsa),agentprice:za(e.agentprice)});n.push(t)}));var r=[{title:"ID",width:{wch:5}},{title:Be("app_name"),width:{wch:30},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic"),width:{wch:30},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_redeem_on"),width:{wch:20},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_payment_date"),width:{wch:20},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:"NTA",width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:"NTSA",width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_price"),width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}}],i=[];i="voltras.admin"!==o?r.filter((function(e){return e.title!==Be("clinic_price")&&"NTSA"!==e.title})):r;var s=[];e.forEach((function(e){var t=[];t.push({value:e.id}),t.push({value:e.name}),t.push({value:e.clinic}),t.push({value:e.redeem_on}),t.push({value:e.payment_on}),t.push({value:parseInt(e.nta)}),"voltras.admin"===o&&(t.push({value:parseInt(e.ntsa)}),t.push({value:parseInt(e.agentprice)})),s.push(t)}));var c=[{ySteps:1,columns:i,data:s}];h((function(e){return Object(p.a)(Object(p.a)({},e),{},{dataset:c,simpleTable:n,totalPax:t,agentPrice:za(a)})}))}),[l.clinicRecapt,o]);var b=function(e){return function(t){h(Object(p.a)(Object(p.a)({},g),{},Object(y.a)({},e,Ka(t))))}};return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:20}},r.a.createElement(jt.a,{item:!0,sm:4},r.a.createElement(gt.a,{variant:"subtitle2"},Be("clinic_payment_date"),":"),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:g.fromdate,onChange:b("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:g.todate,onChange:b("todate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(jt.a,{item:!0,sm:2,style:{marginTop:10}},r.a.createElement(jt.a,{item:!0},r.a.createElement("br",null)),r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},g.simpleTable.length<1?r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{disabled:g.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return function(e){var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l={name:t,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_XLS_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:l};a(o)}(g.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(jt.a,{item:!0},r.a.createElement($r,{filename:"OrderReport ".concat(g.fromdate," to ").concat(g.todate),element:r.a.createElement(Mt.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(Zr,{dataSet:g.dataset,name:"Order Report"}))),r.a.createElement(jt.a,null," ",r.a.createElement("br",null)),r.a.createElement(jt.a,{item:!0},r.a.createElement(Mt.a,{size:"small",variant:"contained",onClick:function(){var e=i.name?i.name:"",t=i.email?i.email:"",n=i.phone?i.phone:"",r={name:e,email:t};n&&(r.phone=n);var l={request:{},method:"GET",serviceCode:"GET_CLINIC_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:r};a(l)},color:"primary"},Be("app_show_report"))))),r.a.createElement(jt.a,{item:!0,sm:1}),r.a.createElement(jt.a,{item:!0,sm:5},r.a.createElement(gt.a,{variant:"subtitle2"},Be("app_report_summary"),":"),r.a.createElement(jt.a,{container:!0,item:!0,style:{marginLeft:20,marginTop:15}},r.a.createElement(jt.a,{item:!0,sm:3}," ",r.a.createElement(gt.a,{variant:"caption"},"Total Order")),r.a.createElement(jt.a,{item:!0,sm:3},": ",g.totalPax)),r.a.createElement(jt.a,{container:!0,item:!0,style:{marginLeft:20}},r.a.createElement(jt.a,{item:!0,sm:3},r.a.createElement(gt.a,{variant:"caption"},Be("clinic_agent_price"))),r.a.createElement(jt.a,{item:!0,sm:3},": ",g.agentPrice))),r.a.createElement(jt.a,{item:!0,sm:12,style:{marginTop:20}},r.a.createElement(Ga.a,{title:Be("clinic_order_report"),columns:u,data:g.simpleTable})),r.a.createElement(jt.a,{container:!0}))})),ni=Wa.a.ExcelFile,ri=Wa.a.ExcelFile.ExcelSheet,ii=Ja("lastWeek"),li=Ja("nextWeek"),oi=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setSnackbar:function(t){return e(_e(t))},_setSecondRequest:function(t){return e(te(t))},_setThirdRequest:function(t){return e(function(e){return{type:"SET_THIRD_REQUEST",val:e}}(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))},_setClinicDetail:function(t){return e(fe(t))},_setClinicRecapt:function(t){return e(ge(t))},_setPaxProduct:function(t){return e(pe(t))},_setKlinikList:function(t){return e(Ee(t))}}}))((function(e){var t=e._setOpenScreen,a=e._setCompleteRequest,i=e.userInfo,l=e.paxList,o=(e._setSecondRequest,e._setThirdRequest,e._setClinicRecapt),s=e._setPaxProduct,c=e._setKlinikList,m=[{title:"ID",field:"id",width:50},{title:Be("app_name"),field:"name"},{title:"Product",field:"product",width:200},{title:Be("clinic"),field:"clinic",width:200},{title:"Status",field:"status"},{title:Be("clinic_redeem_on"),field:"redeem_on"},{title:Be("clinic_payment_date"),field:"payment_on"},{title:Be("clinic_agent_price"),field:"agentprice"}],u=Object(n.useState)({fromdate:ii,todate:li,simpleTable:[],totalPax:0,agentPrice:0,price:0,dataset:[],Paid:!1,New:!1,finish:!1,clinicname:"",productname:""}),d=Object(it.a)(u,2),E=d[0],f=d[1];Object(n.useEffect)((function(){var e=[],a=l.clinicRecapt;console.log("EFFECT DIPANGGIL!!! ",a),a.forEach((function(t){return t.items.map((function(a){return a.products.forEach((function(n){var r={id:t.id,name:a.name,product:n.name,clinic:n.klinik.name,status:a.status,redeem_on:a.redeem&&a.redeem.redeem_on?Ka(a.redeem.redeem_on):"",payment_on:t.payment&&t.payment.date?Ka(t.payment&&t.payment.date):"",agentprice:n.price.nta,paxprice:n.price.price};e.push(r)}))}))}));var n=e.reduce((function(e,t){return e+parseInt(t.agentprice)}),0),r=[];e.forEach((function(e){var t=Object(p.a)(Object(p.a)({},e),{},{status:"FINISH"===e.status?e.status="REDEEMED":e.status,agentprice:za(e.agentprice)});r.push(t)}));var i=[{title:"ID",width:{wch:5}},{title:Be("app_name"),width:{wch:30}},{title:"Product",width:{wch:30}},{title:Be("clinic"),width:{wch:30}},{title:"Status",width:{wch:12}},{title:Be("clinic_redeem_on"),width:{wch:12}},{title:Be("clinic_payment_date"),width:{wch:12}},{title:Be("clinic_agent_price"),width:{wch:12}}],o=[];e.forEach((function(e){var t=[];t.push({value:e.id}),t.push({value:e.name}),t.push({value:e.product}),t.push({value:e.clinic}),t.push({value:e.status}),t.push({value:e.redeem_on}),t.push({value:e.payment_on}),t.push({value:parseInt(e.agentprice)}),o.push(t)}));var s=[{ySteps:1,columns:i,data:o}],c=r.filter((function(e){return"UNCONFIRMED"!==e.status&&e.payment_on})),m=c.length;f((function(e){return Object(p.a)(Object(p.a)({},e),{},{dataset:s,simpleTable:c,totalPax:m,agentPrice:za(n)})})),t("All Order Report")}),[l.clinicRecapt,t]),Object(n.useEffect)((function(){f((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:[],totalPax:0,agentPrice:0})}));var e=i.name,t=i.email,a=i.phone,n={name:e,email:t};a&&(n.phone=a),e&&t&&Ge({},"GET","GET_ALL_ORDER","/list?&paymentdate_from=".concat(ii,"&paymentdate_to=").concat(li),n,null,0,(function(e){o(e.body),Ge({},"GET","healthProduct",null,n,null,0,(function(e){s(e.body),Ge({},"GET","healthKlinik",null,n,null,0,(function(e){c(e.body)}))}))}))}),[]);var g=function(e){return function(t){f(Object(p.a)(Object(p.a)({},E),{},Object(y.a)({},e,Ka(t))))}},h=function(e){return function(t){f("Paid"===e||"New"===e||"finish"===e||"Booking Date"===e||"Test Date"===e||"Redeem Date"===e?Object(p.a)(Object(p.a)({},E),{},Object(y.a)({},e,!E[e])):Object(p.a)(Object(p.a)({},E),{},Object(y.a)({},e,t.target.value)))}};return r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:20}},r.a.createElement(jt.a,{item:!0,sm:2},r.a.createElement(gt.a,{variant:"subtitle2"},Be("clinic_payment_date"),":"),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:E.fromdate,onChange:g("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Na.a,{utils:Aa.default},r.a.createElement(jt.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:E.todate,onChange:g("todate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(jt.a,{item:!0,sm:4,style:{marginLeft:20}},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(gt.a,{variant:"subtitle2",style:{marginTop:25}},"Product:"),r.a.createElement(fa,{small:!0,id:"productAutocomplete",options:l.product[0]?l.product:[],width:320,optionItem:"name",onPick:function(e){console.log(e),f(e?Object(p.a)(Object(p.a)({},E),{},{productname:e.name}):Object(p.a)(Object(p.a)({},E),{},{productname:""}))}}),r.a.createElement(gt.a,{variant:"subtitle2",style:{marginTop:5}},"Clinic:"),r.a.createElement(fa,{small:!0,id:"clinicAutocomplete",options:l.klinikList[0]?l.klinikList:[],width:320,optionItem:"name",onPick:function(e){console.log(e),f(e?Object(p.a)(Object(p.a)({},E),{},{clinicname:e.name}):Object(p.a)(Object(p.a)({},E),{},{clinicname:""}))}}))),r.a.createElement(jt.a,{item:!0,sm:3},r.a.createElement(gt.a,{variant:"subtitle2",style:{marginTop:25}},"Status:"),r.a.createElement(Nt.a,{size:"small",style:{marginLeft:15},fullWidth:!0},r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{size:"small",checked:E.Paid,onChange:h("Paid"),name:"Paid"}),label:"Paid"}),r.a.createElement(ba.a,{control:r.a.createElement(Ha.a,{size:"small",checked:E.finish,onChange:h("finish"),name:"finish"}),label:"Redeemed"}))),r.a.createElement(jt.a,{item:!0,sm:2},r.a.createElement(gt.a,{variant:"subtitle2"},Be("app_report_summary"),":"),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",item:!0,style:{marginLeft:5,marginTop:15}},r.a.createElement(jt.a,{item:!0,sm:5}," ",r.a.createElement(gt.a,{variant:"caption"},"Total Order")),r.a.createElement(jt.a,{item:!0},": ",E.totalPax)),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",item:!0,style:{marginLeft:5}},r.a.createElement(jt.a,{item:!0,sm:5},r.a.createElement(gt.a,{variant:"caption"},Be("clinic_agent_price"))),r.a.createElement(jt.a,{item:!0},": ",E.agentPrice)),E.simpleTable.length<1?r.a.createElement(jt.a,{item:!0,style:{marginTop:10}},r.a.createElement(Mt.a,{disabled:E.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return function(e){var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l={name:t,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_XLS_REPORT",urlParams:"/recapt?&from_date=".concat(E.fromdate,"&to_date=").concat(E.todate),customHeaders:l};a(o)}(E.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(jt.a,{item:!0,style:{marginTop:10}},r.a.createElement(ni,{filename:"OrderReport; ".concat(E.fromdate," to ").concat(E.todate,"; ").concat(E.Paid&&!E.finish?"PAID;":!E.Paid&&E.finish?"REDEEMED;":"ALL;"," ").concat(E.productname?" "+E.productname+";":""," ").concat(E.clinicname?" "+E.clinicname+";":""),element:r.a.createElement(Mt.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(ri,{dataSet:E.dataset,name:"Order Report"}))),r.a.createElement(jt.a,{item:!0,style:{marginTop:10}},r.a.createElement(Mt.a,{size:"small",variant:"contained",onClick:function(){var e=i.name?i.name:"",t=i.email?i.email:"",n=i.phone?i.phone:"",r={name:e,email:t};n&&(r.phone=n);var l="&paymentdate_from=".concat(E.fromdate,"&paymentdate_to=").concat(E.todate),o=E.Paid&&!E.finish?"&status=PAID":!E.Paid&&E.finish?"&status=FINISH":(E.Paid&&E.finish,""),s={request:{},method:"GET",serviceCode:"GET_ALL_ORDER",urlParams:"/list?"+l+(o||"")+(E.productname?"&productname=".concat(E.productname):"")+(E.clinicname?"&clinicname=".concat(E.clinicname):""),customHeaders:r};a(s),console.log(s)},color:"primary"},Be("app_show_report")))),r.a.createElement(jt.a,{item:!0,sm:12,style:{marginTop:20}},r.a.createElement(Ga.a,{title:Be("clinic_order_report"),columns:m,data:E.simpleTable})),r.a.createElement(jt.a,{container:!0}))})),si=a(769),ci=a(513),mi=a.n(ci),ui=a(512),di=a.n(ui);function pi(e){var t=e.editItem,a=Object(n.useState)(""),i=Object(it.a)(a,2),l=i[0],o=i[1],s=Object(n.useState)(""),c=Object(it.a)(s,2),m=c[0],u=c[1],d=Object(n.useState)(""),p=Object(it.a)(d,2),E=p[0],f=p[1],g=Object(n.useState)(""),h=Object(it.a)(g,2),b=h[0],_=h[1],O=Object(n.useState)(!1),v=Object(it.a)(O,2),y=v[0],C=v[1],j=Object(n.useState)(""),I=Object(it.a)(j,2),S=I[0],T=I[1],R=Object(n.useState)({}),L=Object(it.a)(R,2),w=L[0],k=L[1],M=Object(n.useState)(""),x=Object(it.a)(M,2),D=x[0],P=x[1],U=Object(n.useState)(""),A=Object(it.a)(U,2),N=A[0],q=A[1];Object(n.useEffect)((function(){k({error:!1,errorMessage:""}),_(t.picture),o(t.name),f(t.key),u(t.value),C(t.action)}),[t]);var F,H=function(){var e=Object(kn.a)(wn.a.mark((function e(t){var a,n;return wn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k({error:!1,errorMessage:""}),!(a=t.target.files[0])){e.next=13;break}if(a.type.includes("image")){e.next=7;break}k({error:!0,errorMessage:"Must be image file"}),e.next=13;break;case 7:return e.next=9,Xa(a);case 9:n=e.sent,T(n.blobUrl),P(n.file),q(n.type);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Tt.a,{open:e.open,onClose:e.handleEditClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(kt.a,{id:"form-dialog-title"},"Edit ",l),r.a.createElement(Lt.a,null,r.a.createElement("center",null,r.a.createElement(wt.a,{style:{width:290}},Be("app_save_to_change"))),"picture"===E?r.a.createElement("div",null,r.a.createElement("input",{accept:"image/*",onChange:H,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),r.a.createElement("center",null,r.a.createElement(ct.a,{style:{width:75,height:75,marginBottom:15},src:S||(b||"")})),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement("center",null,r.a.createElement(gt.a,{color:"error",variant:"caption"},w.errorMessage),r.a.createElement(Mt.a,{variant:"outlined",component:"span",size:"small",color:"primary"},Be("app_select_photo"))))):r.a.createElement(Zt.a,{autoFocus:!0,margin:"dense",id:"name",label:l,value:m,onChange:(F=E,function(e){var t=pa(F,e.target.value);k(t),u(e.target.value)}),placeholder:l,style:{width:280},error:!!w.error,helperText:w.errorMessage?w.errorMessage:""})),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{onClick:function(){o(t.name),f(t.key),u(t.value),e.handleEditClose()},color:"secondary"},Be("app_cancel")),r.a.createElement(Mt.a,{onClick:function(){if(S){var t={name:l,value:m,key:E,action:y,picture:S,imageFile:D,imageType:N};e.handleNewItem(t)}else e.handleNewItem({name:l,value:m,key:E,action:y});e.handleEditClose()},color:"primary",disabled:!!w.error},Be("app_choose")))))}var Ei=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))((function(e){var t=e._setOpenScreen,a=e.userInfo,i=Object(n.useState)([]),l=Object(it.a)(i,2),o=l[0],s=l[1],c=Object(n.useState)(!1),m=Object(it.a)(c,2),u=m[0],d=m[1],E=Object(n.useState)(!1),f=Object(it.a)(E,2),g=f[0],h=f[1];Object(n.useEffect)((function(){t("Manage Account")}),[t]),Object(n.useEffect)((function(){var e=Be("app_photo_personalize"),t=a,n=[];t.picture?(n=[{name:Be("common_photo"),value:e,action:!0,key:"picture",picture:t.picture},{name:Be("common_name"),value:t.name?t.name:"",action:!0,key:"name"},{name:Be("common_email"),value:t.email?t.email:"",action:!1,key:"email"},{name:Be("common_phone"),value:t.phone?t.phone:"",action:!0,key:"phone"},{name:Be("common_address"),value:t.address?t.address:"",action:!0,key:"address"}],s(n)):(n=[{name:Be("common_photo"),value:e,action:!0,key:"picture",picture:t.picture,imageFile:"",imageType:""},{name:Be("common_name"),value:t.name?t.name:"",action:!0,key:"name"},{name:Be("common_email"),value:t.email?t.email:"",action:!1,key:"email"},{name:Be("common_phone"),value:t.phone?t.phone:"",action:!0,key:"phone"},{name:Be("common_address"),value:t.address?t.address:"",action:!0,key:"address"}],s(n))}),[a]);var b=function(e){h(e),d(!0)},_=function(){var t=Object(kn.a)(wn.a.mark((function t(){var n,r,i,l,s,c,m,u,d,E,f,g,h;return wn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},r=a,i="",o.map((function(e){return e.imageType&&(i=e.imageType),n=Object(p.a)(Object(p.a)({},n),{},Object(y.a)({},e.key,"picture"===e.key?e.imageFile:e.value))})),n.name===r.name&&delete n.name,n.email===r.email&&delete n.email,n.phone===r.phone&&delete n.phone,n.address===r.address&&delete n.address,n.picture===r.picture&&delete n.picture,s="PATCH",c="UPDATE_USER_INFO",m=(l={attributeToUpdate:n}).attributeToUpdate,u=m.name,d=m.email,E=m.phone,f=m.address,g=m.picture,E&&(l.attributeToUpdate.phone="0"===E[0]?"+62"+E.slice(1):E),u||delete l.attributeToUpdate.name,d||delete l.attributeToUpdate.email,E||delete l.attributeToUpdate.phone,f||delete l.attributeToUpdate.address,g||delete l.attributeToUpdate.picture,!n.picture){t.next=26;break}return t.next=22,Ve(n.picture,i,n.picture);case 22:(h=t.sent).ID?(l.attributeToUpdate.picture=Le.gatewayRepoFile+"/static-file-manager/retrieve?file=".concat(h.ID),e._setCompleteRequest({request:l,method:s,serviceCode:c})):console.log("Error"),t.next=27;break;case 26:e._setCompleteRequest({request:l,method:s,serviceCode:c});case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(jt.a,{style:{marginTop:30},container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(jt.a,{item:!0,sm:12,xl:12,style:{marginTop:30}},r.a.createElement(st.a,{elevation:2},r.a.createElement("br",null),r.a.createElement(jt.a,{item:!0},r.a.createElement("center",null,r.a.createElement(gt.a,{variant:"h6",color:"primary"},Be("app_account_profile")))),r.a.createElement(ft.a,{margin:20},o&&o.map((function(e,t){return r.a.createElement(vt.a,{divider:!0,key:t,style:{marginRight:30}},r.a.createElement(yt.a,{secondary:e.name,style:{width:"20ch"}}),r.a.createElement(yt.a,{secondary:"Photo"===e.name||"Foto"===e.name?e.value:e.value?"":"edit to fill",primary:"Photo"!==e.name&&"Foto"!==e.name?e.value:"",style:{width:"60ch"}}),r.a.createElement(si.a,{style:{marginRight:15}},"Photo"===e.name||"Foto"===e.name?r.a.createElement(Vn.a,{title:"Edit"},r.a.createElement(ct.a,{src:e.picture,onClick:function(){return b(e)}})):e.action?r.a.createElement(Vn.a,{title:"Edit"},r.a.createElement(bt.a,{edge:"end","aria-label":"delete",onClick:function(){return b(e)}},r.a.createElement(Dn.a,null))):null))}))),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{style:{marginTop:20,marginBottom:20}},r.a.createElement(Mt.a,{onClick:function(){return e.history.push("/Home")},variant:"outlined",color:"secondary",startIcon:r.a.createElement(di.a,null),style:{width:150,textTransform:"none",fontWeight:"bold",marginRight:15}},Be("app_cancel")),r.a.createElement(Mt.a,{onClick:_,variant:"outlined",color:"primary",startIcon:r.a.createElement(mi.a,null),style:{width:150,textTransform:"none",fontWeight:"bold",marginLeft:15}},Be("common_save"))))),r.a.createElement(jt.a,null,r.a.createElement("div",{style:{height:150}}))),r.a.createElement(pi,{open:u,handleEditClose:function(){return d(!1)},editItem:g,handleNewItem:function(e){var t=o.map((function(t){return t.name===e.name?e:t}));s(t)}}),r.a.createElement("canvas",{id:"canvas",style:{width:"300",display:"none"}}))})),fi=(a(718),r.a.forwardRef((function(e,t){return r.a.createElement(Jt.a,Object.assign({direction:"up",ref:t},e))}))),gi=Object(o.b)((function(e){return{configList:e.genericConfiguration.configurationList,configDetail:e.genericConfiguration.configDetail,configDetailModal:e.genericConfiguration.configDetailModal}}),(function(e){return{setCompleteRequest:function(t){e(Q(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e($(t.params)),e(Y(t.serviceStatus||"active"))},setOpenScreen:function(t){return e(ve(t))},setConfigDetailModal:function(t){return e(Se(t))},setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=e.setCompleteRequest,a=e.setOpenScreen,i=e.configList,l=e.configDetailModal,o=e.setConfigDetailModal,s=e.configDetail,c=e.setSecondRequest,m=Object(n.useState)(!1),u=Object(it.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(null),f=Object(it.a)(E,2),g=f[0],h=f[1];Object(n.useEffect)((function(){a("Generic Configuration")}),[a]),Object(n.useEffect)((function(){t({request:{},serviceMethod:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION",customHeaders:{clientId:"voltras-health"}})}),[t]);var b=function(){o(!1),p(!1)};return r.a.createElement("div",{className:"generic-json-container"},r.a.createElement("div",{className:"generic-configuration-container"},r.a.createElement("div",{className:"generic-header"},r.a.createElement(gt.a,{variant:"h6",gutterBottom:!0},"Generic Configuration List")),r.a.createElement(Er.a,{"aria-label":"simple table"},r.a.createElement(br.a,null,r.a.createElement(Or.a,null,r.a.createElement(gr.a,null,"ID"),r.a.createElement(gr.a,null,"Name"),r.a.createElement(gr.a,null,"Updated On"),r.a.createElement(gr.a,null,"Updated By"),r.a.createElement(gr.a,null,"Action"))),r.a.createElement(fr.a,null,i.map((function(e){var a=e.id,n=e.name,i=e.update;return r.a.createElement(Or.a,{key:a},r.a.createElement(gr.a,null,a),r.a.createElement(gr.a,null,n),r.a.createElement(gr.a,null,function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1<10?"0"+Number(t.getMonth()+1):Number(t.getMonth()+1);return(t.getDate()<10?"0"+Number(t.getDate()):Number(t.getDate()))+"-"+n+"-"+a}(i.on)),r.a.createElement(gr.a,null,i.by),r.a.createElement(gr.a,null,r.a.createElement(bt.a,{"aria-label":"delete",onClick:function(){return function(e){t({request:{},params:"/"+e,serviceMethod:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION_DETAIL",customHeaders:{clientId:"voltras-health"}})}(a)}},r.a.createElement("i",{style:{fontSize:"18px"},className:"fas fa-info-circle"}))))}))))),r.a.createElement(Tt.a,{open:l,scroll:"paper",TransitionComponent:fi,keepMounted:!0,maxWidth:"xl"},r.a.createElement(kt.a,null,r.a.createElement("div",{className:"dialog-header"},r.a.createElement(gt.a,{variant:"h6",gutterBottom:!0},"Configuration Detail"),r.a.createElement(bt.a,{"aria-label":"delete",onClick:b},r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement(Lt.a,null,r.a.createElement("div",{className:"dialog-content"},r.a.createElement(Zt.a,{label:"JSON Config",multiline:!0,rowsMax:20,value:g||JSON.stringify(s,void 0,5),onChange:function(e){var t=e.target.value;h(t)},variant:"outlined",style:{width:"100%"},disabled:!d}))),r.a.createElement(Rt.a,null,r.a.createElement("div",{className:"dialog-footer"},d?r.a.createElement("div",null,r.a.createElement(Mt.a,{style:{marginRight:"10px"},onClick:b,variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(Mt.a,{onClick:function(){var e=JSON.parse(g),a={request:e,params:"/"+e.id,serviceMethod:"POST",serviceCode:"GENERIC_JSON_CONFIGURATION_UPDATE",customHeaders:{clientId:"voltras-health"}};t(a);c({request:{},method:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION",customHeaders:{clientId:"voltras-health"}}),p(!1)},variant:"contained",color:"primary"},"Save Configuration")):r.a.createElement(Mt.a,{onClick:function(){var e=JSON.stringify(s,void 0,5);h(e),p(!0)},variant:"contained",color:"primary"},"Edit Configuration")))),r.a.createElement("div",{style:{height:window.screen.height-550}}))})),hi=a(225),bi=a(771),_i=a(13),Oi=a(770),vi=a(742),yi=a(363);function Ci(e){var t=Object(yi.useSpring)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return r.a.createElement(yi.animated.div,{style:t},r.a.createElement(vi.a,e))}var ji=Object(ot.a)((function(e){return{iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:7,paddingLeft:18,borderLeft:"1px dashed ".concat(Object(_i.d)(e.palette.text.primary,.4))}}}))((function(e){return r.a.createElement(Oi.a,Object.assign({},e,{TransitionComponent:Ci}))})),Ii=function e(t){var a=t.items;return a&&a.length?a.map((function(t){return t.children?r.a.createElement(ji,{nodeId:t.id,label:t.name},r.a.createElement(e,{items:t.children})):r.a.createElement(ji,{nodeId:t.id,label:t.name})})):null};a(720);function Si(e){return r.a.createElement(hi.a,Object.assign({fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"}))}function Ti(e){return r.a.createElement(hi.a,Object.assign({fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"}))}function Ri(e){return r.a.createElement(hi.a,Object.assign({className:"close",fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z"}))}var Li=Object(Bt.a)({root:{height:264,flexGrow:1,maxWidth:400}}),wi=Object(o.b)(null,(function(e){return{setOpenScreen:function(t){return e(ve(t))}}}))((function(e){var t=e.setOpenScreen;Object(n.useEffect)((function(){t("Clinic Scope")}),[t]);var a=Li();return r.a.createElement("div",{className:"clinic-scope-container"},r.a.createElement(bi.a,{className:a.root,defaultExpanded:["1"],defaultCollapseIcon:r.a.createElement(Si,null),defaultExpandIcon:r.a.createElement(Ti,null),defaultEndIcon:r.a.createElement(Ri,null)},r.a.createElement(Ii,{items:[{id:2,name:"Biofarma",children:[{id:3,name:"Klinik Biofarma 1",children:null}]},{id:4,name:"Kimia Farma",children:[{id:5,name:"Klinik Kimia Farma 1",children:[{id:7,name:"Klinik Kimia Farma 1.1",children:null},{id:8,name:"Klinik Kimia Farma 1.2",children:[{id:123,name:"Klinik Kimia Farma 123",children:null}]}]},{id:6,name:"Klinik Kimia Farma 2",children:null}]}]})))})),ki=function(){return r.a.createElement("div",null,r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/",component:Qt}),r.a.createElement(W.a,{path:"/Home",component:Qt}),r.a.createElement(W.a,{path:"/Login",component:xa}),r.a.createElement(W.a,{path:"/Register",component:Ua}),r.a.createElement(W.a,{path:"/PaxList",component:sn}),r.a.createElement(W.a,{path:"/PaxDetail",component:_n}),r.a.createElement(W.a,{path:"/QrScreen",component:yn}),r.a.createElement(W.a,{path:"/VCreateUser",component:Rn}),r.a.createElement(W.a,{path:"/VUserList",component:$n}),r.a.createElement(W.a,{path:"/KCreateAdmin",component:Rn}),r.a.createElement(W.a,{path:"/KAdminList",component:$n}),r.a.createElement(W.a,{path:"/KSetting",component:nr}),r.a.createElement(W.a,{path:"/KClinicList",component:ir}),r.a.createElement(W.a,{path:"/KClinicRegistration",component:lr}),r.a.createElement(W.a,{path:"/VClientList",component:Ar}),r.a.createElement(W.a,{path:"/VRequestList",component:Xr}),r.a.createElement(W.a,{path:"/VCreateClient",component:Br}),r.a.createElement(W.a,{path:"/OrderReport",component:ai}),r.a.createElement(W.a,{path:"/KOrderReportAll",component:oi}),r.a.createElement(W.a,{path:"/UserProfile",component:Ei}),r.a.createElement(W.a,{path:"/GenericConfiguration",component:gi}),r.a.createElement(W.a,{path:"/ClinicScope",component:wi})))},Mi=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.handleAction=function(){var e="",t=n.props.locale?n.props.locale.slice(0,2):"en",a=n.state.action;"SEND_EMAIL_VERIFICATION"===a&&(e="email"),"SEND_PHONE_VERIFICATION"===a&&(e="phone");var r={method:"GET",request:{},serviceCode:a,urlParams:"/".concat(e,"?&lang=").concat(t,"&redirectURI=").concat("http://www.alamanak.co.id")};n.props._setCompleteRequest(r),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.state={open:!1,severity:"",message:"",action:!1,actionLabel:""},n}return Object(B.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;console.log("NEXT PROPS SNACK: ",e);var a=e.feedback.snackBar,n=a.open,r=a.message;n&&r?(this.setState(Object(p.a)(Object(p.a)(Object(p.a)({},this.state),a),{},{open:!0})),a.redirect&&setTimeout((function(){t.props.history.push("/".concat(a.redirect))}),2e3)):this.setState(Object(p.a)(Object(p.a)({},this.state),{},{open:!1}))}},{key:"componentDidMount",value:function(){console.log("DIDMOUNT: ",this.state)}},{key:"componentWillUnmount",value:function(){this.setState({open:!1,severity:"",message:"",action:!1,actionLabel:""})}},{key:"render",value:function(){var e=this.state,t=e.open,a=e.message,n=e.position,i=e.severity,l=e.action,o=e.actionLabel,s=e.duration;return r.a.createElement("div",null,r.a.createElement(tt.a,{anchorOrigin:n?{vertical:n.split("-")[0],horizontal:n.split("-")[1]}:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:s||4e3,onClose:this.handleClose,message:a},r.a.createElement(at.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:i,action:l?r.a.createElement(Mt.a,{color:"primary",variant:"contained",onClick:this.handleAction,style:{textTransform:"none",fontWeight:"bold"}},o):null},a)))}}]),a}(n.Component),xi=Object(o.b)((function(e){return{feedback:e.feedback,locale:e.system.locale}}),(function(e){return{_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Y("active"))}}}))(Mi),Di=Object(n.forwardRef)((function(e,t){return r.a.createElement(Jt.a,Object.assign({direction:"down",ref:t},e))}));function Pi(e){var t,a=Object(n.useState)({otp:"",otpErrorMessage:"",onLoginErrorMessage:""}),i=Object(it.a)(a,2),l=i[0],o=i[1];return r.a.createElement("div",null,r.a.createElement(Tt.a,{open:e.open,TransitionComponent:Di,keepMounted:!0,onClose:function(){e.handleDialogClose()}},r.a.createElement(xt.a,{style:{display:"flex",flexWrap:"wrap",width:300},elevation:4},r.a.createElement(jt.a,{style:{margin:30},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_submit_otp"))," "),r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},Be("app_submit_otp_text")),r.a.createElement(gt.a,{variant:"subtitle2",color:"primary"},e.phone),r.a.createElement(Nt.a,{style:{margin:10,width:"12ch",textAlign:"center"}},r.a.createElement(Pt.a,{autoFocus:!0,style:{fontSize:28,textAlign:"center"},error:!!l.otpErrorMessage,id:"standard-adornment-otp",type:"text",onChange:(t="otp",function(e){var a;e.preventDefault();var n=pa(t,e.target.value);o(Object(p.a)(Object(p.a)({},l),{},(a={},Object(y.a)(a,t,e.target.value.slice(0,6)),Object(y.a)(a,t+"ErrorMessage",n.errorMessage),a)))}),value:l.otp,maxLength:6})),l.otpErrorMessage?r.a.createElement(At.a,{error:!0,id:"email-helper-text"},l.otpErrorMessage):null,r.a.createElement(Nt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Mt.a,{onClick:function(){e.handleDialogClose()},variant:"outlined",color:"primary",style:{margin:10}},Be("app_cancel")),r.a.createElement(Mt.a,{onClick:function(){if(l.otp){var t=e.clientId,a={request:{challenge:l.otp,otpID:e.otpID,redirectURI:"http://www.alamanak.co.id"},method:"POST",serviceCode:"VERIFICATION_CHECK",customHeaders:{clientId:t},params:"/phone"};e.handleSubmitOtp(a)}setTimeout((function(){e.handleDialogClose()}),50)},disabled:!l.otp,style:{margin:10},variant:"contained",color:"primary"},Be("app_submit"))),l.onLoginErrorMessage?r.a.createElement(At.a,{error:!0,id:"password-helper-text"},l.onLoginErrorMessage):null),r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},Be("app_not_receive_otp")),r.a.createElement(Mt.a,{size:"small",onClick:function(){},color:"primary",style:{textTransform:"none",fontWeight:"bold",fontSize:12}},Be("app_resend_otp")))))))}var Ui=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0,mainHidden:!0})},n.handleDrawerClose=function(){n.setState({open:!1,mainHidden:!1})},n.handleDrawerClick=function(e){var t=window.screen.width,a=e.url;if(n.props._setMenuClickUrl(a),e.children[0]){Object.entries(n.props.menu).forEach((function(e){var t=Object(it.a)(e,2),a=t[0];t[1];"menuItems"!==a&&n.props._toggleCollapseMenu({name:a,value:!1})}));var r={name:a,value:!n.props.menu[a]};n.props._toggleCollapseMenu(r)}else"Logout"===a?n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!0})):t<1e3?(n.setState({open:!n.state.open,mainHidden:!n.state.mainHidden}),n.props.history.push("/".concat(a))):n.props.history.push("/".concat(a))},n.handleClickOpen=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!0}))},n.handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!1}))},n.handleMainClick=function(){window.screen.width<1e3&&n.state.mainHidden&&n.setState({open:!n.state.open,mainHidden:!n.state.mainHidden})},n.handleLogout=function(){localStorage.clear(),n.props._setCompleteRequest({request:{redirectURI:"http://login.page"},method:"POST",serviceCode:"logout"}),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!1,open:!1}))},n.handleDialogClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{dialogOpen:!n.state.dialogOpen}))},n.handleSubmitOtp=function(e){n.props._setCompleteRequest(e)},n.handleClick=function(){n.props.history.push("UserProfile")},n.state={open:!1,mainHidden:!1,openLogout:!1,dialogOpen:!1,otpID:""},n}return Object(B.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.store,i=t.menu,l=t.menuItems,o=t.userInfo,s={display:"flex",backgroundImage:"url(".concat(n.appConstant&&"Login"===n.openScreen?n.appConstant.backgroundLogin:Le.gatewayRepoFile+"/static-file-manager/retrieve?file=voltras_login_background",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:0,left:0,width:"100%"},c={display:"flex",backgroundImage:"url(".concat(n.appConstant?n.appConstant.backgroundApp:"",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:0,left:0,width:"100%",height:"100%"};return r.a.createElement("div",{style:"Login"===n.openScreen?s:c},r.a.createElement(Et.a,null),"Login"===n.openScreen?null:r.a.createElement(dt.a,{position:"fixed",className:Object(lt.a)(a.appBar,Object(y.a)({},a.appBarShift,this.state.open))},r.a.createElement(pt.a,null,"Home"===n.openScreen?r.a.createElement(bt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-clinic-medical"})):"Order List"===n.openScreen?r.a.createElement(bt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-file-medical"})):r.a.createElement(bt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-laptop-house"})),r.a.createElement(gt.a,{variant:"h6",noWrap:!0,className:a.title},n.openScreen?n.openScreen:"Clinic Backoffice"),r.a.createElement(bt.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:this.handleDrawerOpen,className:Object(lt.a)(this.state.open&&a.hide)},r.a.createElement(Ot.a,null))),n.serviceStart?r.a.createElement(Ct.a,{color:"secondary"}):null),r.a.createElement("main",{onClick:this.handleMainClick,className:Object(lt.a)(a.content,Object(y.a)({},a.contentShift,this.state.open)),style:"Login"===n.openScreen?{marginRight:0}:null},r.a.createElement(jt.a,{style:{marginTop:50}},r.a.createElement(Pi,{handleDialogClose:this.handleDialogClose,open:this.state.dialogOpen,otpID:this.state.otpID,phone:o.info.phone,clientId:o.info.aud,handleSubmitOtp:this.handleSubmitOtp}),r.a.createElement(ki,null),r.a.createElement(xi,{history:this.props.history}))),"Login"===n.openScreen?null:r.a.createElement(ut.a,{className:a.drawer,variant:"persistent",anchor:"right",open:this.state.open,classes:{paper:a.drawerPaper}},r.a.createElement(ft.a,null,r.a.createElement(vt.a,null,r.a.createElement("br",null),r.a.createElement(st.a,{elevation:0,style:{width:240}},r.a.createElement(jt.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(jt.a,{item:!0,onClick:this.handleDrawerClose},r.a.createElement(ct.a,{style:{width:75,height:75,marginBottom:5},src:o.info.picture?o.info.picture:""})),r.a.createElement(jt.a,{item:!0},r.a.createElement("center",null,r.a.createElement(gt.a,{variant:"subtitle2"},o.info?o.info.name:""))),r.a.createElement(jt.a,{item:!0},r.a.createElement("center",null,r.a.createElement(gt.a,{variant:"caption"},o.info?o.info.email||o.info.phone:""))),r.a.createElement(jt.a,{item:!0,style:{marginTop:15}},r.a.createElement(mt.a,{onClick:this.handleClick,label:Be("app_manage_acount"),variant:"outlined",size:"small"}))))),r.a.createElement("br",null))),r.a.createElement(ht.a,null),l&&l.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(ft.a,null,r.a.createElement(vt.a,{button:!0,onClick:function(){return e.handleDrawerClick(t)}},r.a.createElement(gt.a,{style:{fontSize:"18px"}},t.label))),i[t.url]?r.a.createElement("div",null,t.children.map((function(t,a){return t?r.a.createElement("div",{key:a},r.a.createElement(ft.a,{style:{marginLeft:15}},r.a.createElement(vt.a,{button:!0,onClick:function(){return e.handleDrawerClick(t)},key:a},r.a.createElement(St.a,null),r.a.createElement(yt.a,{primary:t.label})))):null}))):null,r.a.createElement(ht.a,null))})),r.a.createElement(jt.a,{style:{marginTop:10},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},"version ",Le.appVersion),r.a.createElement(gt.a,{variant:"caption",color:"textSecondary"},"Copyright \xa9 2020, voltras.net"))),r.a.createElement(Tt.a,{open:this.state.openLogout,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(kt.a,{id:"alert-dialog-title"},Be("app_logout")),r.a.createElement(Lt.a,null,r.a.createElement(wt.a,{id:"alert-dialog-description"},Be("app_confirm_logout"),"?")),r.a.createElement(Rt.a,null,r.a.createElement(Mt.a,{onClick:this.handleClose,color:"primary"},Be("app_cancel")),r.a.createElement(Mt.a,{onClick:this.handleLogout,color:"primary",autoFocus:!0},Be("app_logout")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.store.otpID&&e.store.otpID!==t.otpID?Object(p.a)(Object(p.a)({},t),{},{dialogOpen:!0,otpID:e.store.otpID}):null}}]),a}(n.Component),Ai=Object(o.b)((function(e){return{store:e.system,menuItems:e.menu.menuItems,menu:e.menu,userInfo:e.userInfo}}),(function(e){return{_setMenuCollapseStatus:function(t){e(me(t))},_setMenuClickUrl:function(t){e(function(e){return{type:"SET_MENU_CLICK_URL",val:e}}(t))},_toggleCollapseMenu:function(t){e(function(e){return{type:"TOGGLE_COLLAPSE_MENU",val:e}}(t))},_logout:function(){e({type:"LOGOUT"}),e(e(ce(We)))},_setCompleteRequest:function(t){e(Q(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Y("active"))}}}))(Ui),Ni=Object(ot.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:Object(y.a)({transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("md"),{marginRight:0}),menuButton:{marginRight:e.spacing(2)}}}))(Ai),qi=Le.gatewayRepoFile,Fi=[{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:qi+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ke.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:qi+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:qi+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",url:"GenericConfiguration",children:[]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],Hi=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=window.screen;!navigator.xr&&window.innerWidth<=800&&window.innerHeight<=600&&e.orientation&&e.orientation.lock&&e.orientation.lock("landscape");var t=window.location.href;t.split("/")[3]&&"reset-password-recovery"===t.split("/")[3]&&this.props._setResetPasswordCode(t.split("/").slice(-1)[0]),t.split("/")[3]&&"verification-code"===t.split("/")[3]&&this.props._setVerificationCode(t.split("/").slice(-1)[0]);var a=window.location.origin,n=Fi.filter((function(e){return e.domain.includes(a)}));this.props._setAppConstant(n[0]?n[0]:Fi[0]),console.log("SETTING CONSTANTS: ",a,n[0]?n[0]:Fi[0]);var r=navigator.language;this.props._setLocale(r),localStorage.getItem("accessToken")?this.props.history.push("/Home"):(this.props._setUserMenu(We),this.props.history.push("/Login"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ni,{history:this.props.history}),r.a.createElement(et,{history:this.props.history}),r.a.createElement(rt,{history:this.props.history}))}}]),a}(n.Component),Bi=Object(W.f)(Object(o.b)((function(e){return{userInfo:e.userInfo}}),(function(e){return{_setUserMenu:function(t){return e(ce(t))},_setAppConstant:function(t){return e(ye(t))},_setLocale:function(t){return e(je(t))},_setResetPasswordCode:function(t){return e(oe(t))},_setVerificationCode:function(t){return e(se(t))}}}))(Hi)),Gi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vi(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(o.a,{store:F},r.a.createElement(c.a,{theme:u},r.a.createElement(s.a,null,r.a.createElement(Bi,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Gi?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Vi(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Vi(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.confirm("There is a new version of the app ready. Please reload to update.")&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}})}},[[526,1,2]]]);
//# sourceMappingURL=main.1637eee5.chunk.js.map