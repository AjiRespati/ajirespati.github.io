(this.webpackJsonpvoltrasguido=this.webpackJsonpvoltrasguido||[]).push([[0],{502:function(e,t,a){},509:function(e){e.exports=JSON.parse('{"gatewayBackOffice":"http://172.16.10.51:31388","gatewaySecurity":"https://health.voltras.net/security","gatewayMsHealth":"http://172.16.10.93:8001","gatewayRepoFile":"https://repo.voltras.net","parentClinic":269,"phonePrefix":["+62"]}')},510:function(e,t,a){e.exports=a.p+"static/media/backoffice02.246215a8.jpg"},517:function(e,t){},532:function(e,t,a){e.exports=a(726)},541:function(e,t,a){},544:function(e){e.exports=JSON.parse("{}")},548:function(e,t){},550:function(e,t){},561:function(e,t){},563:function(e,t){},590:function(e,t){},592:function(e,t){},593:function(e,t){},599:function(e,t){},601:function(e,t){},619:function(e,t){},621:function(e,t){},633:function(e,t){},636:function(e,t){},724:function(e,t,a){},726:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),l=a.n(i),o=a(15),c=a(277),s=a(764),m=a(185),d=Object(m.a)({palette:{primary:{light:"#08ff00",main:"#00f100",dark:"#00cb00",contrastText:"#000000"},secondary:{light:"#637bfe",main:"#3d5afe",dark:"#2a3eb1",contrastText:"#000000"},error:{light:"#ef9a9a",main:"#f06461",dark:"#b71c1c",contrastText:"#000000"}}}),u=a(112),p=a(1),f={locale:"",serviceStart:!1,openScreen:"",menuClickUrl:"",appConstant:null,roleAuth:{root:"AUTHENTICATION_ROOT",admin:"AUTHENTICATION_ADMIN",endUser:"AUTHENTICATION_USER"},popChooseRole:!1,googleParams:{access_type:"offline",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",response_type:"code",prompt:"consent",client_id:"321981158486-ac5nqdqbq0hjla14a299ln736s2kuj14.apps.googleusercontent.com"},otpID:""},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERVICE_START":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!0});case"SERVICE_END":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!1});case"SET_SNACKBAR_MESSAGE":return Object(p.a)(Object(p.a)({},e),{},{snackbarMsg:t.val});case"SET_OPEN_SCREEN":return Object(p.a)(Object(p.a)({},e),{},{openScreen:t.val});case"SET_MENU_CLICK_URL":return Object(p.a)(Object(p.a)({},e),{},{menuClickUrl:t.val});case"SET_APP_CONSTANT":return Object(p.a)(Object(p.a)({},e),{},{appConstant:t.val});case"SET_LOCALE":return Object(p.a)(Object(p.a)({},e),{},{locale:t.val});case"POP_CHOOSE_ROLE":return Object(p.a)(Object(p.a)({},e),{},{popChooseRole:t.val});case"SET_GOOGLE_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{googleParams:t.val});case"SET_SYSTEM_OTP_ID":return Object(p.a)(Object(p.a)({},e),{},{otpID:t.val});case"LOGOUT":return Object(p.a)(Object(p.a)({},e),{},{serviceStart:!1,menuClickUrl:"",roleAuth:{root:"AUTHENTICATION_ROOT",admin:"AUTHENTICATION_ADMIN",endUser:"AUTHENTICATION_USER"},popChooseRole:!1,otpID:""});default:return e}},g={file:null,request:{},secondRequest:!1,thirdRequest:!1,status:"inactive",serviceCode:null,method:"POST",params:"",customHeaders:null,role:null,test:!1,headersContent:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILE":return Object(p.a)(Object(p.a)({},e),{},{file:t.val});case"SET_SERVICE_CODE":return Object(p.a)(Object(p.a)({},e),{},{serviceCode:t.val});case"SET_SERVICE_STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.val});case"SET_SERVICE_METHOD":return Object(p.a)(Object(p.a)({},e),{},{method:t.val});case"SET_SERVICE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{request:t.val});case"SET_SERVICE_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{params:t.val});case"SET_SERVICE_CUSTOM_HEADERS":return Object(p.a)(Object(p.a)({},e),{},{customHeaders:t.val});case"SET_SERVICE_ROLE":return Object(p.a)(Object(p.a)({},e),{},{role:t.val});case"SET_HEADERS_CONTENT":return Object(p.a)(Object(p.a)({},e),{},{headersContent:Object(p.a)(Object(p.a)({},e.headersContent),t.val)});case"SET_SECOND_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{secondRequest:t.val});case"CLEAR_SECOND_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{secondRequest:!1});case"SET_THIRD_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{thirdRequest:t.val});case"CLEAR_THIRD_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{thirdRequest:!1});case"SET_TEST":return Object(p.a)(Object(p.a)({},e),{},{test:t.val});case"RESET_SERVICE":return Object(p.a)(Object(p.a)({},e),{},{request:{},status:"inactive",serviceCode:null,method:"POST",params:"",customHeaders:null,role:null,test:!1,headersContent:{}});case"LOGOUT":return g;default:return e}},b={response:{}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESPONSE":return Object(p.a)(Object(p.a)({},e),{},{response:t.val});default:return e}},v={info:{},sessionInfo:{},otpId:"",roleUsed:"",resetPasswordCode:"",verificationCode:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_INFO":return Object(p.a)(Object(p.a)({},e),{},{info:Object(p.a)(Object(p.a)({},e.info),t.val)});case"SET_USER_SESSION_INFO":return Object(p.a)(Object(p.a)({},e),{},{sessionInfo:t.val});case"SET_USER_OTP_ID":return Object(p.a)(Object(p.a)({},e),{},{otpId:t.val});case"SET_ROLE_USED":return Object(p.a)(Object(p.a)({},e),{},{roleUsed:t.val});case"RESET_PASSWORD_CODE":return Object(p.a)(Object(p.a)({},e),{},{resetPasswordCode:t.val});case"SET_VERIFICATION_CODE":return Object(p.a)(Object(p.a)({},e),{},{verificationCode:t.val});case"LOGOUT":return v;default:return e}},O=a(7),C={menuItems:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_MENU":return Object(p.a)(Object(p.a)({},e),{},{menuItems:t.val});case"SET_MENU_COLLAPSE_STATUS":return Object(p.a)(Object(p.a)({},e),t.val);case"TOGGLE_COLLAPSE_MENU":return Object(p.a)(Object(p.a)({},e),{},Object(O.a)({},t.val.name,t.val.value));case"LOGOUT":return C;default:return e}},S={list:[],detail:{},product:[],filteredList:[],klinikList:[],clinicDetail:{},cityList:[],clinicUser:null,clinicRecapt:[],myClinic:null,clinic_parents:[],parentList:[],clinic_recapt_logistic:[]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAX_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_PAX_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_PAX_PRODUCT":return Object(p.a)(Object(p.a)({},e),{},{product:t.val});case"SET_KLINIK_LIST":return Object(p.a)(Object(p.a)({},e),{},{klinikList:t.val});case"SET_CLINIC_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{clinicDetail:t.val});case"SET_CLINIC_USER":return Object(p.a)(Object(p.a)({},e),{},{clinicUser:t.val});case"SET_CLINIC_RECAPT":return Object(p.a)(Object(p.a)({},e),{},{clinicRecapt:t.val});case"SET_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"SET_CITY_LIST":return Object(p.a)(Object(p.a)({},e),{},{cityList:t.val});case"SET_MY_CLINIC":return Object(p.a)(Object(p.a)({},e),{},{myClinic:t.val});case"SET_CLINIC_PARENTS":return Object(p.a)(Object(p.a)({},e),{},{clinic_parents:t.val});case"SET_PARENT_LIST":return Object(p.a)(Object(p.a)({},e),{},{parentList:t.val});case"SET_CLINIC_RECAPT_LOGISTIC":return Object(p.a)(Object(p.a)({},e),{},{clinic_recapt_logistic:t.val});case"LOGOUT":return S;default:return e}},T={snackBar:{open:!1,severity:"info",message:"",position:"bottom-center",action:"",actionLabel:""},dialog:{open:!1,message:""},stepper:{open:!1,step:0,message:""}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNACKBAR":return Object(p.a)(Object(p.a)({},e),{},{snackBar:t.val});case"SET_DIALOG":return Object(p.a)(Object(p.a)({},e),{},{dialog:t.val});case"LOGOUT":return T;default:return e}},k={autocomplete:null,inputValue:"",klinikList:[],klinikValue:{},klinikInputValue:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTOCOMPLETE_VALUE":return Object(p.a)(Object(p.a)({},e),{},{autocomplete:t.val});case"SET_INPUT_VALUE":return Object(p.a)(Object(p.a)({},e),{},{inputValue:t.val});case"SET_KLINIK_LIST_RESPONSE":return Object(p.a)(Object(p.a)({},e),{},{klinikList:t.val});case"SET_KLINIK_VALUE":return Object(p.a)(Object(p.a)({},e),{},{klinikValue:t.val});case"SET_KLINIK_INPUT_VALUE":return Object(p.a)(Object(p.a)({},e),{},{klinikInputValue:t.val});default:return e}},L={list:[],detail:{},filteredList:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_USER_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_USER_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"LOGOUT":return L;default:return e}},A={list:[],detail:{},filteredList:[],messagingList:[],messagingEdit:{}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_CLIENT_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_CLIENT_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"SET_CLIENT_MESSAGE_LIST":return Object(p.a)(Object(p.a)({},e),{},{messagingList:t.val});case"SET_CLIENT_MESSAGE_EDIT":return Object(p.a)(Object(p.a)({},e),{},{messagingEdit:t.val});case"LOGOUT":return A;default:return e}},M={configurationList:[],productCatalogList:[],configDetail:null,configDetailModal:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GENERIC_CONFIG_LIST":return Object(p.a)(Object(p.a)({},e),{},{configurationList:t.data});case"SET_CONFIG_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{configDetail:t.data});case"SET_CONFIG_DETAIL_MODAL":return Object(p.a)(Object(p.a)({},e),{},{configDetailModal:t.val});case"SET_GENERAL_PRODUCT_CATALOG":return Object(p.a)(Object(p.a)({},e),{},{productCatalogList:t.val});default:return e}},U={list:[],detail:{},filteredList:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_LIST":return Object(p.a)(Object(p.a)({},e),{},{list:t.val});case"SET_REQUEST_DETAIL":return Object(p.a)(Object(p.a)({},e),{},{detail:t.val});case"SET_CLIENT_FILTERED_LIST":return Object(p.a)(Object(p.a)({},e),{},{filteredList:t.val});case"LOGOUT":return U;default:return e}},F=Object(u.c)({autocomplete:w,clientList:P,feedback:R,menu:j,paxList:I,response:y,system:E,service:h,userInfo:_,userList:x,genericConfiguration:D,requestList:N}),H=Object(u.e)(F),q=(a(541),a(60)),z=a(61),B=a(64),W=a(63),G=a(51),V=a(200),K=a.n(V),Y=function(e){return{type:"SET_SERVICE_REQUEST",val:e}},Q=function(e){return{type:"SET_SERVICE_STATUS",val:e}},J=function(e){return{type:"SET_SERVICE_CODE",val:e}},X=function(e){return{type:"SET_SERVICE_METHOD",val:e}},$=function(e){return{type:"SET_SERVICE_PARAMS",val:e}},Z=function(e){return{type:"SET_SERVICE_CUSTOM_HEADERS",val:e}},ee=function(e){return{type:"SET_SERVICE_ROLE",val:e}},te=function(e){return{type:"SET_SECOND_REQUEST",val:e}},ae=function(e){return{type:"SET_RESPONSE",val:e}},ne=function(e){return{type:"SET_USER_INFO",val:e}},re=function(e){return{type:"SET_USER_SESSION_INFO",val:e}},ie=function(e){return{type:"SET_USER_OTP_ID",val:e}},le=function(e){return{type:"SET_ROLE_USED",val:e}},oe=function(e){return{type:"RESET_PASSWORD_CODE",val:e}},ce=function(e){return{type:"SET_VERIFICATION_CODE",val:e}},se=function(e){return{type:"SET_USER_MENU",val:e}},me=function(e){return{type:"SET_MENU_COLLAPSE_STATUS",val:e}},de=function(e){return{type:"SET_PAX_LIST",val:e}},ue=function(e){return{type:"SET_PAX_DETAIL",val:e}},pe=function(e){return{type:"SET_PAX_PRODUCT",val:e}},fe=function(e){return{type:"SET_KLINIK_LIST",val:e}},Ee=function(e){return{type:"SET_CLINIC_DETAIL",val:e}},ge=function(e){return{type:"SET_CLINIC_RECAPT",val:e}},he=function(e){return{type:"SET_CITY_LIST",val:e}},be=function(e){return{type:"SET_PARENT_LIST",val:e}},ye=function(e){return{type:"SET_CLINIC_RECAPT_LOGISTIC",val:e}},ve=function(e){return{type:"SET_SNACKBAR",val:e}},_e=function(e){return{type:"SET_DIALOG",val:e}},Oe=function(e){return{type:"SET_OPEN_SCREEN",val:e}},Ce=function(e){return{type:"SET_APP_CONSTANT",val:e}},je=function(e){return{type:"POP_CHOOSE_ROLE",val:e}},Se=function(e){return{type:"SET_LOCALE",val:e}},Ie=function(e){return{type:"SET_USER_FILTERED_LIST",val:e}},Te=function(e){return{type:"SET_CONFIG_DETAIL_MODAL",val:e}},Re=(a(544),a(509));console.log("ENVIRONMENT: ",Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var ke={};(ke=Re).appVersion="1.0.3";var we=ke,Le=we.gatewaySecurity,xe=we.gatewayBackOffice,Ae=function(e){switch(e){case"login":return Le+"/login";case"logout":return Le+"/logout";case"register":return Le+"/register";case"UPDATE_USER_INFO":return Le+"/users/me";case"OTP":return Le+"/validate-otp";case"RESET_PASSWORD_REQUEST":return Le+"/reset-password-request";case"CHANGE_PASSWORD_REQUEST":return Le+"/reset-password-recovery";case"SEND_EMAIL_VERIFICATION":case"SEND_PHONE_VERIFICATION":case"VERIFICATION_CHECK":return Le+"/verification-code";case"REQ_AUTH_GOOGLE_PARAMS":return Le+"/params/google-oauth";case"SELECT_USER_ROLE":return xe+"/user/select/role";case"SELECT_USER_FULL_INFO":case"SELECT_USER_DETAIL_FULL_INFO":return xe+"/user/select/full";case"CREATE_BO_USER":case"SELECT_ALL_USER":return xe+"/users";case"DELETE_USER":case"UPDATE_USER_ROLE":case"UPDATE_BASIC_USER":case"UPDATE_TEMPLATE_MESSAGE":case"SELECT_ALL_MESSAGE":return xe;case"SELECT_ALL_CLIENT":case"CREATE_CLIENT":return xe+"/clients";case"SELECT_ALL_REQUEST":return xe+"/request-specifications";case"UPDATE_CLIENT_DETAIL":case"ADD_CLIENT_ROLE":case"DELETE_CLIENT_ROLE":case"DELETE_CLIENT":case"ADD_REQUEST_SPESIFICATIONS":case"UPDATE_REQUEST_SPESIFICATIONS":return xe;case"HEALTH_ORDER_DETAIL":case"healthOrder":return Le+"/admin/orders";case"healthKlinik":return Le+"/admin/clinics";case"healthProduct":return Le+"/products";case"GET_CITY_LIST":case"GET_CITY_CLINIC_LIST":return Le+"";case"GET_ALL_ORDER":case"RESCHEDULE_ORDER":return Le+"/admin/orders";case"CLINIC_REGISTRATION":case"SEND_CLINIC_ACTIVATION":case"ADD_CLINIC_USER":case"DELETE_CLINIC_USER":case"DELETE_CLINIC":case"GET_CLINIC_USER":return Le+"/admin/clinics";case"GET_MY_CLINIC":return Le+"/admin/users/me";case"GET_CLINIC_REPORT":return Le+"/admin/report";case"RECAPT_CLINIC_SUMMARY":return Le+"/admin/report/logistic";case"RECAPT_BIOFARMA_SUMMARY":return Le+"/admin/report";case"ADD_CLINIC_LOGO":case"EDIT_CLINIC_SETTING":return Le+"/admin/clinics";case"GENERIC_JSON_CONFIGURATION":case"GENERIC_JSON_CONFIGURATION_DETAIL":case"GENERIC_JSON_CONFIGURATION_UPDATE":return Le+"/admin/configurations";case"GENERAL_PRODUCT_CATALOG":return Le+"/products";case"GENERAL_PRODUCT_CATALOG_CREATE":case"GENERAL_PRODUCT_CATALOG_UPDATE":return Le+"/admin/products";case"GET_CLINIC_PARENTS":return Le+"/admin/clinics/parents";case"GET_PARENT_LIST":return Le+"/admin/persons";case"PURCHASE_VOUCHER_NUMBER":return Le+"/admin";default:return Le}},Pe=a(283),Me=a.n(Pe),De=function(e,t){return Me.a.createHash(e).update(t).digest("hex")},Ue=function(e,t,a){var n={};Object.keys(e).sort().forEach((function(t){n[t]=e[t]}));var r={};Object.keys(t).sort().forEach((function(e){r[e]=t[e]}));var i=JSON.stringify(n).replace(/\s/g,""),l=JSON.stringify(r).replace(/\s/g,"");return function(e,t,a){return Me.a.createHmac(e,t).update(a).digest("hex")}("sha256",a,De("sha1",i)+De("sha1",l))},Ne={app_name:{en:"Name",id:"Nama"},app_phone:{en:"Phone",id:"Telepon"},app_email:{en:"Email",id:"Email"},app_new:{en:"New",id:"Baru"},app_paid:{en:"Paid",id:"Terbayar"},app_finish:{en:"Finish",id:"Selesai"},app_password:{en:"Password",id:"Kata sandi"},app_password_confirmation:{en:"Password Confirmation",id:"Konfirmasi Kata Sandi"},app_forgot_password:{en:"Forgot password?",id:"Lupa kata sandi?"},app_from:{en:"From",id:"Dari"},app_to:{en:"To",id:"Sampai"},app_back:{en:"Back",id:"Kembali"},app_cancel:{en:"Cancel",id:"Batal"},app_submit:{en:"Submit",id:"Masukkan"},app_welcome:{en:"Welcome",id:"Selamat Datang"},app_sign_in:{en:"Sign In",id:"Masuk"},app_sign_up:{en:"Sign Up",id:"Daftar"},app_register:{en:"Register",id:"Daftar"},app_choose:{en:"Choose",id:"Pilih"},app_choose_role:{en:"Choose Role",id:"Pilih Role"},app_choose_role_used:{en:"Choose role to used",id:"Pilih role untuk digunakan"},app_submit_otp:{en:"Submit OTP",id:"Masukkan OTP"},app_submit_otp_text:{en:"Submit OTP sent to your number:",id:"Masukkan OTP yang dikirimkan ke nomor:"},app_not_receive_otp:{en:"Did not receive the OTP?",id:"Tidak menerima OTP?"},app_resend_otp:{en:"Resend OTP",id:"Kirim ulang OTP"},app_email_or_phone:{en:"Email or Phone",id:"Email atau Telepon"},app_no_account:{en:"Don't have an account?",id:"Tidak punya akun?"},app_have_account:{en:"Already have an account?",id:"Sudah punya akun?"},app_export_xls:{en:"Export to Xls",id:"Ekspor ke Xls"},app_submit_filter:{en:"Submit Filter",id:"Masukkan Filter"},app_not_mandatory:{en:"Not mandatory",id:"Tidak wajib"},app_regis_sucess_msg:{en:"Registration is successful, please Sign In.",id:"Pendaftaran berhasil, silakan Masuk"},app_email_success_msg:{en:"Send email successful, check your email.",id:"Pengiriman email berhasil, periksa email anda."},app_sms_success_msg:{en:"Send message successful, check your email.",id:"Pengiriman pesan berhasil, periksa sms anda."},app_verification_succes:{en:"Verification successful.",id:"Verifikasi berhasil."},app_send_email_verify:{en:"Send email verification",id:"Kirim verifikasi email"},app_send_phone_verify:{en:"Send phone verification",id:"Kirim verifikasi telepon"},app_delete_data_confirmation:{en:"Are you sure you want to delete this data?",id:"Apakah Anda yakin ingin menghapus data ini?"},app_date_to_show:{en:"Date to show in Report",id:"Tanggal untuk ditampilkan dalam Laporan"},app_show_report:{en:"Show Report",id:"Tampilkan Laporan"},app_report_summary:{en:"Report Summary",id:"Ringkasan Laporan"},app_logout:{en:"Logout",id:"Keluar"},app_confirm_logout:{en:"Are you sure you want to logout",id:"Anda yakin ingin keluar?"},app_manage_acount:{en:"Manage your account",id:"Kelola akun anda"},app_success_update_account:{en:"Update account successful",id:"Pembaruan akun berhasil"},app_select_photo:{en:"Select a photo from your computer",id:"Pilih foto dari komputer anda"},app_account_profile:{en:"Account Profile",id:"Profil Akun"},app_photo_personalize:{en:"A photo helps personalize your account",id:"Sebuah foto membantu personalisasi akun Anda"},app_save_to_change:{en:'Press the "SAVE" button to save changes',id:'Tekan tombol "SIMPAN" untuk menyimpan perubahan'}},Fe={err_submit:{en:"Error in form",id:"Kesalahan di dalam form"},err_email_phone_empty:{en:"Must be filled by email/phone.",id:"Harus diisi dengan email/telepon"},err_email_phone_format:{en:"Wrong email/phone format.",id:"Format email/telepon salah."},err_not_six_char:{en:"At least 8 character.",id:"Paling tidak 8 karakter."},err_phone_empty:{en:"Phone must be filled.",id:"Telepon harus diisi."},err_phone_format:{en:"Wrong phone format. (0... or +62...)",id:"Format telepon salah. (0... atau +62...)"},err_name_empty:{en:"Name must be filled.",id:"Nama harus diisi."},err_clinic_name_empty:{en:"Clinic name must be filled.",id:"Nama klinik harus diisi."},err_address_empty:{en:"Address must be filled.",id:"Alamat harus diisi."},err_email_empty:{en:"Email must be filled.",id:"Email harus diisi."},err_email_format:{en:"Wrong email format.",id:"Format email salah."},err_password_empty:{en:"Password must be filled.",id:"Kata kunci harus diisi."},err_passconfirm_mismatch:{en:"Confirmation not match",id:"Konfirmasi tidak sesuai."},err_clientid_empty:{en:"Client ID must be filled.",id:"Client ID harus diisi."},err_clientid_format:{en:"Wrong Client ID format.",id:"Format Client ID salah."},err_clientname_empty:{en:"Client name must be filled.",id:"Nama client harus diisi."},err_roleid_empty:{en:"Role ID must be filled.",id:"Role ID harus diisi."},err_roleid_format:{en:"Wrong Role ID format.",id:"Format Role ID salah."},err_initialrole_empty:{en:"Initial role must be filled.",id:"Initial role harus diisi."},err_initialrole_format:{en:"Wrong initial role format.",id:"Format initial role salah."},err_clienttype_not_choosen:{en:"Client Type must be chosen",id:"Client Type harus dipilih"},err_profile_not_choosen:{en:"Profile must be chosen",id:"Profil harus dipilih"},err_description_empty:{en:"Description must be filled.",id:"Deskripsi harus diisi."},err_atleast_one_name_chosen:{en:"At least one name must be chosen",id:"Setidaknya satu nama harus dipilih"},err_redeemby_empty:{en:"Redeem By must be filled",id:"Redeem Oleh harus diisi"},err_otp_empty:{en:"Empty OTP",id:"OTP kosong"},err_otp_must_number:{en:"OTP must number",id:"OTP harus angka"},err_uri_empty:{en:"Empty uri",id:"uri kosong"},err_uri_format:{en:"Wrong uri format",id:"Format uri salah"},err_email_masking_100:{en:"Email masking can't more than 100",id:"email masking tidak boleh lebih dari 100"},err_masking_name_format:{en:"Wrong format email masking name",id:" format email masking name salah"},err_masking_name_empty:{en:"empty email masking name",id:"email masking name kosong"},err_path_empty:{en:"Empty path",id:"path kosong"},err_path_format:{en:"Wrong path format",id:"Format path salah"},err_product_empty:{en:"Empty data",id:"Data kosong"},err_product_format:{en:"Wrong data format",id:"format data salah"}},He={common_with:{en:"with",id:"dengan"},common_or:{en:"or",id:"atau"},common_add:{en:"Add",id:"Tambah"},common_signin_with:{en:"Sign in with",id:"Masuk dengan"},common_signup_with:{en:"Sign up with",id:"Daftar dengan"},common_change_password:{en:"Change Password",id:"Ganti Kata Kunci"},common_new_password:{en:"New Password",id:"Kata Kunci Baru"},common_close:{en:"Close",id:"Tutup"},common_contact_person:{en:"Contact Person",id:"Narahubung"},common_birth_date:{en:"Birth Date",id:"Tanggal Lahir"},common_products:{en:"Products",id:"Produk"},common_name:{en:"Name",id:"Nama"},common_phone:{en:"Phone",id:"Telepon"},common_email:{en:"Email",id:"Email"},common_address:{en:"Address",id:"Alamat"},common_photo:{en:"Photo",id:"Foto"},common_change:{en:"Change",id:"Ganti"},common_save:{en:"Save",id:"Simpan"}},qe={clinic:{en:"Clinic",id:"Klinik"},clinic_name:{en:"Clinic Name",id:"Nama Klinik"},clinic_city:{en:"Clinic City",id:"Kota Klinik"},clinic_address:{en:"Clinic Address",id:"Alamat Klinik"},clinic_order_list:{en:"Order List",id:"Daftar Order"},clinic_test_request_date:{en:"Test request date",id:"Tanggal permintaan tes"},clinic_order_report:{en:"Order Report",id:"Laporan Order"},clinic_test_date:{en:"Test Date",id:"Tanggal Test"},clinic_order_date:{en:"Order Date",id:"Tanggal Order"},clinic_birth_date:{en:"Birth Date",id:"Tanggal Lahir"},clinic_redeem_date:{en:"Redeem Date",id:"Tanggal Redeem"},clinic_payment_date:{en:"Payment Date",id:"Tanggal Pembayaran"},clinic_redeem_by:{en:"Redeem By",id:"Redeem Oleh"},clinic_redeem_on:{en:"Redeem On",id:"Tanggal Redeem"},clinic_payment_on:{en:"Payment On",id:"Tanggal Pembayaran"},clinic_agent_price:{en:"Agent Price",id:"Harga Agen"},clinic_price:{en:"Price",id:"Harga"},clinic_redeem_success:{en:"Redeem successful",id:"Redeem berhasil"},clinic_redeem_confirmation:{en:"Redeem Confirmation",id:"Konfirmasi Redeem"},clinic_order_detail:{en:"Order Detail",id:"Detail Order"},clinic_active:{en:"Clinic active.",id:"Klinik aktif."},clinic_user_list:{en:"User List",id:"Daftar Pengguna"},clinic_add_user:{en:"Add User",id:"Tambah Penguna"},clinic_regis_sucess:{en:"Clinic Registration Successful",id:"Pendaftaran klinik berhasil"},clinic_activation_success:{en:"Clinic Activation Successful",id:"Aktivasi Klinik berhasil"},clinic_add_user_success:{en:"Add Clinic User Successful",id:"Tambah pengguna klinik berhasil"},clinic_delete_user_success:{en:"Delete Clinic User Successful",id:"Hapus pengguna klinik berhasil"},clinic_delete_sucess:{en:"Delete Clinic Successful",id:"Hapus klinik berhasil"},clinic_logo:{en:"Clinic Logo",id:"Logo Klinik"},clinic_set_logo:{en:"Set Clinic Logo",id:"Set Logo Klinik"},clinic_change_logo:{en:"Change Clinic Logo",id:"Ganti Logo Klinik"},clinic_change_logo_success:{en:"Change clinic logo successful",id:"Ganti logo klinik berhasil"},clinic_parents:{en:"Parent Clinic",id:"Klinik Induk"},clinic_inactive_confirmation:{en:"Would you like to make this clinic inactive?",id:"Apakah anda ingin membuat klinik ini tidak aktif?"},clinic_inactive:{en:"Clinic inactive.",id:"Klinik tidak aktif."}},ze=Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},Ne),Fe),He),qe),Be=function(e){var t=H.getState().system.locale,a="";a=["en","id"].includes(t.slice(0,2))?t.slice(0,2):"en";var n=ze[e];return n?n[a]:e},We=function(e,t,a,n,r,i,l,o){window.location.origin;H.dispatch({type:"SERVICE_START"});var c=H.getState(),s=c.userInfo.info,m=c.system.appConstant?c.system.appConstant.aud:null,d=c.userInfo.roleUsed,u=c.system.locale,f=c.userInfo.sessionInfo.accessToken,E=c.userInfo.sessionInfo.key,g=null;m&&(g=m),s.aud&&(g=s.aud),r&&r.clientId&&(g=r.clientId);var h=s.name?s.name:r?r.name:null,b=s.email?s.email:r?r.email:null,y=s.phone?s.phone:r?r.phone:null,v=f||(localStorage.getItem("accessToken")?localStorage.getItem("accessToken"):null),_=E||(localStorage.getItem("key")?localStorage.getItem("key"):null),O=i||(d||null),C={"access-token":v,role:O,"gadget-id":"mygadgetId"},j={open:!0,severity:"success",message:"Successful",redirect:"",action:!1,actionLabel:"",position:"bottom-center",duration:4e3};g&&(C["client-id"]=g);var S=JSON.stringify(e),I=new XMLHttpRequest;I.open(t,Ae(a)+(n||""),!0),I.setRequestHeader("gadget-id","mygadgetId"),O&&"login"!==a&&I.setRequestHeader("role",O),g&&I.setRequestHeader("client-id",g),h&&I.setRequestHeader("name",h),b&&I.setRequestHeader("email",b),y&&I.setRequestHeader("phone",y),I.setRequestHeader("Content-type","application/json");var T=n?function(e,t,a,n){var r=e;if(n)if("GET"===t&&n.includes("?")){var i=n.split("&").slice(1),l={};i.forEach((function(e){e=e.split("="),l[e[0]]=decodeURIComponent(e[1]||"")})),r=Object(p.a)(Object(p.a)({},r),l),"SEND_EMAIL_VERIFICATION"===a&&(r.principalType="email"),"SEND_PHONE_VERIFICATION"===a&&(r.principalType="phone")}else n.includes("?")||("ADD_CLIENT_ROLE"!==a&&"DELETE_CLIENT"!==a||(r.clientId=n.split("/")[2]),"DELETE_CLIENT_ROLE"===a&&(r.clientId=n.split("/")[2],r.roleIds=n.split("/")[4]),"UPDATE_USER_ROLE"===a&&(r.id=n.split("/")[2]),"DELETE_USER"===a&&(r.id=n.split("/")[2]),"SELECT_ALL_CLIENT"===a&&n.split("/")[1]&&(r.clientId=n.split("/")[1]));return r}(e,t,a,n):e;"SEND_CLINIC_ACTIVATION"!==a&&"GET_CLINIC_USER"!==a&&"ADD_CLINIC_USER"!==a||(T=e),_&&(I.setRequestHeader("access-token",v),I.setRequestHeader("signature",Ue(C,T,_))),I.send(S),I.addEventListener("load",(function(){var e=I.status.toString();if(H.dispatch({type:"RESET_SERVICE"}),4===I.readyState&&"2"===e.slice(0,1)){H.dispatch({type:"SERVICE_END"});var t={headers:{},body:I.responseText&&"null"!==I.responseText?JSON.parse(I.responseText):{}};o(t)}else if(H.dispatch({type:"SERVICE_END"}),"logout"===a&&H.dispatch({type:"LOGOUT"}),"4"===e.slice(0,1)){var n=JSON.parse(I.responseText);console.log("ERROR YA: ",a,n);var r=n.errorDescription?n.errorDescription[u.slice(0,2)]:n.message?n.message:n;"error.auth.securityValidation.tokenNotFound"===n.error||"error.auth.securityValidation.invalidAccessToken"===n.error?(j.message=r,j.severity="error",j.redirect="Login",H.dispatch(ve(j)),setTimeout((function(){localStorage.clear(),H.dispatch({type:"LOGOUT"})}),2e3)):"error.auth.securityValidation.emailNotVerified"===n.error?(j.message=r,j.severity="warning",j.position="top-center",j.action="SEND_EMAIL_VERIFICATION",j.actionLabel=Be("app_send_email_verify"),j.duration=14e3,H.dispatch(ve(j))):"error.auth.securityValidation.phoneNotVerified"===n.error?(j.message=r,j.severity="warning",j.position="top-center",j.action="SEND_PHONE_VERIFICATION",j.actionLabel=Be("app_send_phone_verify"),j.duration=14e3,H.dispatch(ve(j))):"RECAPT_CLINIC_SUMMARY"===a?(H.dispatch(ye({product:[],testsdate:""})),j.message=r,j.severity="warning",H.dispatch(ve(j))):"RECAPT_BIOFARMA_SUMMARY"===a?(H.dispatch(ye({total:[],detail:[]})),j.message=r,j.severity="warning",H.dispatch(ve(j))):(j.message=JSON.stringify(r),j.severity="error",H.dispatch(ve(j)))}else j.message=I.responseText,j.severity="error",H.dispatch(ve(j))}));var R=function(e,t){console.log("ERRORKAH? ",t,JSON.stringify(e)),j.message="net::ERR_CONNECTION_TIMED_OUT",j.severity="error",H.dispatch(ve(j)),H.dispatch({type:"SERVICE_END"})};I.onerror=function(e){return R(e,"onError")},I.ontimeout=function(e){return R(e,"onTimeout")}},Ge=function(e,t,a){var n={open:!0,severity:"success",message:"Successful",redirect:"",action:!1,actionLabel:"",position:"bottom-center",duration:4e3};return new Promise((function(r,i){H.dispatch({type:"SERVICE_START"});var l=we.gatewayRepoFile+"/static-file-manager/insert",o=new XMLHttpRequest;o.open("POST",l,!0),o.addEventListener("load",(function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText);r(e),H.dispatch({type:"SERVICE_END"})}else r({type:"error",message:"Something went wrong"});H.dispatch({type:"SERVICE_END"})}));var c=a||new Blob([e],{type:t});o.send(c),o.onerror=function(e){r({type:"error",message:"Something went wrong"}),n.message="net::ERR_CONNECTION_TIMED_OUT",n.severity="error",H.dispatch(ve(n)),H.dispatch({type:"SERVICE_END"})},o.ontimeout=function(e){r({type:"error",message:"Something went wrong"}),n.message="net::ERR_CONNECTION_TIMED_OUT",n.severity="error",H.dispatch(ve(n)),H.dispatch({type:"SERVICE_END"})}}))},Ve=[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],Ke=a(195),Ye=a.n(Ke),Qe=a(194),Je=a.n(Qe),Xe=we.gatewayRepoFile,$e=[{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:Xe+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:Xe+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Je.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Order Summary",url:"KSummary",children:[{label:"All Order",url:"KOrderSummaryAll",children:[]},{label:"Redeemed Order",url:"KOrderSummaryRedeem",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",children:[{label:"Configuration",url:"GenericConfiguration",children:[]},{label:"Catalog Product",url:"CatalogProduct",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:Xe+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],Ze=function(e,t,a){var n=[];return[].concat($e).forEach((function(e){if(e.aud===t){var r=e.loggedMenu;if("voltras-health"===t)if("member"===a){var i=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e.label="Clinic",e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=i.filter((function(e){return"Order List"!==e.label&&"Order Report"!==e.label&&"Generic Configuration"!==e.label}))}else if("clinic.operator"===a)n=r.filter((function(e){return"Order Report"!==e.label&&"Order Summary"!==e.label&&"Clinic Management"!==e.label&&"Clinic"!==e.label&&"Generic Configuration"!==e.label}));else if("clinic.admin"===a){var l=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"===e.label}))})),e}));n=l.filter((function(e){return"Order Report"!==e.label&&"Generic Configuration"!==e.label}))}else if("biofarma.admin"===a){var o=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=o.filter((function(e){return"Order List"!==e.label&&"Generic Configuration"!==e.label}))}else{var c=r.map((function(e){return"Clinic Management"!==e.label&&"Clinic"!==e.label||(e=Object(p.a)(Object(p.a)({},e),{},{children:e.children.filter((function(e){return"Clinic Setting"!==e.label}))})),e}));n=c}else n=r}})),n},et=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.setGenericConfigList,r=a.setConfigDetailModal,i=a.setConfigDetail,l=a._setGeneralProductCatalog;window.location.origin;if(this.props.service.status!==e.service.status){var o=e.service,c=o.request,s=o.method,m=o.params,d=o.serviceCode,u=o.status,f=o.customHeaders,E=o.role,g=(o.file,{open:!0,severity:"success",message:"Successful",action:!1,actionLabel:""});d&&"active"===u&&We(c,s,d,m,f,E,0,(function(e){var a=t.props.userInfo.phone?t.props.userInfo.phone:"",o={email:t.props.userInfo.email,phone:t.props.userInfo.phone,name:t.props.userInfo.name?t.props.userInfo.name:""};a&&(o.phone=a);var c={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:o},s={request:{},method:"GET",serviceCode:"SELECT_ALL_USER",customHeaders:o},m={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",customHeaders:o},u={request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:o},f=e.body;if(t.props._setResponse(e),f.error)"logout"===d&&t.props.history.push("/Login");else switch(d){case"login":if(f.otpID)t.props._setUserOtpId(f.otpID);else{localStorage.setItem("accessToken",f.accessToken),localStorage.setItem("key",f.key),localStorage.setItem("idToken",f.idToken);var E=K()(f.idToken),h=E.role,b=[];b=h.length>1&&h.includes("member")?h.filter((function(e){return"member"!==e})):h,E.role=b,t.props._setUserInfo(E),t.props._setUserSessionInfo(f);var y=E.aud;localStorage.setItem("aud",y);var v=b;if(v.length>1)t.props._setPopChooseRole(!0);else{localStorage.setItem("roleUsed",v[0]);var _=Ze(0,y,v[0]),C={};_.length>0&&_.map((function(e){return C=Object(p.a)(Object(p.a)({},C),{},Object(O.a)({},e.url,!1))})),t.props._setMenuCollapseStatus(C),t.props._setRoleUsed(v[0]),t.props._setUserMenu(_),t.props.history.push("/Home")}}break;case"OTP":if(f.otpID)t.props._setUserOtpId(f.otpID);else{localStorage.setItem("accessToken",f.accessToken),localStorage.setItem("key",f.key),localStorage.setItem("idToken",f.idToken);var j=K()(f.idToken),S=j.role,I=[];I=S.length>1&&S.includes("member")?S.filter((function(e){return"member"!==e})):S,j.role=I,t.props._setUserInfo(j),t.props._setUserSessionInfo(f);var T=j.aud;localStorage.setItem("aud",T);var R=I;if(R.length>1)t.props._setPopChooseRole(!0);else{localStorage.setItem("roleUsed",R[0]);var k=Ze(0,T,R[0]),w={};k.length>0&&k.map((function(e){return w=Object(p.a)(Object(p.a)({},w),{},Object(O.a)({},e.url,!1))})),t.props._setMenuCollapseStatus(w),t.props._setRoleUsed(R[0]),t.props._setUserMenu(k),t.props.history.push("/Home")}}break;case"logout":t.props._setUserMenu(Ve),localStorage.clear(),t.props.history.push("/Login"),t.props._logout();break;case"register":g.message=Be("app_regis_sucess_msg"),t.props._setSnackbar(g),t.props.history.push("/Login");break;case"UPDATE_USER_INFO":localStorage.setItem("idToken",f.idToken);var L=K()(f.idToken);t.props._setUserInfo(L),g.message=Be("app_success_update_account"),t.props._setSnackbar(g);break;case"RESET_PASSWORD_REQUEST":g.message="Send email successful",g.severity="info",t.props._setSnackbar(g);break;case"CHANGE_PASSWORD_REQUEST":g.message="Change password successful, proceed to sign in",g.severity="info",t.props._setSnackbar(g),t.props._setResetPasswordCode(null);break;case"SEND_EMAIL_VERIFICATION":g.message=Be("app_email_success_msg"),g.severity="info",g.position="bottom-center",g.action=!1,t.props._setSnackbar(g);break;case"SEND_PHONE_VERIFICATION":t.props._setSystemOtpId(f.otpID);break;case"VERIFICATION_CHECK":g.message=Be("app_verification_succes"),g.severity="success",g.position="bottom-center",g.action=!1,t.props._setSnackbar(g);break;case"REQ_AUTH_GOOGLE_PARAMS":t.props._setGoogleParams(f);break;case"HEALTH_ORDER_DETAIL":Array.isArray(f)&&f.length>0?(t.props._setPaxDetail(f),t.props.history.push("/PaxDetail")):(g.message="Order not found",g.severity="error",t.props._setSnackbar(g));break;case"healthOrder":Array.isArray(f)&&f.length>0?(f.sort((function(e,t){var a=e.id;return t.id-a})),t.props._setPaxList(f)):(t.props._setPaxList([]),g.message="Order not found",g.severity="error",t.props._setSnackbar(g));break;case"PURCHASE_VOUCHER_NUMBER":Array.isArray(f)&&f.length>0?(t.props._setPaxDetail(f),t.props.history.push("/PaxDetail")):(t.props._setPaxList([]),g.message="Order not found",g.severity="error",t.props._setSnackbar(g));break;case"GET_ALL_ORDER":t.props._setClinicRecapt(f);break;case"RESCHEDULE_ORDER":g.message="Reschedule order successful",t.props._setSnackbar(g),t.props.history.push("/PaxList");break;case"healthProduct":t.props._setPaxProduct(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"healthKlinik":t.props._setKlinikList(f);break;case"SELECT_USER_FULL_INFO":t.props._setUserInfo(f);break;case"SELECT_USER_DETAIL_FULL_INFO":t.props._setUserDetail(f),t.props._setUserList([f]);break;case"SELECT_ALL_USER":t.props._setUserList(f.items);break;case"CREATE_BO_USER":g.message="Create User Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(s),t.props.history.push("/VUserList");break;case"UPDATE_USER_ROLE":g.message="Update User Role Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(s),t.props._setUserFilteredList(f.items);break;case"DELETE_USER":g.message="Delete User Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(s);break;case"UPDATE_BASIC_USER":g.message="Update Basic Info User Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(s);break;case"UPDATE_TEMPLATE_MESSAGE":g.message="Update Client Detail Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(c);break;case"SELECT_ALL_MESSAGE":var x=f.items;Array.isArray(x)&&x.length>0?(x.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setClientMessagingList(x)):t.props._setClientMessagingList([]);break;case"SELECT_ALL_CLIENT":var A=f.items;Array.isArray(A)&&A.length>0?(A.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setClientList(A)):t.props._setClientList([]);break;case"SELECT_ALL_REQUEST":var P=f.items;Array.isArray(P)&&P.length>0?(P.sort((function(e,t){var a=e.creationDate;return t.creationDate-a})),t.props._setRequestList(P)):t.props._setRequestList([]),t.props._setCompleteRequest(c);break;case"CREATE_CLIENT":g.message="Create Client Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(c),t.props.history.push("/VClientList");break;case"ADD_CLIENT_ROLE":g.message="Add Client Role Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(c);break;case"UPDATE_CLIENT_DETAIL":g.message="Update Client Detail Successful";var M=t.props.clientList.messagingEdit;if(M.updateMessageTemplate){var D=M.messagingTemplateId,U="/clients/".concat(M.clientId,"/messaging-templates/").concat(D),N=Object(p.a)({},M);delete N.updateMessageTemplate;var F={request:N,method:"PATCH",serviceCode:"UPDATE_TEMPLATE_MESSAGE",urlParams:U};t.props._setCompleteRequest(F);break}t.props._setSnackbar(g),t.props._setCompleteRequest(c);break;case"DELETE_CLIENT_ROLE":g.message="Delete Client Role Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(c);break;case"DELETE_CLIENT":g.message="Delete Client Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(c);break;case"ADD_REQUEST_SPESIFICATIONS":g.message="Add Request Spesifiactions Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(Object(p.a)(Object(p.a)({},c),{},{serviceCode:"SELECT_ALL_REQUEST"}));break;case"UPDATE_REQUEST_SPESIFICATIONS":g.message="Update Request Spesifiactions Successful",t.props._setSnackbar(g),t.props._setCompleteRequest(Object(p.a)(Object(p.a)({},c),{},{serviceCode:"SELECT_ALL_REQUEST"}));break;case"GET_CITY_LIST":var H=[];Array.isArray(f)&&f.length>0&&(f.forEach((function(e){e.name?H.push(e):H.push({city:e})})),t.props._setCityList(H));break;case"GET_CITY_CLINIC_LIST":var q=[];Array.isArray(f)&&(f.length>0?(f.forEach((function(e){e.name?q.push(e):q.push({city:e})})),t.props._setKlinikList(q)):t.props._setKlinikList(q));break;case"CLINIC_REGISTRATION":g.message=Be("clinic_regis_sucess"),t.props._setSnackbar(g),t.props._setCompleteRequest(u),"member"!==t.props.userInfo.roleUsed?t.props.history.push("/KClinicList"):t.props.history.push("/Home");break;case"SEND_CLINIC_ACTIVATION":g.message=Be("clinic_activation_success"),t.props._setSnackbar(g),t.props._setCompleteRequest(u);break;case"ADD_CLINIC_USER":g.message=Be("clinic_add_user_success"),t.props._setSnackbar(g),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"DELETE_CLINIC_USER":g.message=Be("clinic_delete_user_success"),t.props._setSnackbar(g),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"DELETE_CLINIC":g.message=Be("clinic_delete_sucess"),t.props._setSnackbar(g),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_CLINIC_USER":t.props._setClinicUser(f),t.props.service.secondRequest||t.props.history.push("/KSetting"),t.props._clearSecondRequest();break;case"GET_MY_CLINIC":f[0]&&(m.urlParams="/".concat(f[0].clinic_id),t.props._setCompleteRequest(m),t.props._setMyClinic(f[0]));break;case"GET_CLINIC_REPORT":t.props._setClinicRecapt(f);break;case"RECAPT_CLINIC_SUMMARY":case"RECAPT_BIOFARMA_SUMMARY":t.props.setClinicRecaptLogistic(f);break;case"ADD_CLINIC_LOGO":g.message=Be("clinic_change_logo_success"),t.props._setSnackbar(g);break;case"EDIT_CLINIC_SETTING":g.message="Edit clinic setting success.",t.props._setSnackbar(g),t.props._setClinicUser(f);break;case"GENERIC_JSON_CONFIGURATION":n(f);break;case"GENERIC_JSON_CONFIGURATION_DETAIL":i(f),r(!0);break;case"GENERIC_JSON_CONFIGURATION_UPDATE":r(!1),g.message="Update Configuration Success",g.severity="success",g.position="bottom-center",g.action=!1,t.props._setSnackbar(g),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GENERAL_PRODUCT_CATALOG":l(f);break;case"GENERAL_PRODUCT_CATALOG_CREATE":r(!1),g.message="Create product catalog is success",g.severity="success",g.position="bottom-center",g.action=!1,t.props._setSnackbar(g),t.props._setCompleteRequest({request:{},method:"GET",serviceCode:"GENERAL_PRODUCT_CATALOG",customHeaders:{clientId:"voltras-health"}});break;case"GENERAL_PRODUCT_CATALOG_UPDATE":r(!1),g.message="Update Product catalog success",g.severity="success",g.position="bottom-center",g.action=!1,t.props._setSnackbar(g),t.props._setCompleteRequest({request:{},method:"GET",serviceCode:"GENERAL_PRODUCT_CATALOG",customHeaders:{clientId:"voltras-health"}});break;case"GET_CLINIC_PARENTS":t.props._setClinicParent(f),t.props.service.secondRequest&&t.props._setCompleteRequest(t.props.service.secondRequest),t.props._clearSecondRequest();break;case"GET_PARENT_LIST":t.props._setParentList(f)}}))}}},{key:"render",value:function(){return r.a.createElement("div",null," ")}}]),a}(n.Component),tt=Object(o.b)((function(e){return{service:e.service,userInfo:e.userInfo.info,clientList:e.clientList}}),(function(e){return{_logout:function(){e({type:"LOGOUT"}),e(se(Ve))},_setGoogleParams:function(t){return e(function(e){return{type:"SET_GOOGLE_PARAMS",val:e}}(t))},_setResetPasswordCode:function(t){return e(oe(t))},_setClinicRecapt:function(t){return e(ge(t))},_setPopChooseRole:function(t){return e(je(t))},_setResponse:function(t){return e(ae(t))},_setUserMenu:function(t){return e(se(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_setPaxList:function(t){return e(de(t))},_setPaxDetail:function(t){return e(ue(t))},_setPaxProduct:function(t){return e(pe(t))},_setKlinikList:function(t){return e(fe(t))},_setUserSessionInfo:function(t){return e(re(t))},_setUserInfo:function(t){return e(ne(t))},_setUserOtpId:function(t){return e(ie(t))},_setUserList:function(t){return e(function(e){return{type:"SET_USER_LIST",val:e}}(t))},_setUserDetail:function(t){return e(function(e){return{type:"SET_USER_DETAIL",val:e}}(t))},_setClientList:function(t){return e(function(e){return{type:"SET_CLIENT_LIST",val:e}}(t))},_setSnackbar:function(t){return e(ve(t))},_setDialog:function(t){return e(_e(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setCityList:function(t){return e(he(t))},_setClinicUser:function(t){return e(function(e){return{type:"SET_CLINIC_USER",val:e}}(t))},_setRoleUsed:function(t){return e(le(t))},_clearSecondRequest:function(){return e({type:"CLEAR_SECOND_REQUEST"})},_clearThirdRequest:function(){return e({type:"CLEAR_THIRD_REQUEST"})},_setClinikDetail:function(t){return e(Ee(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setSystemOtpId:function(t){return e(function(e){return{type:"SET_SYSTEM_OTP_ID",val:e}}(t))},_setMyClinic:function(t){return e(function(e){return{type:"SET_MY_CLINIC",val:e}}(t))},setGenericConfigList:function(t){return e(function(e){return{type:"SET_GENERIC_CONFIG_LIST",data:e}}(t))},setConfigDetail:function(t){return e({type:"SET_CONFIG_DETAIL",data:t})},setConfigDetailModal:function(t){return e(Te(t))},_setGeneralProductCatalog:function(t){return e(function(e){return{type:"SET_GENERAL_PRODUCT_CATALOG",val:e}}(t))},_setClinicParent:function(t){return e(function(e){return{type:"SET_CLINIC_PARENTS",val:e}}(t))},_setRequestList:function(t){return e(function(e){return{type:"SET_REQUEST_LIST",val:e}}(t))},_setClientMessagingList:function(t){return e(function(e){return{type:"SET_CLIENT_MESSAGE_LIST",val:e}}(t))},_setParentList:function(t){return e(be(t))},setClinicRecaptLogistic:function(t){return e(ye(t))}}}))(et),at=a(754),nt=a(777),rt=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.state={open:!1,message:"",autoHideDuration:2e3},n}return Object(z.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(at.a,{open:this.state.open,autoHideDuration:this.state.autoHideDuration,onClose:this.handleClose},r.a.createElement(nt.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:"error"},this.state.message)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=!!e.response.response&&(!!e.response.response.body&&e.response.response.body.error),n=e.response.response&&e.response.response.body?e.response.response.body.errorDescription:"";return a?"error.auth.securityValidation.invalidAccessToken"===a?(localStorage.clear(),setTimeout((function(){e.history.push("/Login")}),2e3),Object(p.a)(Object(p.a)({},t),{},{open:!0,message:n})):"error.auth.securityValidation.emailNotVerified"===a||"error.auth.securityValidation.phoneNotVerified"===a?Object(p.a)(Object(p.a)({},t),{},{open:!1}):Object(p.a)(Object(p.a)({},t),{},{open:!0,message:n}):null}}]),a}(n.Component),it=Object(o.b)((function(e){return{response:e.response}}))(rt),lt=a(8),ot=a(3),ct=a(6),st=a(156),mt=a(781),dt=a(505),ut=a(114),pt=a(767),ft=a(363),Et=a(770),gt=a(742),ht=a(74),bt=a(771),yt=a(233),vt=a(521),_t=a.n(vt),Ot=a(743),Ct=a(481),jt=a(483),St=a(755),It=a(169),Tt=a.n(It),Rt=a(735),kt=a(738),wt=a(737),Lt=a(761),xt=a(760),At=a(171),Pt=a(756),Mt=a(757),Dt=a(288),Ut=a(359),Nt=a(360),Ft=a(358),Ht=a(758),qt=a(504),zt=function(e){var t=Object.assign({},e),a=t._setCompleteRequest,i=t._setSecondRequest,l=t.history,o=t.userInfo,c=t._setVerificationCode,s=t.clinic,m=Object(n.useState)({voucherId:"",voucherIdErrorMessage:"",submitErrorMessage:"",disabled:!0}),d=Object(lt.a)(m,2),u=d[0],f=d[1];Object(n.useEffect)((function(){window.scrollTo(0,0);var e=window.screen;!navigator.xr&&window.innerWidth<=800&&window.innerHeight<=600&&e.orientation&&e.orientation.lock&&e.orientation.lock("landscape");var t=o.info.name?o.info.name:"",n=o.info.email?o.info.email:"",r=o.info.phone?o.info.phone:"",l={email:n,name:t};r&&(l.phone=r);var c=o.roleUsed;(f((function(e){return Object(p.a)(Object(p.a)({},e),{},{disabled:"biofarma.admin"===c})})),"clinic.admin"===c)&&(a({request:{},method:"GET",serviceCode:"GET_MY_CLINIC",customHeaders:l}),i(!0))}),[o,a,i]),Object(n.useEffect)((function(){var e=o.info.name?o.info.name:"",t=o.info.email?o.info.email:"",n=o.info.phone?o.info.phone:"",r=o.verificationCode?o.verificationCode:"",i={email:t,name:e};n&&(i=n),r&&(a({request:{redirectURI:"http://www.alamanak.co.id",verificationCode:r},method:"POST",serviceCode:"VERIFICATION_CHECK",params:"/email",customHeaders:i}),c(null))}),[o,a,c]);var E;return r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(qt.a,{xsDown:!0},r.a.createElement(St.a,{item:!0,sm:u.disabled?12:7},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",style:{marginTop:40}},r.a.createElement(St.a,{item:!0,sm:2}," "),r.a.createElement(St.a,{item:!0,sm:5,style:{marginTop:40}},r.a.createElement(St.a,null,"  ",r.a.createElement(ht.a,{variant:"h6",color:"primary"},s?s.name:"Clinic Backoffice"),"  "),r.a.createElement(St.a,null,"  ",r.a.createElement(ht.a,{variant:"h5"},Be("app_welcome"))," "),r.a.createElement(St.a,null,"  ",r.a.createElement(ht.a,{variant:"subtitle2"},o.roleUsed?o.roleUsed:"")," "))))),r.a.createElement(St.a,{item:!0,xs:12,sm:5},u.disabled?null:r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:15}},r.a.createElement(Pt.a,{variant:"elevation"},r.a.createElement("center",null,r.a.createElement(Mt.a,null,r.a.createElement(ht.a,{variant:"h6"},r.a.createElement("b",null,"Order Details")," "),r.a.createElement(ht.a,{variant:"caption",style:{marginBottom:15}},"Search by "),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(Ft.a,{disabled:u.disabled,fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!u.voucherIdErrorMessage,htmlFor:"standard-voucherId"},"Order ID"),r.a.createElement(Dt.a,{autoFocus:!0,error:!!u.voucherIdErrorMessage,id:"standard-adornment-voucherId",type:"text",value:u.voucherId,onChange:(E="voucherId",function(e){var t,a;"voucherId"===E&&(0===e.target.value.length?f(Object(p.a)(Object(p.a)({},u),{},(t={},Object(O.a)(t,E,e.target.value),Object(O.a)(t,"isError",!0),Object(O.a)(t,"voucherIdErrorMessage","OrderId must be filled"),t))):f(Object(p.a)(Object(p.a)({},u),{},(a={},Object(O.a)(a,E,e.target.value),Object(O.a)(a,"isError",!1),Object(O.a)(a,"voucherIdErrorMessage",""),Object(O.a)(a,"submitErrorMessage",""),a))))}),onKeyPress:function(e){if(13===e.which&&"Enter"===e.key){var t=u.voucherId,n=o.info.name?o.info.name:"",r=o.info.email?o.info.email:"",i=o.info.phone?o.info.phone:"",l={email:r,name:n};if(i&&(l.phone=i),t){var c={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(t.toString()),customHeaders:l};a(c)}else f(Object(p.a)(Object(p.a)({},u),{},{isError:!0,voucherIdErrorMessage:"OrderId must be filled"}))}}}),u.voucherIdErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},u.voucherIdErrorMessage):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(At.a,{disabled:u.disabled,fullWidth:!0,style:{marginBottom:15},onClick:function(e){e.preventDefault();var t=u.voucherId,n=o.info.name?o.info.name:"",r=o.info.email?o.info.email:"",i=o.info.phone?o.info.phone:"",l={email:r,name:n};if(i&&(l.phone=i),t){var c={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(t.toString()),customHeaders:l};a(c)}else f(Object(p.a)(Object(p.a)({},u),{},{isError:!0,voucherIdErrorMessage:"OrderId must be filled"}))},variant:"contained",color:"primary"},"Search"),u.submitErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},u.submitErrorMessage):null,r.a.createElement(ht.a,{variant:"caption"},"or"),r.a.createElement("div",null,r.a.createElement(Ht.a,{disabled:u.disabled,style:{marginTop:15},onClick:function(){return l.push("/QrScreen")},component:"button",variant:"body2"},"Use QR Code")))))))),r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-350}})))},Bt=a(93),Wt=a(510),Gt=a.n(Wt),Vt=Object(Bt.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Kt=function(e){var t=Object.assign({},e),a=Vt(),i=Object(n.useState)({userEmail:"",roleUsed:""}),l=Object(lt.a)(i,2),o=l[0],c=l[1];return Object(n.useEffect)((function(){c((function(e){return Object(p.a)(Object(p.a)({},e),{},{userEmail:t.userInfo.info.email,roleUsed:t.userInfo.roleUsed})}))}),[t.userInfo.info,t.userInfo.roleUsed]),r.a.createElement("div",{style:{backgroundImage:"url(".concat(Gt.a,")"),backgroundRepeat:"no-repeat",backgroundPositionX:"center",height:525,width:600}},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(st.a,{className:a.paper,elevation:0},r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,xs:12},r.a.createElement(ht.a,{variant:"subtitle2"},o.roleUsed)),r.a.createElement(St.a,{item:!0,xs:12})))))},Yt=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).state={voucherId:"",voucherIdErrorMessage:"",isError:!0,submitErrorMessage:"",isQrShow:!1,result:"no result",aud:""},n}return Object(z.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){window.location.origin;var e=this.props,t=e._setUserMenu,a=e._setMenuCollapseStatus,n=e._setAppConstant,r=e._setUserInfo,i=e._setOpenScreen,l=e._setUserSessionInfo,o=e._setRoleUsed,c=e.history,s=localStorage.getItem("accessToken"),m=localStorage.getItem("idToken"),d=localStorage.getItem("key"),u=localStorage.getItem("aud"),f=localStorage.getItem("roleUsed");if(s&&m&&d&&u&&f){this.setState(Object(p.a)(Object(p.a)({},this.state),{},{aud:u}));var E=$e.filter((function(e){return e.aud===u})),g=Ze(0,u,f),h={};g.length>0&&g.map((function(e){return h=Object(p.a)(Object(p.a)({},h),{},Object(O.a)({},e.url,!1))})),document.title=E[0].title,n(E[0]),a(h),t(g),l({accessToken:s,key:d}),r(K()(m)),o(f),i("Home")}else c.push("/Login")}},{key:"render",value:function(){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},this.state.aud?"voltras-health"===this.state.aud?r.a.createElement(zt,this.props):r.a.createElement(Kt,this.props):null)}}]),a}(n.Component),Qt=Object(o.b)((function(e){return{clinic:e.paxList.clinicUser,paxList:e.paxList.list,detail:e.paxList.detail,userInfo:e.userInfo,system:e.system,menu:e.menu.menuItems}}),(function(e){return{_setUserSessionInfo:function(t){return e(re(t))},_setUserInfo:function(t){return e(ne(t))},_setUserMenu:function(t){return e(se(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_setOpenScreen:function(t){return e(Oe(t))},_setPaxList:function(t){return e(de(t))},_setPaxDetail:function(t){return e(ue(t))},_setRoleUsed:function(t){return e(le(t))},_setAppConstant:function(t){return e(Ce(t))},_setVerificationCode:function(t){return e(ce(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setSecondRequest:function(t){return e(te(t))}}}))(Yt),Jt=a(465),Xt=a(734),$t=Object(n.forwardRef)((function(e,t){return r.a.createElement(Xt.a,Object.assign({direction:"up",ref:t},e))}));function Zt(e){var t=Object.assign({},e),a=function(){t.handleDialogClose()};return r.a.createElement("div",null,r.a.createElement(Rt.a,{open:t.open,TransitionComponent:$t,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(xt.a,{id:"alert-dialog-slide-title"},t.dialogTitle),r.a.createElement(wt.a,null,r.a.createElement(Lt.a,{id:"alert-dialog-slide-description"},t.dialogContent)),r.a.createElement(kt.a,null,r.a.createElement(At.a,{onClick:a,color:"secondary"},t.cancelTitle),r.a.createElement(At.a,{onClick:function(){t.handleDialogSubmit(),setTimeout((function(){t.handleDialogClose()}),50)},color:"primary",style:{fontWeight:"bold"}},t.submitTitle))))}var ea=a(290),ta=a(361),aa=a(119),na=a.n(aa),ra=a(120),ia=a.n(ra),la=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,oa=/^(^\+62\s?|^0)(\d{3,4}-?){2}\d{3,4}$/,ca=/^([\.A-Za-z0-9_-]+)$/,sa=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*[\:\.][a-z0-9]{2,5}(:[0-9]{1,5})?(\/.*)?$/,ma=/^[0-9]*$/,da=/^[a-zA-Z ]*$/,ua=/^\S([a-zA-Z ])*$/,pa=/^(\/)?[a-zA-Z]+(\/.*)?$/,fa={error:!1,errorMessage:""},Ea=function(e,t){switch(e){case"otp":return ma.test(t)?0===t.length?(fa.error=!0,fa.errorMessage=Be("err_otp_empty")):(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_otp_must_number")),fa;case"phone":return oa.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_phone_format")),fa;case"name":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_name_empty")):(fa.error=!1,fa.errorMessage=""),fa;case"clinicName":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_clinic_name_empty")):(fa.error=!1,fa.errorMessage=""),fa;case"address":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_address_empty")):(fa.error=!1,fa.errorMessage=""),fa;case"email":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_email_empty")):la.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_email_format")),fa;case"password":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_password_empty")):t.length<8?(fa.error=!0,fa.errorMessage=Be("err_not_six_char")):(fa.error=!1,fa.errorMessage=""),fa;case"confirmPassword":return 0===t.length?(fa.error=!0,fa.errorMessage="confirm password must be filled"):t.length<8?(fa.error=!0,fa.errorMessage=Be("err_not_six_char")):(fa.error=!1,fa.errorMessage=""),fa;case"clientId":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_clientid_empty")):ca.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_clientid_format")),fa;case"clientName":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_clientname_empty")):(fa.error=!1,fa.errorMessage=""),fa;case"roleId":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_roleid_empty")):ca.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_roleid_format")),fa;case"initialRole":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_initialrole_empty")):ca.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_initialrole_format")),fa;case"clientType":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_clienttype_not_choosen")):(fa.error=!1,fa.errorMessage=""),fa;case"profile":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_profile_not_choosen")):(fa.error=!1,fa.errorMessage=""),fa;case"roleDescription":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_description_empty")):(fa.error=!1,fa.errorMessage=""),fa;case"originUris":case"redirectUris":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_uri_empty")):sa.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_uri_format")),fa;case"emailSender":return 0===t.length||la.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_email_format")),fa;case"emailSenderMaskingName":return t.length>100?(fa.error=!0,fa.errorMessage=Be("err_masking_name_100")):da.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_masking_name_format")),fa;case"path":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_path_empty")):pa.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_path_format")),fa;case"urlDestination":case"clientDomain":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_uri_empty")):sa.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_uri_format")),fa;case"product_name":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_product_empty")):ua.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_product_format")),fa;case"price":case"nta":case"ntsa":case"discount_price":case"discount_nta":return 0===t.length?(fa.error=!0,fa.errorMessage=Be("err_product_empty")):ma.test(t)?(fa.error=!1,fa.errorMessage=""):(fa.error=!0,fa.errorMessage=Be("err_product_format")),fa;default:return fa}},ga=a(780),ha=Object(ct.a)((function(e){return{labelRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"},inputRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))((function(e){var t=Object.assign({},e),a=t.options,n=t.optionItem,i=t.onPick,l=t.id,o=t.helperText,c=t.label,s=t.width,m=t.autoFocus,d=t.handleInputChange,u=t.setIndex,f=t.freeSolo,E=t.clearOnBlur,g=t.values,h=t.handleFocus,b=t.small,y=t.classes,v=r.a.useState({}),_=Object(lt.a)(v,2),O=_[0],C=_[1],j=r.a.useState(""),S=Object(lt.a)(j,2),I=S[0],T=S[1],R=function(e,t){var a=u;C(t),i(t,a)},k=function(e,t){var a=u,n=!(!e||"Enter"!==e.key);T(t),d&&d(t,a,n)},w=function(){h&&h()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(ga.a,{size:b?"small":"medium",fullWidth:!0,onFocus:w,clearOnBlur:E,freeSolo:f,autoFocus:m,blurOnSelect:!0,value:g||O,onChange:R,inputValue:I,onInputChange:k,disabled:!1,id:l,style:{width:s||"100%"},options:a,getOptionLabel:function(e){return n&&e[n]?e[n]:""},renderInput:function(e){return r.a.createElement(ea.a,Object.assign({id:l,autoFocus:m,error:!1,helperText:o},e,{label:c,variant:"standard"}))}})),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(ga.a,{size:b?"small":"medium",fullWidth:!0,onFocus:w,clearOnBlur:E,freeSolo:f,autoFocus:m,blurOnSelect:!0,value:g||O,onChange:R,inputValue:I,onInputChange:k,disabled:!1,id:l,style:{width:s||"100%"},classes:{option:y.inputRoot},options:a,getOptionLabel:function(e){return n&&e[n]?e[n]:""},renderInput:function(e){return r.a.createElement(ea.a,Object.assign({id:l,autoFocus:m,error:!1,helperText:o},e,{label:c,variant:"standard",InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}})}))}})))})),ba=function(e){var t=window.location.origin,a=Object(n.useState)({showPassword:!1,showConfirm:!1}),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=function(e){return function(t){var a,n,r,i=t.target.value,c=Ea(e,i);"confirmPassword"===e?l.password!==t.target.value?o(Object(p.a)(Object(p.a)({},l),{},(a={isError:!0},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",Be("err_passconfirm_mismatch")),Object(O.a)(a,"submitErrorMessage",""),a))):o(Object(p.a)(Object(p.a)({},l),{},(n={isError:c.error},Object(O.a)(n,e,t.target.value),Object(O.a)(n,e+"ErrorMessage",c.errorMessage),Object(O.a)(n,"submitErrorMessage",""),n))):o(Object(p.a)(Object(p.a)({},l),{},(r={isError:c.error},Object(O.a)(r,e,t.target.value),Object(O.a)(r,e+"ErrorMessage",c.errorMessage),Object(O.a)(r,"submitErrorMessage",""),r)))}},s=function(e){e.preventDefault()};return r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Pt.a,{elevation:4,style:{margin:20,width:285}},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},"http://health.voltras.net"===t||"https://health.voltras.net"===t||"https://localhost:3030"===t?r.a.createElement("div",null):r.a.createElement(Ft.a,{style:{width:"30ch",marginTop:20}},r.a.createElement(ha,{label:"App to Login",options:[{name:"Klinik App"},{name:"Voltras Back Office"},{name:"Almanak"}],onPick:function(t){return e.handleClient(t)},optionItem:"name"})),r.a.createElement(ht.a,{color:"primary",variant:"h5",style:{marginTop:20,fontWeight:"bold"}},e.formLabel),r.a.createElement(ea.a,{size:"small",onChange:c("password"),id:"standard-pass",label:Be("common_new_password"),type:l.showPassword?"text":"password",helperText:l.passwordErrorMessage?l.passwordErrorMessage:"",error:!!l.passwordErrorMessage,margin:"dense",InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle password visibility",onClick:function(){return o(Object(p.a)(Object(p.a)({},l),{},{showPassword:!l.showPassword}))},onMouseDown:s},l.showPassword?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}}),r.a.createElement(ea.a,{size:"small",onChange:c("confirmPassword"),id:"standard-pass",label:Be("app_password_confirmation"),type:l.showConfirm?"text":"password",helperText:l.confirmPasswordErrorMessage?l.confirmPasswordErrorMessage:"",error:!!l.confirmPasswordErrorMessage,margin:"dense",InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle password visibility",onClick:function(){return o(Object(p.a)(Object(p.a)({},l),{},{showConfirm:!l.showConfirm}))},onMouseDown:s},l.showConfirm?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}}),r.a.createElement("br",null),l.submitErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},l.submitErrorMessage):null,r.a.createElement(At.a,{variant:"contained",color:"primary",style:{textTransform:"none",fontWeight:"bold",width:200,marginBottom:20,marginTop:10},onClick:function(){var t=l.password,a=l.confirmPassword;if(t&&t===a){var n={newPassword:t,confirmNewPassword:a};e.submitChangePassword(n)}else o(Object(p.a)(Object(p.a)({},l),{},{submitErrorMessage:Be("err_submit")}))}},"Send"))))},ya=a(463),va=a(464),_a=a(779),Oa=function(e){var t=e.classes,a=e.onRadioChange,n=e.userInfo,i=e.state,l=e.handleChooseRole;return r.a.createElement(Pt.a,{className:t,elevation:4},r.a.createElement(St.a,{style:{marginTop:30},container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_choose_role")))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},Be("app_choose_role_used"))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Ft.a,{style:{margin:10,marginLeft:25}},r.a.createElement(ya.a,{onChange:a},n.info.role?n.info.role.map((function(e,t){return r.a.createElement(va.a,{value:e,control:r.a.createElement(_a.a,null),label:e,key:t})})):null),i.otpErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},(void 0).state.otpErrorMessage):null)),r.a.createElement(Ft.a,null,r.a.createElement(St.a,null,r.a.createElement(At.a,{onClick:l,disabled:!i.roleChoosen,style:{margin:10,width:120},variant:"contained",color:"primary"},Be("app_choose"))),i.onLoginErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"password-helper-text"},i.onLoginErrorMessage):null)))},Ca=function(e){var t=e.classes,a=e.handleCancelOtp,n=e.handleResendOtp,i=e.state,l=e.handleSubmitOtp,o=e.handleChange;return r.a.createElement(Pt.a,{className:t,style:{width:300},elevation:4},r.a.createElement(St.a,{style:{margin:30},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_submit_otp"))," "),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},Be("app_submit_otp_text")),r.a.createElement(ht.a,{variant:"subtitle2",color:"primary"},i.email),r.a.createElement(Ft.a,{style:{margin:10,width:"12ch",textAlign:"center"}},r.a.createElement(Dt.a,{autoFocus:!0,style:{fontSize:28,textAlign:"center"},error:!!i.otpErrorMessage,id:"standard-adornment-otp",type:"text",onChange:o("otp"),value:i.otp}),i.otpErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},i.otpErrorMessage):null),r.a.createElement(Ft.a,null,r.a.createElement(St.a,null,r.a.createElement(At.a,{onClick:a,variant:"outlined",color:"primary",style:{margin:10}},Be("app_cancel")),r.a.createElement(At.a,{onClick:l,disabled:!i.otp,style:{margin:10},variant:"contained",color:"primary"},Be("app_submit"))),i.onLoginErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"password-helper-text"},i.onLoginErrorMessage):null),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},Be("app_not_receive_otp")),r.a.createElement(At.a,{size:"small",onClick:n,color:"primary",style:{textTransform:"none",fontWeight:"bold",fontSize:12}},Be("app_resend_otp")))))},ja=a(513);var Sa=function(e){var t=e.params,a=t.client_id,n=t.access_type,i=t.prompt,l=t.response_type,o=Object(ja.useGoogleLogin)({onSuccess:function(t){var a={provider:"google",responseType:"token",code:t.code,redirectURI:"http://localhost:3000",nonce:""};t.code&&e.handleGoogleLogin(a)},onFailure:function(e){console.log("Login failed: res:",e)},clientId:a,isSignedIn:!1,accessType:n,responseType:l,redirectUri:"http://localhost:3000",prompt:i}).signIn;return r.a.createElement(At.a,{fullWidth:e.fullWidth,color:"primary",size:"large",onClick:o,style:{width:e.width||240,textTransform:"none",color:"black"},variant:"outlined",startIcon:r.a.createElement("img",{style:{width:24},src:"icons/google.svg",alt:"google login",className:"icon"})},"\xa0  ",e.buttonText," Google")},Ia=function(e){var t=Object.assign({},e);return r.a.createElement(st.a,{elevation:1,style:{width:300}},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(ht.a,{variant:"h6"},"Choose Client")," ")),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},$e.map((function(e,a){return r.a.createElement(St.a,{item:!0,style:{margin:12,width:75},onClick:(n=e.name,function(e){t.handleClient({name:n})}),key:a},r.a.createElement(yt.a,{"aria-label":"delete",color:"primary"},e.icon),r.a.createElement("center",null,r.a.createElement(ht.a,{variant:"subtitle2"},e.name)," "));var n}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{height:100}}," "))},Ta=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ra=function(e){var t=Object.assign({},e),a=window.location.origin,i=t.handleChange,l=t.handleClient,o=t.handleGoogleLogin,c=t.handleEnter,s=t.handleClickShowPassword,m=t.handleMouseDownPassword,d=t.handleSubmit,u=t.handleRegister,p=t.handleForgotOpen,f=t.state,E=t.system,g=t.history,h=Object(n.useState)(""),b=Object(lt.a)(h,2),y=b[0],v=b[1],_=Object(n.useState)(!1),O=Object(lt.a)(_,2),C=O[0],j=O[1];return Object(n.useEffect)((function(){E.appConstant&&v(E.appConstant.aud)}),[E.appConstant]),Object(n.useEffect)((function(){!1===C&&f.clientId&&j(!0)}),[f.clientId,C]),Object(n.useEffect)((function(){"POP"===g.action&&j(!1)}),[g.action]),Object(n.useEffect)((function(){"voltras-health"===y&&j(!0)}),[y]),window.onpopstate=function(e){},r.a.createElement("div",null,C?null:r.a.createElement(Ia,{handleClient:l}),r.a.createElement(Pt.a,{style:{display:C?"flex":"none",flexWrap:"wrap",width:285},elevation:4},r.a.createElement("center",null,r.a.createElement(Mt.a,null,r.a.createElement(ht.a,{color:"primary",variant:"h5"},r.a.createElement("b",null,Be("app_sign_in"))," "),r.a.createElement("div",null,"voltras-health"===f.clientId||"https://health.voltras.net"===a?r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:15,marginTop:20}},r.a.createElement(Sa,{params:E.googleParams,handleGoogleLogin:o,buttonText:Be("common_signin_with")})),r.a.createElement(ht.a,{variant:"subtitle2"},Be("common_or"))):null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Ft.a,{style:{width:"30ch",margin:7}},r.a.createElement(Ut.a,{error:!!f.emailErrorMessage,htmlFor:"standard-adornment-password"},Be("app_email_or_phone")),r.a.createElement(Dt.a,{autoFocus:!0,autoComplete:"on",error:!!f.emailErrorMessage,id:"standard-adornment-email",type:"text",value:f.email,onChange:i("email"),onKeyPress:c}),f.emailErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},f.emailErrorMessage):null)),Ta.test(f.email)?r.a.createElement(Ft.a,{style:{width:"30ch",margin:7}},r.a.createElement(Ut.a,{error:!!f.passwordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password")),r.a.createElement(Dt.a,{error:!!f.passwordErrorMessage,id:"standard-adornment-password",type:f.showPassword?"text":"password",value:f.password,onChange:i("password"),endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle password visibility",onClick:s,onMouseDown:m},f.showPassword?r.a.createElement(na.a,null):r.a.createElement(ia.a,null))),onKeyPress:c}),f.passwordErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"password-helper-text"},f.passwordErrorMessage):null):null),Ta.test(f.email)?r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-start"},r.a.createElement(At.a,{size:"small",color:"primary",style:{textTransform:"none",fontWeight:"bold",marginTop:10},onClick:p},Be("app_forgot_password"))):null,r.a.createElement(Ft.a,null,r.a.createElement(At.a,{size:"large",onClick:d,style:{width:240,textTransform:"none",fontWeight:"bold",marginTop:Ta.test(f.email)?1:25},variant:"contained",color:"primary"},Be("app_sign_in")),f.onLoginErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"password-helper-text"},f.onLoginErrorMessage):null)),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(ht.a,{variant:"caption"},Be("app_no_account")),r.a.createElement(At.a,{onClick:u,color:"primary",style:{textTransform:"none",fontWeight:"bold"}},Be("app_sign_up")))),r.a.createElement("br",null),r.a.createElement("br",null)))},ka=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,wa=/^(^\+62\s?|^0)(\d{3,4}-?){2}\d{3,4}$/,La=we.gatewayRepoFile,xa=[{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:La+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net","https://ajirespati.github.io/"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:La+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:La+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Je.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",url:"GenericConfiguration",children:[]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],Aa=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleResendOtp=function(e){var t=n.state.clientId;n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"",otp:""}));var a={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"},r=n.state.email,i=n.state.password;ka.test(r)?(a.email=r,a.password=i):a.phone=r,localStorage.setItem("email",r),n.props._setUserInfo({email:r});var l={request:a,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:t}};n.props._setCompleteRequest(l)},n.handleSubmitOtp=function(e){if(n.state.otp){var t=n.state.clientId;n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus("");var a={request:{challenge:n.state.otp,otpID:n.props.userInfo.otpId,redirectURI:"http://www.alamanak.co.id"},serviceMethod:"POST",serviceCode:"OTP",customHeaders:{clientId:t}};n.props._setCompleteRequest(a)}},n.handleCancelOtp=function(){n.props._setUserOtpId(""),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))},n.handleSubmit=function(e){var t=window.location.origin;e.preventDefault();var a=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),a){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var r={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"},i=n.state.email,l=n.state.password;ka.test(i)?(r.email=i,r.password=l,localStorage.setItem("email",i),n.props._setUserInfo({email:i})):r.phone="0"===i[0]?"+62"+i.slice(1):i;var o={request:r,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:a}};n.props._setCompleteRequest(o)}}else if("https://health.voltras.net"===t){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var c=n.state.email,s=n.state.password,m={redirectURI:"http://www.alamanak.co.id",provider:"internal",responseType:"token"};ka.test(c)?(m.email=c,m.password=s,localStorage.setItem("email",c),n.props._setUserInfo({email:c})):m.phone="0"===c[0]?"+62"+c.slice(1):c;var d={request:m,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(d)}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.handleChange=function(e){return function(t){var a;if("password"===e&&0===t.target.value.length)n.setState(Object(p.a)(Object(p.a)({},n.state),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,"isError",!0),Object(O.a)(a,"passwordErrorMessage",Be("err_password_empty")),a)));else if("password"===e&&t.target.value.length<8){var r;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(r={},Object(O.a)(r,e,t.target.value),Object(O.a)(r,"isError",!0),Object(O.a)(r,"passwordErrorMessage",Be("err_not_six_char")),r)))}else if("email"===e){var i;if((ka.test(t.target.value)||wa.test(t.target.value))&&t.target.value.length>0)n.setState(Object(p.a)(Object(p.a)({},n.state),{},(i={},Object(O.a)(i,e,t.target.value),Object(O.a)(i,"isError",!1),Object(O.a)(i,"emailErrorMessage",""),i)));else if(0===t.target.value.length){var l;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(l={},Object(O.a)(l,e,t.target.value),Object(O.a)(l,"isError",!0),Object(O.a)(l,"emailErrorMessage",Be("err_email_phone_empty")),l)))}else{var o;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(o={},Object(O.a)(o,e,t.target.value),Object(O.a)(o,"isError",!0),Object(O.a)(o,"emailErrorMessage",Be("err_email_phone_format")),o)))}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},Object(O.a)({emailErrorMessage:"",passwordErrorMessage:"",isError:!1},e,t.target.value)))}},n.handleEnter=function(e){13===e.which&&"Enter"===e.key&&n.handleSubmit(e)},n.handleClickShowPassword=function(e){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{showPassword:!n.state.showPassword}))},n.handleRegister=function(e){e.preventDefault(),n.props.history.push("/Register")},n.handleClient=function(e){if(e){var t=[{label:"Voltras Health",clientId:"voltras-health"},{label:"Voltras Backoffice",clientId:"authentication-backoffice"},{label:"Dummy App",clientId:"cerita nya Almanak"}].filter((function(t){return t.label===e.name}))[0].clientId;n.setState(Object(p.a)(Object(p.a)({},n.state),{},{clientId:t,onLoginErrorMessage:""}))}},n.onRadioChange=function(e){e.preventDefault(),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{roleChoosen:e.target.value}))},n.handleChooseRole=function(){window.location.origin;var e=n.state.roleChoosen,t=n.props.userInfo.info.aud,a=Ze(0,t,e),r={};a.length>0&&a.map((function(e){return r=Object(p.a)(Object(p.a)({},r),{},Object(O.a)({},e.url,!1))})),n.props._setMenuCollapseStatus(r),n.props._setUserMenu(a),n.props._setRoleUsed(e),localStorage.setItem("roleUsed",e),n.props._setPopChooseRole(!1),n.props.history.push("/Home")},n.handleDialogClose=function(){return n.setState(Object(p.a)(Object(p.a)({},n.state),{},{forgotOpen:!1}))},n.handleDialogSubmit=function(){var e=window.location.origin,t=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),t){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var a={request:{redirectURI:"http://www.alamanak.co.id",email:n.state.email},serviceMethod:"POST",serviceCode:"RESET_PASSWORD_REQUEST",customHeaders:{clientId:t}};n.props._setCompleteRequest(a),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))}}else if("https://health.voltras.net"===e){if(!n.state.isError){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:""}));var r={request:{email:n.state.email,redirectURI:"http://www.alamanak.co.id"},serviceMethod:"POST",serviceCode:"RESET_PASSWORD_REQUEST",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(r),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{email:""}))}}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.submitChangePassword=function(e){var t=window.location.origin,a=n.state.clientId;if(n.props._setRequest({}),n.props._setServiceCode(""),n.props._setServiceStatus(""),a){e.redirectURI="http://www.alamanak.co.id",e.resetPasswordCode=n.props.userInfo.resetPasswordCode;var r={request:e,serviceMethod:"POST",serviceCode:"CHANGE_PASSWORD_REQUEST",customHeaders:{clientId:a}};n.props._setCompleteRequest(r)}else if("https://health.voltras.net"===t){e.redirectURI="http://www.alamanak.co.id",e.resetPasswordCode=n.props.userInfo.resetPasswordCode;var i={request:e,serviceMethod:"POST",serviceCode:"CHANGE_PASSWORD_REQUEST",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(i)}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{onLoginErrorMessage:"App to Login must be chosen"}))},n.handleGoogleLogin=function(e){var t={request:e,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(t)},n.handleForgotOpen=function(){return n.setState(Object(p.a)(Object(p.a)({},n.state),{},{forgotOpen:!0}))},n.state={otp:"",otpErrorMessage:"",email:"",emailErrorMessage:"",password:"",passwordErrorMessage:"",showPassword:!1,clientId:"",clientIdErrorMessage:"",onLoginErrorMessage:"",isError:!0,roleChoosen:"",forgotOpen:!1},n}return Object(z.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=window.location.origin;if(this.props._setOpenScreen("Login"),this.props._setUserMenu(Ve),null===this.props.system.appConstant){var t=xa.filter((function(t){return t.domain.includes(e)}));this.props._setAppConstant(t[0]?t[0]:xa[0]),function(e,t){var a=[];"voltras-health"===t?a=e.map((function(e){return"Clinic"===e.label&&(e.label="Clinic Management"),e})):a=e}(t[0]?t[0].loggedMenu:xa[0].loggedMenu,t[0]?t[0].aud:xa[0].aud)}}},{key:"componentDidMount",value:function(){this.props._setOpenScreen("Login");var e=navigator.language;this.props._setLocale(e);var t=this.props.system.appConstant?this.props.system.appConstant.aud:null,a={request:{},serviceMethod:"GET",serviceCode:"REQ_AUTH_GOOGLE_PARAMS",serviceParams:"?redirectURI=http://www.alamanak.co.id",customHeaders:{clientId:t}};t&&this.props._setCompleteRequest(a);var n=this.props.userInfo.verificationCode?this.props.userInfo.verificationCode:"",r={request:{redirectURI:"http://www.alamanak.co.id",verificationCode:n},serviceMethod:"POST",serviceCode:"VERIFICATION_CHECK",serviceParams:"/email"};n&&(this.props._setCompleteRequest(r),this.props._setVerificationCode(null))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.system;return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement(Jt.a,{style:{visibility:a.serviceStart&&"Login"===a.openScreen?"visible":"hidden"},color:"secondary",size:30,thickness:5})),r.a.createElement(Zt,{open:this.state.forgotOpen,handleDialogClose:this.handleDialogClose,dialogTitle:"Change password request",dialogContent:"A confirmation email will be sent to: ".concat(this.state.email),cancelTitle:"Cancel",submitTitle:"Send",handleDialogSubmit:this.handleDialogSubmit}),this.props.userInfo.resetPasswordCode?r.a.createElement(ba,{formLabel:Be("common_change_password"),submitChangePassword:this.submitChangePassword,state:this.state,handleClient:this.handleClient}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(qt.a,{mdDown:!0},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:600}},r.a.createElement("br",null),r.a.createElement("div",{style:{marginTop:100}},r.a.createElement(ht.a,{variant:"subtitle2"},Be("app_welcome")),r.a.createElement(ht.a,{variant:"h4",color:"primary"},a.appConstant?a.appConstant.welcome:"")))),r.a.createElement("div",{style:{alignSelf:"center",justifySelf:"center"}},r.a.createElement("br",null),this.props.system.popChooseRole?r.a.createElement(Oa,{onRadioChange:this.onRadioChange,userInfo:this.props.userInfo,state:this.state,handleChooseRole:this.handleChooseRole,classes:t.root}):this.props.userInfo.otpId?r.a.createElement(Ca,{classes:t.root,state:this.state,handleChange:this.handleChange,handleCancelOtp:this.handleCancelOtp,handleSubmitOtp:this.handleSubmitOtp,handleResendOtp:this.handleResendOtp}):r.a.createElement(Ra,Object.assign({handleChange:this.handleChange,handleClient:this.handleClient,handleGoogleLogin:this.handleGoogleLogin,handleEnter:this.handleEnter,handleClickShowPassword:this.handleClickShowPassword,handleMouseDownPassword:this.handleMouseDownPassword,handleSubmit:this.handleSubmit,handleRegister:this.handleRegister,handleForgotOpen:this.handleForgotOpen,state:this.state,setState:this.setState},this.props)))),r.a.createElement("div",{style:{height:window.screen.height-500}}))}}]),a}(n.Component),Pa=Object(o.b)((function(e){return{system:e.system,userInfo:e.userInfo,menu:e.menu}}),(function(e){return{_setLocale:function(t){return e(Se(t))},_setVerificationCode:function(t){return e(ce(t))},_setServiceMethod:function(t){return e(X(t))},_setRequest:function(t){return e(Y(t))},_setServiceCode:function(t){return e(J(t))},_setServiceStatus:function(t){return e(Q(t))},_setServiceCustomHeaders:function(t){return e(Z(t))},_setOpenScreen:function(t){return e(Oe(t))},_setUserInfo:function(t){return e(ne(t))},_setUserOtpId:function(t){return e(ie(t))},_setAppConstant:function(t){return e(Ce(t))},_setUserMenu:function(t){return e(se(t))},_setRoleUsed:function(t){return e(le(t))},_setMenuCollapseStatus:function(t){return e(me(t))},_dispatchLogout:function(){return e({type:"LOGOUT"})},_setPopChooseRole:function(t){return e(je(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e(Q(t.serviceStatus||"active"))}}}))(Aa),Ma=Object(ct.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",width:285},margin:{margin:e.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"30ch"}}}))(Pa),Da=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.phone,i=t.email,l=t.password,o=t.confirmPassword,c=t.isError;if(a&&i&&l&&o&&!c){var s={name:a,email:i,password:l,redirectURI:"http://www.alamanak.co.id"};r&&(s.phone="0"===r[0]?"+62"+r.slice(1):r),n.props._setRequest(s),n.props._setServiceCode("register"),n.props._setServiceCustomHeaders({clientId:"voltras-health"}),n.props._setServiceStatus("active")}else n.setState(Object(p.a)(Object(p.a)({},n.state),{},{isError:!0,submitErrorMessage:Be("err_submit")}))},n.handleChange=function(e){return function(t){var a,r,i=Ea(e,t.target.value);if("confirmPassword"===e)n.state.password!==t.target.value?n.setState(Object(p.a)(Object(p.a)({},n.state),{},(a={isError:!0},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",Be("password confirmation not match")),a))):n.setState(Object(p.a)(Object(p.a)({},n.state),{},(r={isError:!1},Object(O.a)(r,e,t.target.value),Object(O.a)(r,e+"ErrorMessage",""),Object(O.a)(r,"submitErrorMessage",""),r)));else if("phone"!==e||t.target.value){var l;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(l={},Object(O.a)(l,e,t.target.value),Object(O.a)(l,e+"ErrorMessage",i.errorMessage),Object(O.a)(l,"isError",i.error),Object(O.a)(l,"submitErrorMessage",""),l)))}else{var o;n.setState(Object(p.a)(Object(p.a)({},n.state),{},(o={isError:!1},Object(O.a)(o,e,t.target.value),Object(O.a)(o,e+"ErrorMessage",""),Object(O.a)(o,"submitErrorMessage",""),o)))}}},n.handleGoogleLogin=function(e){var t={request:e,serviceMethod:"POST",serviceCode:"login",customHeaders:{clientId:"voltras-health"}};n.props._setCompleteRequest(t)},n.state={name:null,nameErrorMessage:"",phone:null,phoneErrorMessage:"",email:"",emailErrorMessage:"",password:"",passwordErrorMessage:"",confirmPassword:"",confirmPasswordErrorMessage:"",showPassword:!1,showConfirm:!1,isError:!0,submitErrorMessage:""},n}return Object(z.a)(a,[{key:"handleMouseDownPassword",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Pt.a,{className:t.root,elevation:4},r.a.createElement(Mt.a,{style:{width:320,textAlign:"center"}},r.a.createElement(ht.a,{color:"primary",variant:"h5",style:{marginBottom:15}},r.a.createElement("b",null,Be("app_sign_up"))," "),r.a.createElement(St.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Sa,{params:this.props.system.googleParams,handleGoogleLogin:this.handleGoogleLogin,buttonText:Be("common_signup_with"),width:280}),r.a.createElement(ht.a,{variant:"subtitle2",style:{marginTop:20}},Be("common_or")),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.nameErrorMessage,htmlFor:"standard-adornment-password"},Be("app_name")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Dt.a,{error:!!this.state.nameErrorMessage,id:"standard-adornment-name",type:"text",onChange:this.handleChange("name")}),this.state.nameErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"name-helper-text"},this.state.nameErrorMessage):null),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.emailErrorMessage,htmlFor:"standard-adornment-password"},Be("app_email")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Dt.a,{error:!!this.state.emailErrorMessage,id:"standard-adornment-email",type:"text",onChange:this.handleChange("email")}),this.state.emailErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},this.state.emailErrorMessage):null),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.phoneErrorMessage,htmlFor:"standard-adornment-password"},Be("app_phone")),r.a.createElement(Dt.a,{error:!!this.state.phoneErrorMessage,id:"standard-adornment-phone",type:"text",onChange:this.handleChange("phone")}),this.state.phoneErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"phone-helper-text"},this.state.phoneErrorMessage):r.a.createElement(Nt.a,{id:"phone-helper-text"},Be("app_not_mandatory"))),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.passwordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Dt.a,{error:!!this.state.passwordErrorMessage,id:"standard-adornment-password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handleChange("password"),endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle password visibility",onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showPassword:!e.state.showPassword}))},onMouseDown:this.handleMouseDownPassword},this.state.showPassword?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}),this.state.passwordErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},this.state.passwordErrorMessage):null),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:5}},r.a.createElement(Ut.a,{error:!!this.state.confirmPasswordErrorMessage,htmlFor:"standard-adornment-password"},Be("app_password_confirmation")," ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(Dt.a,{error:!!this.state.confirmPasswordErrorMessage,id:"standard-adornment-confirm",type:this.state.showConfirm?"text":"password",onChange:this.handleChange("confirmPassword"),endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle confirm visibility",onClick:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{showConfirm:!e.state.showConfirm}))},onMouseDown:this.handleMouseDownPassword},this.state.showConfirm?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}),this.state.confirmPasswordErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},this.state.confirmPasswordErrorMessage):null),r.a.createElement(At.a,{fullWidth:!0,onClick:this.handleSubmit,variant:"contained",color:"primary",style:{textTransform:"none",fontWeight:"bold",marginTop:20}},Be("app_sign_up")),this.state.submitErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},this.state.submitErrorMessage):null),r.a.createElement(St.a,null,r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(ht.a,{variant:"caption"},Be("app_have_account")),r.a.createElement(At.a,{onClick:function(){return e.props.history.push("/Login")},color:"primary",style:{textTransform:"none",fontWeight:"bold"}},Be("app_sign_in"))))))))}}]),a}(n.Component),Ua=Object(o.b)((function(e){return{system:e.system}}),(function(e){return{_setRequest:function(t){e(Y(t))},_setServiceRole:function(t){e(ee(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Q(t))},_setOpenScreen:function(t){e(Oe(t))},_setServiceCustomHeaders:function(t){return e(Z(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e(Q(t.serviceStatus||"active"))}}}))(Da),Na=Object(ct.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}}))(Ua),Fa=a(28),Ha=a(39),qa=a(348),za=a(503),Ba=a(73),Wa=a.n(Ba),Ga=a(66),Va=a.n(Ga),Ka=function(e){return parseInt(e).toLocaleString("id",{style:"currency",currency:"IDR",minimumFractionDigits:0})},Ya=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+Number(t.getMonth()+1):Number(t.getMonth()+1))+"-"+(t.getDate()<10?"0"+Number(t.getDate()):Number(t.getDate()))},Qa=function(e,t){return new Date(e).getTime()+24*parseInt(t)*60*60*1e3},Ja=function(e){var t=new Date(e),a=new Date;return t<new Date(a.getTime())},Xa=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1<10?"0"+Number(t.getMonth()+1):Number(t.getMonth()+1);return(t.getDate()<10?"0"+Number(t.getDate()):Number(t.getDate()))+"-"+n+"-"+a},$a=function(e){var t=new Date(e),a=t.getHours(),n=t.getMinutes();return(parseInt(a)<10?"0"+a.toString():a.toString())+":"+(parseInt(n)<10?"0"+n.toString():n.toString())},Za=function(e){var t=new Date,a=new Date(t.getTime()),n=new Date(t.getTime()+6048e5),r=new Date(t.getTime()-6048e5),i=new Date(t.getTime()+316224e5);switch(e){case"now":return Ya(a);case"nextWeek":return Ya(n);case"lastWeek":return Ya(r);case"nextYear":return Ya(i);default:return"params not defined"}};var en=function(e){return new Promise((function(t,a){var n=new FileReader,r=document.createElement("canvas"),i=null,l=new Image,o=null;r.id="hiddenCanvas",r.style.visibility="hidden",document.body.appendChild(r),i=r.getContext("2d"),e.type.match("image.*")?n.readAsDataURL(e):t({message:"File is not an image"}),n.onload=function(){var e=this.result;l.src=e},n.onabort=function(){t({message:"The upload was aborted."})},n.onerror=function(){t({message:"An error occured while reading the file."})},l.onload=function(){if(0===this.width||0===this.height)t({message:"Image is empty."});else{var e=this.width,a=this.height,n=Math.min(250/e,200/a),c=e*n,s=a*n;r.width=c,r.height=s,i.clearRect(0,0,c,s),i.drawImage(l,0,0,this.width,this.height,0,0,c,s),o=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:a})}(r.toDataURL(l)),t({message:null,blobUrl:tn(r.toDataURL(l)),file:o})}},l.onabort=function(){t({message:"The upload was aborted."})},l.onerror=function(){t({message:"An error occured while loading image."})}}))},tn=function(e){for(var t=atob(e.split(",")[1]),a=new ArrayBuffer(t.length),n=new Uint8Array(a),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);var i=e.split(",")[0].split(";")[0].split(":")[1],l=new Blob([a],{type:i});return URL.createObjectURL(l)},an=a(469),nn=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}}))((function(e){var t=e.classes,a=[];a=e.data?e.data:[];var n=e.column?e.column:[];return r.a.createElement("div",{className:t.root},0!==a.length?r.a.createElement(gt.a,{disablePadding:!0},a.map((function(t,a){return r.a.createElement("div",{key:a},e.action?r.a.createElement(Ot.a,null,r.a.createElement(St.a,{container:!0,justify:"space-between"},r.a.createElement(St.a,{item:!0,sm:5,xs:5},n.map((function(e,t){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:t+8},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title))})),e.action?r.a.createElement(St.a,{item:!0,sm:12,xs:12},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},"Actions")):""),r.a.createElement(St.a,{item:!0,sm:e.arrow?5:7,xs:e.arrow?5:7},n.map((function(e,a){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:a+12},r.a.createElement(ht.a,{style:{fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title?t[e.field]?t[e.field]:"-":null))})),e.action?r.a.createElement(St.a,{container:!0,item:!0,sm:12,xs:12},r.a.createElement(yt.a,{style:{padding:0},onClick:function(){return e.onClickUpdate(t)}},r.a.createElement(an.a,{title:e.titleTooltipUpdate?e.titleTooltipUpdate:"Update"},e.IconUpdateCustomize)),r.a.createElement(yt.a,{style:{padding:0,marginLeft:5},onClick:function(){return e.onClickDelete(t)}},r.a.createElement(an.a,{title:e.titleTooltipDelete?e.titleTooltipDelete:"Delete"},e.IconDeleteCustomize))):""),e.arrow?r.a.createElement(St.a,{item:!0,sm:2,xs:2,align:"right"},r.a.createElement(yt.a,{style:{padding:0},onClick:function(){return e.onClickList(t)}},r.a.createElement(an.a,{title:"Detail"},r.a.createElement(Tt.a,{style:{padding:0}})))):null)):r.a.createElement(Ot.a,{button:!!e.button,onClick:e.button?function(){return e.onClickList(t)}:null},r.a.createElement(St.a,{container:!0,justify:"space-between"},r.a.createElement(St.a,{item:!0,sm:5,xs:5},n.map((function(e,t){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:t+8},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title))})),e.action?r.a.createElement(St.a,{item:!0,sm:12,xs:12},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},"Actions")):""),r.a.createElement(St.a,{item:!0,sm:e.arrow?5:7,xs:e.arrow?5:7},n.map((function(e,a){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:a+12},r.a.createElement(ht.a,{style:{fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title?t[e.field]?t[e.field]:"-":null))})),e.action?r.a.createElement(St.a,{container:!0,item:!0,sm:12,xs:12},r.a.createElement(yt.a,{style:{padding:0},onClick:function(){return e.onClickUpdate(t)}},r.a.createElement(an.a,{title:e.titleTooltipUpdate?e.titleTooltipUpdate:"Update"},e.IconUpdateCustomize)),r.a.createElement(yt.a,{style:{padding:0},onClick:function(){return e.onClickDelete(t)}},r.a.createElement(an.a,{title:e.titleTooltipDelete?e.titleTooltipDelete:"Delete"},e.IconDeleteCustomize))):""),e.arrow?r.a.createElement(St.a,{item:!0,sm:2,xs:2,align:"right"},r.a.createElement(Tt.a,{style:{padding:0}})):null)),r.a.createElement(bt.a,null))}))):r.a.createElement(ht.a,{style:{textAlign:"center",paddingTop:30,paddingBottom:30,fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey"}},"No Record"))})),rn=Va.a.ExcelFile,ln=Va.a.ExcelFile.ExcelSheet,on=function(e){var t=Object.assign({},e),a=t.handleSubmitFilter,n=t.handleChange,i=t.handleDateChange,l=t.state,o=t.userInfo;return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:5}},r.a.createElement(St.a,{item:!0,sm:l["Booking Date"]||l["Test Date"]||l["Redeem Date"]?6:3},r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(ht.a,{variant:"subtitle1"},"Filter:"),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Ft.a,{style:{marginLeft:25,marginTop:2}},r.a.createElement(ht.a,{variant:"subtitle2"},"Date:"),["Test Date","Redeem Date"].map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(St.a,{item:!0,style:{width:150,marginRight:15}},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:l[e],onChange:n(e),name:e}),label:e})),r.a.createElement(St.a,{item:!0,style:{display:l[e]?"":"none"}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{style:{width:150,marginRight:15},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from"+e,label:Be("app_from"),value:l[e+"fromdate"],onChange:i(e+"fromdate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(St.a,{item:!0,style:{display:l[e]?"":"none"}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{style:{width:150,marginRight:15},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to"+e,label:Be("app_to"),value:l[e+"todate"],onChange:i(e+"todate"),KeyboardButtonProps:{"aria-label":"change date"}})))))})))))),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(Ft.a,{style:{marginLeft:15,marginTop:30},fullWidth:!0},r.a.createElement(ht.a,{variant:"subtitle2"},"Status:"),r.a.createElement(Ft.a,null,r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:l.Paid,onChange:n("Paid"),name:"Paid"}),label:Be("app_paid")}),r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:l.finish,onChange:n("finish"),name:"finish"}),label:"Redeemed"}),r.a.createElement(va.a,{style:{display:"voltras.admin"===o.roleUsed?"":"none"},control:r.a.createElement(za.a,{size:"small",checked:l.New,onChange:n("New"),name:"New"}),label:"New"})))),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(St.a,{style:{marginTop:40},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0},r.a.createElement(rn,{filename:"OrderReport",element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(ln,{dataSet:l.dataset,name:"Order Report"}))),r.a.createElement(St.a,{item:!0},r.a.createElement("br",null)),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{size:"small",variant:"contained",onClick:a,color:"primary"},Be("app_submit_filter"))))))},cn=Va.a.ExcelFile,sn=Va.a.ExcelFile.ExcelSheet,mn=Za("lastWeek"),dn=Za("nextWeek"),un=new Date,pn=new Date(un.getTime()-6048e5),fn=new Date(un.getTime()+6048e5),En=Object(ct.a)((function(e){return{labelRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"},inputRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",height:15}}}))((function(e){var t=Object.assign({},e),a=[],i=t.paxList,l=t.history,o=t._setPaxList,c=t._setOpenScreen,s=t.userInfo,m=t._setCompleteRequest,d=t.classes,u=Object(n.useState)({order:-1,"Booking Datefromdate":pn,"Booking Datetodate":fn,"Test Datefromdate":pn,"Test Datetodate":fn,"Redeem Datefromdate":pn,"Redeem Datetodate":fn,fromdate:pn,todate:fn,open:!1,name:"","Test Date":!0,"Booking Date":!1,"Redeem Date":!1,Paid:!1,New:!1,finish:!1,unpaid:!1,dataset:[],simpleTable:[],currentList:[],listLengthById:0}),f=Object(lt.a)(u,2),E=f[0],g=f[1],h=[{title:"ID",field:"id",width:5},{title:"Office Code",field:"office"},{title:Be("clinic_test_date"),field:"testdate"},{title:Be("app_name"),field:"name"},{title:Be("clinic_birth_date"),field:"date_of_birth"},{title:"Status",field:"status"},{title:Be("clinic"),field:"klinikname"},{title:Be("clinic_redeem_date"),field:"redeem_on"},{title:Be("clinic_redeem_by"),field:"redeem_by"}];h.forEach((function(e){"date_of_birth"===e.field||"redeem_by"===e.field||"redeem_on"===e.field||"klinikname"===e.field||a.push(e)})),Object(n.useEffect)((function(){var e=i.list;if(localStorage.getItem("accessToken"))if(c(Be("clinic_order_list")),Array.isArray(e)&&e.length>0){var t="voltras.admin"===s.roleUsed?e.filter((function(e){return"CANCELED_BY_TIMELIMIT"!==e.status})):e.filter((function(e){return"UNCONFIRMED"!==e.status&&e.payment})),a=function(e){var t=[];return e&&e.forEach((function(e){return e.items&&e.items.forEach((function(a){var n={id:e.id,office:e.user_info.officeCode?e.user_info.officeCode:"B2C",testdate:a.products[0].testdate,name:a.name,date_of_birth:a.date_of_birth,status:a.status?"FINISH"===a.status.toUpperCase()?"REDEEMED":a.status.toUpperCase():"",klinikname:a.products[0].klinik.name,redeem_on:a.redeem?Ya(a.redeem.redeem_on):"-",redeem_by:a.redeem?a.redeem.redeem_by:"-"};t.push(n)}))})),t}(t),n=function(e,t){var a=[{title:"OrderID",width:{wch:7}},{title:"Office Code",width:{wch:12}},{title:"Test Date",width:{wch:12}},{title:"Name",width:{wch:20}},{title:"Birth Date",width:{wch:12}},{title:"Status",width:{wch:12}},{title:"Clinic",width:{wch:40}},{title:"Redeem Date",width:{wch:12}},{title:"Redeem By",width:{wch:12}}],n=[];return e.forEach((function(e){var a=[];a.push({value:e.id}),"voltras.admin"===t&&a.push({value:e.office}),a.push({value:e.testdate}),a.push({value:e.name}),a.push({value:e.date_of_birth}),a.push({value:e.status}),a.push({value:e.klinikname}),a.push({value:e.redeem_on}),a.push({value:e.redeem_by}),n.push(a)})),[{ySteps:1,columns:"voltras.admin"!==t?a.filter((function(e){return"Office Code"!==e.title})):a,data:n}]}(a,s.roleUsed);g((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:a,dataset:n,listLengthById:t.length})}))}else g((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:[],dataset:[],listLengthById:0})}));else l.push("/")}),[i.list,l,c,s.roleUsed]),Object(n.useEffect)((function(){var e=s,t=e.info.name,a=e.info.email,n=e.info.phone,r={name:t,email:a};n&&(r.phone=n);var i={request:{},method:"GET",serviceCode:"healthOrder",params:"/list?&testdate_from=".concat(mn,"&testdate_to=").concat(dn),customHeaders:r};m(i)}),[o,m,s]);var b=function(e){var t=s,a=t.info.name,n=t.info.email,r=t.info.phone,i={name:a,email:n};r&&(i.phone=r);var l=e.id,o={request:{},method:"GET",serviceCode:"HEALTH_ORDER_DETAIL",params:"/".concat(l),customHeaders:i};m(o)},y=function(e){return function(t){g(Object(p.a)(Object(p.a)({},E),{},Object(O.a)({},e,t)))}},v=function(e){return function(t){var a;if("Paid"===e)g(Object(p.a)(Object(p.a)({},E),{},(a={},Object(O.a)(a,e,!E[e]),Object(O.a)(a,"New",!1),Object(O.a)(a,"finish",!1),a)));else if("New"===e){var n;g(Object(p.a)(Object(p.a)({},E),{},(n={},Object(O.a)(n,e,!E[e]),Object(O.a)(n,"Paid",!1),Object(O.a)(n,"finish",!1),n)))}else if("finish"===e){var r;g(Object(p.a)(Object(p.a)({},E),{},(r={},Object(O.a)(r,e,!E[e]),Object(O.a)(r,"New",!1),Object(O.a)(r,"Paid",!1),r)))}else g("Booking Date"===e||"Test Date"===e||"Redeem Date"===e?Object(p.a)(Object(p.a)({},E),{},Object(O.a)({},e,!E[e])):Object(p.a)(Object(p.a)({},E),{},Object(O.a)({},e,t.target.value)))}},_=function(){var e=t.userInfo,a=e.info.name?e.info.name:"",n=e.info.email?e.info.email:"",r=e.info.phone?e.info.phone:"",i=Ya(E["Booking Datefromdate"]),l=Ya(E["Booking Datetodate"]),o=Ya(E["Test Datefromdate"]),c=Ya(E["Test Datetodate"]),s=Ya(E["Redeem Datefromdate"]),m=Ya(E["Redeem Datetodate"]),d=E["Booking Date"]?"&paymentdate_from=".concat(i,"&paymentdate_to=").concat(l):"",u=E["Test Date"]?"&testdate_from=".concat(o,"&testdate_to=").concat(c):"",f=E["Redeem Date"]?"&redeemdate_from=".concat(s,"&redeemdate_to=").concat(m):"",h=E.Paid?"&status=PAID":E.finish?"&status=FINISH":E.New?"&status=NEW":"",b=E.name?"&name=".concat(E.name):"",y=d||u||f||h||b,v={name:a,email:n};r&&(v.phone=r);var _={request:{},method:"GET",serviceCode:"healthOrder",params:y?"/list?"+(d||"")+(u||"")+(f||"")+(h||"")+(b||""):"/list?&paymentdate_from=".concat(i,"&paymentdate_to=").concat(l),customHeaders:v};t._setCompleteRequest(_),g(Object(p.a)(Object(p.a)({},E),{},{open:!1}))};return r.a.createElement("div",null,r.a.createElement(qt.a,{xsDown:!0},r.a.createElement(St.a,{container:!0,style:{marginTop:5}},r.a.createElement(on,Object.assign({handleSubmitFilter:_,handleChange:v,handleDateChange:y,state:E},t)),r.a.createElement(St.a,{item:!0,sm:12,container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:5}},r.a.createElement(Wa.a,{style:{width:"100%"},title:"TOTAL ORDER BY ID: ".concat(E.listLengthById.toString()," "),columns:"voltras.admin"===s.roleUsed?h:h.filter((function(e){return"office"!==e.field})),data:E.simpleTable,onRowClick:function(e,t){return b(t)},options:{padding:"dense"}})),r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{height:20}})))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(Pt.a,{style:{marginBottom:15}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Filter By")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(St.a,{container:!0},r.a.createElement(Ft.a,{style:{marginTop:2}},r.a.createElement(ht.a,{style:{marginTop:8,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Date"),["Test Date","Redeem Date"].map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(St.a,{item:!0,xs:5,sm:5},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:E[e],onChange:v(e),name:e}),label:r.a.createElement(ht.a,{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},e)})),r.a.createElement(St.a,{item:!0,xs:3,sm:3,style:{visibility:E[e]?"visible":"hidden"},align:"right"},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.a,{style:{width:110},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from"+e,label:Be("app_from"),value:E[e+"fromdate"],onChange:y(e+"fromdate"),InputLabelProps:{shrink:!0,classes:{root:d.labelRoot}},InputProps:{classes:{root:d.inputRoot}}})))),r.a.createElement(St.a,{item:!0,xs:1,sm:1,style:{visibility:E[e]?"visible":"hidden"},align:"right"}),r.a.createElement(St.a,{item:!0,xs:3,sm:3,style:{visibility:E[e]?"visible":"hidden"},align:"right"},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.a,{style:{width:110},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to"+e,label:Be("app_to"),value:E[e+"todate"],onChange:y(e+"todate"),InputLabelProps:{shrink:!0,classes:{root:d.labelRoot}},InputProps:{classes:{root:d.inputRoot}}})))))}))),r.a.createElement(St.a,{item:!0,xs:12,sm:12,style:{marginBottom:10}},r.a.createElement(Ft.a,{fullWidth:!0},r.a.createElement(St.a,{item:!0,xs:12,sm:12}),r.a.createElement(St.a,{item:!0,xs:12,sm:12},r.a.createElement(ht.a,{style:{marginTop:8,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Status")),r.a.createElement(Ft.a,null,r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:3,sm:3},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:E.Paid,onChange:v("Paid"),name:"Paid"}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},Be("app_paid"))})),r.a.createElement(St.a,{item:!0,xs:3,sm:3},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:E.finish,onChange:v("finish"),name:"finish"}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"Redeemed")})),r.a.createElement(St.a,{item:!0,xs:6,sm:6,style:{paddingLeft:30}},r.a.createElement(va.a,{style:{display:"voltras.admin"===s.roleUsed?"":"none"},control:r.a.createElement(za.a,{size:"small",checked:E.New,onChange:v("New"),name:"New"}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"New")})))))),r.a.createElement(St.a,{item:!0,xs:12,sm:12,container:!0,justify:"space-between",style:{paddingLeft:10,paddingBottom:10,paddingRight:10,marginBottom:10}},r.a.createElement(cn,{filename:"OrderReport",element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_export_xls"))},r.a.createElement(sn,{dataSet:E.dataset,name:"Order Report"})),r.a.createElement(At.a,{size:"small",variant:"contained",onClick:_,color:"primary",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_submit_filter")))))),r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"TOTAL ORDER BY ID: ".concat(E.listLengthById.toString()," "))),r.a.createElement(nn,{data:E.simpleTable.map((function(e){return e})),button:!0,arrow:!0,column:a,onClickList:b,orderList:!0}))),r.a.createElement("div",{style:{height:window.screen.height-700}}))})),gn=Object(o.b)((function(e){return{paxList:e.paxList,userInfo:e.userInfo}}),(function(e){return{_setPaxList:function(t){e(de(t))},_setFilteredList:function(t){e(function(e){return{type:"SET_FILTERED_LIST",val:e}}(t))},_setPaxDetail:function(t){e(ue(t))},_setOpenScreen:function(t){e(Oe(t))},_setRequest:function(t){e(Y(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Q(t))},_setServiceMethod:function(t){e(X(t))},_setServiceParams:function(t){e($(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Q("active"))}}}))(En),hn=a(19),bn=a(769),yn=a(35),vn=a(38),_n=a.n(vn),On=Za("now"),Cn=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),jn=Object(ct.a)((function(e){return{labelRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"},inputRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",height:25}}}))((function(e){var t=Object.assign({},e),a=t.cityList,i=t.klinikList,l=t._setCompleteRequest,o=t._setSecondRequest,c=t.open,s=t.userInfo,m=t.item,d=t.roleUsed,u=t.classes,f=t.setKlinikList,E=t.setCityList,g=t.system,h=Object(n.useState)({city:"",product:{},klinikList:[],fromdate:On,fromdateErrorMessage:"",originDate:"",minDate:"",maxValidDate:"",email:"",emailErrorMessage:"",reason:"",reasonErrorMessage:"",clinic_id:0,order_id:0,item_id:0,submitErrorMessage:"",new_clinic_data:{}}),b=Object(lt.a)(h,2),y=b[0],v=b[1];Object(n.useEffect)((function(){var e=y.fromdate,t=y.product.clinic?y.product.clinic.vendor_close.date:[],a=(y.product.clinic?y.product.clinic.vendor_close.day:[]).map((function(e){return 7===e&&(e=0),e})),n=new Date(e).getDay(),r=parseInt(y.clinic_id),i=y.new_clinic_data,l=i.vendor_close?i.vendor_close.date:[],o=(i.vendor_close?i.vendor_close.day:[]).map((function(e){return 7===e&&(e=0),e})),c=y.product.product_name?y.product.product_name:"",s=i.product?i.product.map((function(e){return e.name})):[];r?l.includes(e)?v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:"New clinic close, please choose another date or clinic."})})):o.includes(n)?v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:"New clinic close, please choose another day or clinic."})})):s.includes(c)?v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:""})})):v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:"Product not available, please choose another clinic."})})):t.includes(e)?v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:"Clinic close, please choose another date or clinic."})})):a.includes(n)?v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:"Clinic close, please choose another day or clinic."})})):v((function(e){return Object(p.a)(Object(p.a)({},e),{},{submitErrorMessage:""})}))}),[y.fromdate,y.clinic_id,y.product,y.city,y.new_clinic_data]),Object(n.useEffect)((function(){var e=m;if(e){var t=e.order_id,a=e.item_id,n=e.valid_until,r=e.payment,i=e.testdate,l=Ja(r.date)?Ya(Qa(On,1)):Ya(Qa(r.date,1));v((function(r){return Object(p.a)(Object(p.a)({},r),{},{order_id:t,item_id:a,product:e,minDate:l,fromdate:l,originDate:i,maxValidDate:n})}))}}),[m]),Object(n.useEffect)((function(){1===i.length&&v((function(e){return Object(p.a)(Object(p.a)({},e),{},{klinikList:i,clinic_id:i[0].id})}))}),[i]);var _=function(){t.handleClose()},C=function(e){return function(t){var a;t.preventDefault();var n=t.target.value,r=Ea(e,n);v(Object(p.a)(Object(p.a)({},y),{},(a={},Object(O.a)(a,e,n),Object(O.a)(a,e+"ErrorMessage",n?r.errorMessage:""),Object(O.a)(a,"notComplete",!1),a)))}},j=function(e){e.preventDefault();var a={name:s.name,email:s.email};s.phone&&(a.phone=s.phone);var n={request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",urlParams:"/cities/none/clinics",customHeaders:a};l({request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=a",customHeaders:a}),o(n);var r=m.payment,i=Ja(r.date)?Ya(Qa(On,1)):Ya(Qa(r.date,1));v(Object(p.a)(Object(p.a)({},y),{},{clinic_id:0,city:"",submitErrorMessage:"",minDate:i,fromdate:i})),t.handleClose()},S=function(e){e.preventDefault();var a={name:s.name,email:s.email};s.phone&&(a.phone=s.phone);var n={request:{testdate:y.fromdate,email:y.email?y.email:null,clinic:y.clinic_id?parseInt(y.clinic_id):null,reason:y.reason?y.reason:null},method:"PATCH",serviceCode:"RESCHEDULE_ORDER",params:"/".concat(y.order_id,"/").concat(y.item_id),customHeaders:a};y.fromdate&&y.order_id&&y.item_id?(l(n),t.handleClose()):v(Object(p.a)(Object(p.a)({},y),{},{submitErrorMessage:"Form error, please check your form"}))},I=function(e){return function(t){var a,n;new Date(t)>Qa(m.valid_until,0)?v(Object(p.a)(Object(p.a)({},y),{},(a={},Object(O.a)(a,e+"ErrorMessage","Reschedule date not valid"),Object(O.a)(a,e,Ya(t)),a))):v(Object(p.a)(Object(p.a)({},y),{},(n={},Object(O.a)(n,e+"ErrorMessage",""),Object(O.a)(n,e,Ya(t)),n)))}},T=function(e){console.log("ON PICK CITY: ",e),f([]);var t={name:s.name,email:s.email};if(s.phone&&(t.phone=s.phone),e&&e.city){var a={request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",params:"/cities/".concat(e.city,"/clinics"),customHeaders:t};console.log(a),v(Object(p.a)(Object(p.a)({},y),{},{city:e.city,submitErrorMessage:""})),We({},"GET","GET_CITY_LIST","/cities?&citykey=".concat(e.city),t,null,0,(function(e){var t=e.body,n=[];Array.isArray(t)&&t.length>0&&(t.forEach((function(e){e.name?n.push(e):n.push({city:e})})),E(n)),l(a)}))}else{l({request:{},method:"GET",serviceCode:"GET_CITY_CLINIC_LIST",params:"/cities/none/clinics",customHeaders:t}),v(Object(p.a)(Object(p.a)({},y),{},{city:"",clinic_id:0,submitErrorMessage:""}))}},R=function(e,t,a){console.log("KOK BISA SEHH....? ",e);var n={name:s.name,email:s.email};s.phone&&(n.phone=s.phone);var r={request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=".concat(e),customHeaders:n};e&&!a&&l(r)},k=function(e){e&&e.id?v(Object(p.a)(Object(p.a)({},y),{},{clinic_id:e.id,new_clinic_data:e,submitErrorMessage:""})):v(Object(p.a)(Object(p.a)({},y),{},{clinic_id:0,new_clinic_data:{},submitErrorMessage:""}))},w=function(e){};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:c,onClose:_,scroll:"paper"},r.a.createElement(Cn,{id:"max-width-dialog-title",onClose:_},t.label),r.a.createElement(jt.a,{style:{display:g.serviceStart?"":"none"},color:"secondary"}),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,sm:12},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Clinic")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,y.product.clinic?y.product.clinic.name:"")))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Product Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,y.product.product_name)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Test Date")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,y.originDate)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Reschedule valid until")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,y.maxValidDate)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Reschedule Date")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{autoOk:!0,minDate:y.minDate,maxDate:y.maxValidDate,error:!!y.fromdateErrorMessage,helperText:y.fromdateErrorMessage?y.fromdateErrorMessage:"",style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",value:y.fromdate,onChange:I("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},disablePast:!0}))))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"User Email")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Email",onChange:C("email"),value:y.email,error:!!y.emailErrorMessage,helperText:y.emailErrorMessage?y.emailErrorMessage:""}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Reschedule Reason")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Reschedule Reason",multiline:!0,onChange:C("reason"),value:y.reason,error:!!y.reasonErrorMessage,helperText:y.reasonErrorMessage?y.reasonErrorMessage:""}))),r.a.createElement(St.a,{style:{visibility:"voltras.admin"===d?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Change Clinic")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"changeClinicChooseCity",options:a[0]?a:[],optionItem:"city",notShrink:!0,handleInputChange:R,onPick:T}))),r.a.createElement(St.a,{style:{visibility:"voltras.admin"===d?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5}),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"}),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},i[0]&&i[0].name&&i.length>1?r.a.createElement(ha,{id:"changeClinicChooseClinic",options:i,optionItem:"name",notShrink:!0,handleInputChange:w,onPick:k}):i[0]&&i[0].name&&1===i.length?r.a.createElement(ea.a,{focused:!1,value:i[0].name,fullWidth:!0}):null))))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,sm:12},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Clinic")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("b",null,y.product.clinic?y.product.clinic.name:"")))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Product Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("b",null,y.product.product_name)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Test Date")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("b",null,y.originDate)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Reschedule valid until")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("b",null,y.maxValidDate)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Reschedule Date")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{autoOk:!0,minDate:y.minDate,maxDate:y.maxValidDate,error:!!y.fromdateErrorMessage,helperText:y.fromdateErrorMessage?y.fromdateErrorMessage:"",style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",value:y.fromdate,onChange:I("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},disablePast:!0,InputLabelProps:{shrink:!0,classes:{root:u.labelRoot}},InputProps:{classes:{root:u.inputRoot}}}))))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"User Email")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Email",onChange:C("email"),value:y.email,error:!!y.emailErrorMessage,helperText:y.emailErrorMessage?y.emailErrorMessage:"",InputLabelProps:{shrink:!0,classes:{root:u.labelRoot}},InputProps:{classes:{root:u.inputRoot}}}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Reschedule Reason")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{style:{fontSize:12,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Reschedule Reason",multiline:!0,onChange:C("reason"),value:y.reason,error:!!y.reasonErrorMessage,helperText:y.reasonErrorMessage?y.reasonErrorMessage:"",InputLabelProps:{shrink:!0,classes:{root:u.labelRoot}},InputProps:{classes:{root:u.inputRoot}}}))),r.a.createElement(St.a,{style:{visibility:"voltras.admin"===d?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Change Clinic")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"changeClinicChooseCity",options:a[0]?a:[],optionItem:"city",notShrink:!0,handleInputChange:R,onPick:T}))),r.a.createElement(St.a,{style:{visibility:"voltras.admin"===d?"visible":"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5}),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"}),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},i[0]&&i[0].name&&i.length>1?r.a.createElement(ha,{id:"changeClinicChooseClinic",options:i,optionItem:"name",notShrink:!0,handleInputChange:w,onPick:k}):i[0]&&i[0].name&&1===i.length?r.a.createElement(ea.a,{focused:!1,value:i[0].name,fullWidth:!0}):null)))))),r.a.createElement(kt.a,null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:5,marginBottom:5}},r.a.createElement(ht.a,{color:"error",style:{visibility:y.submitErrorMessage?"visible":"hidden"},variant:"subtitle2"},y.submitErrorMessage),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{variant:"outlined",color:"primary",onClick:j,style:{marginRight:5}},Be("app_cancel")),r.a.createElement(At.a,{disabled:!!y.submitErrorMessage,variant:"contained",color:"primary",onClick:S,style:{marginLeft:5}},"Reschedule")))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{container:!0,item:!0,xs:12,sm:12,direction:"row",justify:"center",alignItems:"center",style:{paddingBottom:5}},r.a.createElement(ht.a,{color:"error",style:{visibility:y.submitErrorMessage?"visible":"hidden",fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",textAlign:"center"},variant:"subtitle2"},y.submitErrorMessage)),r.a.createElement(St.a,{container:!0,item:!0,xs:12,sm:12,justify:"space-between",style:{paddingLeft:50,marginTop:5,marginBottom:5,paddingRight:50}},r.a.createElement(At.a,{variant:"outlined",color:"primary",onClick:j,style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,marginRight:5}},Be("app_cancel")),r.a.createElement(At.a,{disabled:!!y.submitErrorMessage,style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},variant:"contained",color:"primary",onClick:S},"Reschedule"))))))})),Sn=we.gatewayRepoFile,In=/^[0-9a-zA-Z]*$/,Tn=Object(ct.a)((function(e){return{labelRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"},inputRoot:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))(Object(o.b)((function(e){return{parentList:e.paxList.parentList,cityList:e.paxList.cityList,klinikList:e.paxList.klinikList,detail:e.paxList.detail,product:e.paxList.product,userInfo:e.userInfo.info,roleUsed:e.userInfo.roleUsed,system:e.system}}),(function(e){return{_setParentList:function(t){return e(be(t))},_setSnackbar:function(t){return e(ve(t))},_setRequest:function(t){e(Y(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Q(t))},_setOpenScreen:function(t){e(Oe(t))},_setServiceStart:function(){e({type:"SERVICE_START"})},_setServiceEnd:function(){e({type:"SERVICE_END"})},_setDialog:function(t){e(_e(t))},_setPaxList:function(t){e(de(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Q("active"))},_setSecondRequest:function(t){return e(te(t))},setKlinikList:function(t){return e(fe(t))},setCityList:function(t){return e(he(t))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t.detail,l=t.userInfo,o=t._setCompleteRequest,c=t.history,s=t._setServiceStatus,m=t.parentList,d=t._setSnackbar,u=t._setParentList,f=t.classes,E=Object(n.useState)({submitErrorMessage:"",open:!1,openRedeemDialog:!1,fullName:"",redeemBy:"",member:[],memberStatus:[],errorMessage:"",clickedItem:0,fileSelected:[],clickedFile:0,rescheduleDialog:!1,items:[],item:null,redeemArr:[],errorArr:[],onPick:!1,showAutoId:!1}),g=Object(lt.a)(E,2),h=g[0],b=g[1];Object(n.useEffect)((function(){window.scrollTo(0,0),a("Details");var e=i||[],t=i&&i[0]?i[0]:{},n=t.order_id,r=t.contact,c=[],s=[],m=[];e.length>0&&(e.forEach((function(e){c.push(!1),s.push(e.status),m.push(!1)})),b(Object(p.a)(Object(p.a)({},h),{},{member:c,memberStatus:s,fileSelected:m,order_id:n,contact:r,items:i})));var d=l.name,u=l.email,f=l.phone,E={name:d,email:u};f&&(E.phone=f),o({request:{},method:"GET",serviceCode:"GET_CITY_LIST",params:"/cities?&citykey=a",customHeaders:E})}),[]);var y=function(e){e.preventDefault();var t=l.name,a=l.email,n=l.phone,r={name:t,email:a};n&&(r.phone=n);var o=h.errorArr,m=i,u=i[0].order_id,f=m?m.map((function(e){return e.person_name})):[],E=h.redeemBy,g=h.redeemArr,y=[];if(h.member.filter((function(e,t){return!0===e?y.push(t):null})),0===y.length)b(Object(p.a)(Object(p.a)({},h),{},{errorMessage:Be("err_atleast_one_name_chosen")}));else if(0===E.length)b(Object(p.a)(Object(p.a)({},h),{},{errorMessage:Be("err_redeemby_empty")}));else{var v=[],_=[];g.map((function(e,t){return!1===e?e=!1:"SELF"===e.kinship&&(e.person_id_name=f[t]),e})).forEach((function(e,t){!1===e||!e||e.person_id_no&&e.person_id_type&&e.kinship&&e.person_id_name?v.push(!1):v.push(!0)})),o.forEach((function(e,t){e.err_message?_.push(!0):_.push(!1)}));v.includes(!0)||_.includes(!0)?b(Object(p.a)(Object(p.a)({},h),{},{errorMessage:"Error in form"})):(s("active"),function e(t){if(t>y.length-1){b(Object(p.a)(Object(p.a)({},h),{},{openRedeemDialog:!1,redeemBy:"",errorMessage:""}));var a={open:!0,severity:"success",message:Be("clinic_redeem_success"),action:!1,actionLabel:""};return d(a),s("stop"),c.push("/PaxList")}t<0&&console.log("ONFAIL");var n=y[t],i=g[n]?"SELF"===g[n].kinship?f[n]:g[n].person_id_name:"",l=m[n].product_name;(function(e,t,a,n){return new Promise((function(r,i){We(e,a,"healthOrder",t,n,null,0,(function(e){return r(e)}))}))})(Object(p.a)(Object(p.a)({},g[n]),{},{redeem_by:E,person_id_name:i,product_name:l}),"/".concat(u.toString(),"/").concat(f[n]),"POST",r).then((function(a,n){if(a){var r=h.member;r[t]=!1,b(Object(p.a)(Object(p.a)({},h),{},{member:r})),e(t+1)}else console.log("END")}))}(0))}},v=function(e){return function(t){return b(Object(p.a)(Object(p.a)({},h),{},{open:!0,clickedItem:e}))}},_=function(){return b(Object(p.a)(Object(p.a)({},h),{},{open:!1,rescheduleDialog:!1}))},C=function(){var e=[];i.map((function(t){return e.push(!1)})),b(Object(p.a)(Object(p.a)({},h),{},{openRedeemDialog:!1,member:e,redeemArr:[],redeemBy:"",errorMessage:""}))},j=function(e,t){return function(a){if("redeemBy"===e)b(Object(p.a)(Object(p.a)({},h),{},{redeemBy:a.target.value,errorMessage:""}));else if("person_id_no"===e){var n=Object(hn.a)(h.redeemArr);n[t]=Object(p.a)(Object(p.a)({},n[t]),{},{person_id_type:"",person_id_no:""}),u([]),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:"",onPick:!1,showAutoId:!0}))}else{var r=Object(hn.a)(h.redeemArr);r[t]=Object(p.a)(Object(p.a)({},r[t]),{},Object(O.a)({},e,a.target.value));var i=r;b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:i,errorMessage:"",showAutoId:!1}))}}},S=function(e){return function(t){var a={person_id_type:"",person_id_no:0,kinship:"",person_id_name:""},n=h.member;n[e]=!n[e];var r=n.map((function(e){return e?a:e})),i={err_message:""},l=n.map((function(e){return e?i:e}));b(Object(p.a)(Object(p.a)({},h),{},{member:n,errorMessage:"",redeemArr:r,errorArr:l}))}},I=function(e){return function(t){b(Object(p.a)(Object(p.a)({},h),{},{item:e,rescheduleDialog:!h.rescheduleDialog}))}},T=function(e,t){var a=t,n=Object(hn.a)(h.redeemArr);if(e){var r=e.as;if("SELF"===r){var i=l.name,o=l.email,c=l.phone,s={name:i,email:o};c&&(s.phone=c);var m=h.items[a].person_name,d="/list?&name=".concat(m);We({},"GET","GET_PARENT_LIST",d,s,null,0,(function(e){if(e.body.length>0){var t=e.body[0],i=t.id_type,l=t.id_no,o=t.name;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r,person_id_name:o,person_id_no:l,person_id_type:i}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:"",onPick:!0})),u(e.body)}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:"",onPick:!0,showAutoId:!0}))}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:r}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:""}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{kinship:"",person_id_type:"",person_id_no:"",person_id_name:""}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n}))},R=function(e){console.log(e)},k=function(e,t){var a=l.name,n=l.email,r=l.phone,i={name:a,email:n};r&&(i.phone=r);var c=t,s=h.items[c].person_name,m={request:{},method:"GET",serviceCode:"GET_PARENT_LIST",params:"SELF"===h.redeemArr[c].kinship?"/list?&name=".concat(s,"&id_no=").concat(e):"/list?&id_no=".concat(e),customHeaders:i},d=Object(hn.a)(h.redeemArr),f=Object(hn.a)(h.errorArr);e?e.length>200?(f[c]=Object(p.a)(Object(p.a)({},f[c]),{},{err_message:"Max length 200 character"}),b(Object(p.a)(Object(p.a)({},h),{},{errorArr:f,errorMessage:"Error in form"}))):In.test(e)?(f[c]=Object(p.a)(Object(p.a)({},f[c]),{},{err_message:""}),d[c]=Object(p.a)(Object(p.a)({},d[c]),{},{person_id_no:e}),o(m),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:d,errorMessage:"",errorArr:f}))):(f[c]=Object(p.a)(Object(p.a)({},f[c]),{},{err_message:"Only numbers and letters allowed"}),b(Object(p.a)(Object(p.a)({},h),{},{errorArr:f,errorMessage:"Error in form"}))):(f[c]=Object(p.a)(Object(p.a)({},f[c]),{},{err_message:""}),d[c]=Object(p.a)(Object(p.a)({},d[c]),{},{person_id_type:"",person_id_no:"",person_id_name:""}),u([]),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:d,errorMessage:"",onPick:!1,errorArr:f})))},w=function(e,t){var a=t,n=Object(hn.a)(h.errorArr),r=Object(hn.a)(h.redeemArr),i=Object(hn.a)(h.items);if(e){var l=e.id_type,o=e.id_no,c=e.name;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),r[a]=Object(p.a)(Object(p.a)({},r[a]),{},{person_id_type:l,person_id_no:o,person_id_name:c}),"SELF"===r[a].kinship?i[a]&&i[a].person_name===c?(b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:r,errorMessage:"",onPick:!0,errorArr:n})),u([])):(n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:"ID Number dan Nama tidak sesuai."}),b(Object(p.a)(Object(p.a)({},h),{},{errorMessage:"ID Number dan Nama tidak sesuai.",errorArr:n}))):(n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:r,errorMessage:"",onPick:!0,errorArr:n})),u([]))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{err_message:""}),r[a]=Object(p.a)(Object(p.a)({},r[a]),{},{person_id_type:"",person_id_no:"",person_id_name:""}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:r,errorMessage:"",onPick:!1,errorArr:n})),u([])},L=function(){},x=function(e,t){var a=t,n=Object(hn.a)(h.redeemArr);if(e){var r=e.val?e.val:null;n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{person_id_type:r}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:""}))}else n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{person_id_type:""}),b(Object(p.a)(Object(p.a)({},h),{},{redeemArr:n,errorMessage:"Error Type ID must be filled"}))};return r.a.createElement("div",null,r.a.createElement(jn,Object.assign({},t,{item:h.item,open:h.rescheduleDialog,handleOpen:I,handleClose:_,label:"Reschedule"})),r.a.createElement(Rt.a,{open:h.open,onClose:_,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(xt.a,{id:"responsive-dialog-title"},"Kartu Tanda Penduduk"),r.a.createElement(wt.a,null,r.a.createElement(Pt.a,null,r.a.createElement(bn.a,{component:"img",alt:"KTP",height:"auto",width:"auto",image:h.items.length>0?Sn+"/static-file-manager/retrieve?file=".concat(h.items[h.clickedItem].person_id_image):null,title:"KTP"}))),r.a.createElement(kt.a,null,r.a.createElement(At.a,{autoFocus:!0,onClick:_,color:"primary"},"Close"))),r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:h.openRedeemDialog,onClose:C,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(xt.a,{id:"responsive-dialog-title"},Be("clinic_redeem_confirmation")),r.a.createElement(qt.a,{smDown:!0},r.a.createElement(wt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},h.member?h.member.map((function(e,t){return e&&r.a.createElement(St.a,{item:!0,sm:12,key:t},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,h.items[t].person_name)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Redeem As")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"redeemAs"+t.toString(),options:[{as:"CHILD",i:t},{as:"SELF",i:t}],optionItem:"as",notShrink:!0,handleInputChange:R,onPick:T,setIndex:t}))),"CHILD"===h.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent ID Number")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"idParent"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:k,onPick:w,setIndex:t,freeSolo:!0}),r.a.createElement(ht.a,{color:"error",variant:"caption"},h.errorArr[t].err_message))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent ID Type")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_type&&h.onPick?r.a.createElement(ht.a,null,h.redeemArr[t].person_id_type):r.a.createElement(ha,{values:""===h.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:R,onPick:x,setIndex:t}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_name&&h.onPick?r.a.createElement(ht.a,null,r.a.createElement("b",null,h.redeemArr[t].person_id_name)):r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Parent Name",onChange:j("person_id_name",t),value:h.redeemArr[t].person_id_name})))):"SELF"===h.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"ID Number")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.showAutoId?r.a.createElement(ha,{autoFocus:!!h.showAutoId,handleFocus:L,id:"idSelf"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:k,onPick:w,setIndex:t,freeSolo:!0}):r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Person ID Number",onChange:j("person_id_no",t),value:h.redeemArr[t].person_id_no,helperText:h.person_id_nameErrorMessage?h.person_id_nameErrorMessage:"Pastikan nomor identitas benar"}),r.a.createElement(ht.a,{color:"error",variant:"caption"},h.errorArr[t].err_message))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"ID Type")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_type&&h.onPick?r.a.createElement(ht.a,null,h.redeemArr[t].person_id_type):r.a.createElement(ha,{values:""===h.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:R,onPick:x,setIndex:t})))):null,r.a.createElement(bt.a,{style:{marginTop:20,marginBottom:10}}))})):null),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginBottom:10}},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Redeem By"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Redeem By",onChange:j("redeemBy"),value:h.person_id_no,error:!!h.emailErrorMessage,helperText:h.emailErrorMessage?h.emailErrorMessage:""})))),r.a.createElement("center",null,r.a.createElement(ht.a,{color:"error",style:{display:h.errorMessage?"":"none"}},h.errorMessage),r.a.createElement(At.a,{autoFocus:!0,onClick:C,color:"secondary",variant:"outlined",style:{margin:5,marginBottom:15}},Be("app_cancel")),r.a.createElement(At.a,{disabled:!!h.errorMessage,autoFocus:!0,onClick:y,color:"primary",variant:"contained",style:{margin:5,marginBottom:15}},Be("app_submit")))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(wt.a,null,r.a.createElement(St.a,{container:!0,direction:"row"},h.member?h.member.map((function(e,t){return e&&r.a.createElement(St.a,{item:!0,sm:12,key:t,xs:12},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ht.a,null,r.a.createElement("b",null,h.items[t].person_name)))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Redeem As")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"redeemAs"+t.toString(),options:[{as:"CHILD",i:t},{as:"SELF",i:t}],optionItem:"as",notShrink:!0,handleInputChange:R,onPick:T,setIndex:t}))),"CHILD"===h.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent ID Number")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{className:f.typo},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ha,{id:"idParent"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:k,onPick:w,setIndex:t,freeSolo:!0}),r.a.createElement(ht.a,{color:"error",variant:"caption"},h.errorArr[t].err_message))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent ID Type")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,{className:f.typo},":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_type&&h.onPick?r.a.createElement(ht.a,{className:f.typo},h.redeemArr[t].person_id_type):r.a.createElement(ha,{values:""===h.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:R,onPick:x,setIndex:t}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"Parent Name")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_name&&h.onPick?r.a.createElement(ht.a,null,r.a.createElement("b",null,h.redeemArr[t].person_id_name)):r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Parent Name",onChange:j("person_id_name",t),value:h.redeemArr[t].person_id_name,InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}})))):"SELF"===h.redeemArr[t].kinship?r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"ID Number")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.showAutoId?r.a.createElement(ha,{autoFocus:!!h.showAutoId,handleFocus:L,id:"idSelf"+t.toString(),options:m,optionItem:"id_no",notShrink:!0,handleInputChange:k,onPick:w,setIndex:t,freeSolo:!0}):r.a.createElement(ea.a,{fullWidth:!0,"aria-describedby":"id-number-error",id:"id-number-error",placeholder:"Person ID Number",onChange:j("person_id_no",t),value:h.redeemArr[t].person_id_no,FormHelperTextProps:{style:{fontSize:10}},helperText:h.person_id_nameErrorMessage?h.person_id_nameErrorMessage:"Pastikan nomor identitas benar",InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}}),r.a.createElement(ht.a,{color:"error",variant:"caption"},h.errorArr[t].err_message))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,"ID Type")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},h.redeemArr[t].person_id_type&&h.onPick?r.a.createElement(ht.a,null,h.redeemArr[t].person_id_type):r.a.createElement(ha,{values:""===h.redeemArr[t].person_id_type&&{val:"",i:t},clearOnBlur:!0,id:"idType"+t.toString(),options:[{val:"KTP",i:t},{val:"PASSPORT",i:t},{val:"NIK",i:t}],optionItem:"val",notShrink:!0,handleInputChange:R,onPick:x,setIndex:t})))):null,r.a.createElement(bt.a,{style:{marginTop:20,marginBottom:10}}))})):null),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0,lg:5,sm:5,xs:5},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Redeem By"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Redeem By",onChange:j("redeemBy"),value:h.person_id_no,error:!!h.emailErrorMessage,helperText:h.emailErrorMessage?h.emailErrorMessage:"",InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}})))),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{container:!0,item:!0,xs:12,sm:12,direction:"row",justify:"center",alignItems:"center",style:{paddingBottom:5}},r.a.createElement(ht.a,{color:"error",style:{display:h.errorMessage?"":"none"}},h.errorMessage))),r.a.createElement(St.a,{item:!0,xs:12,sm:12,container:!0,justify:"space-between",style:{paddingLeft:50,marginTop:5,marginBottom:10,paddingRight:50}},r.a.createElement(At.a,{autoFocus:!0,onClick:C,color:"secondary",variant:"outlined",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_cancel")),r.a.createElement(At.a,{disabled:!!h.errorMessage,autoFocus:!0,onClick:y,color:"primary",variant:"contained",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_submit"))))),r.a.createElement("center",null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(St.a,{item:!0,xs:10,sm:6},r.a.createElement(Pt.a,{variant:"elevation"},r.a.createElement(Mt.a,null,r.a.createElement(ht.a,{variant:"h6"},r.a.createElement("b",null,Be("clinic_order_detail"))," "),r.a.createElement(ht.a,{variant:"caption"},r.a.createElement("b",null,"Order Id: ",h.order_id?h.order_id:"")," "),r.a.createElement("div",{style:{marginTop:15}},r.a.createElement(St.a,{container:!0,align:"left",style:{marginLeft:20,marginBottom:5}},r.a.createElement(St.a,{item:!0,lg:12,sm:12,xs:12},r.a.createElement("b",null,Be("common_contact_person")))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,xs:1,component:"div"},r.a.createElement(ht.a,null)),r.a.createElement(St.a,{item:!0,xs:2},"Email"),r.a.createElement(St.a,{item:!0,xs:9},r.a.createElement(ht.a,{variant:"caption"},": ",r.a.createElement("b",null,h.contact&&h.contact.email)))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,xs:1,component:"div"},r.a.createElement(ht.a,null)),r.a.createElement(St.a,{item:!0,xs:2},Be("app_phone")),r.a.createElement(St.a,{item:!0,xs:5},r.a.createElement(ht.a,{variant:"caption"},": ",r.a.createElement("b",null,h.contact&&h.contact.phone)))),r.a.createElement(bt.a,{style:{margin:15}}),h.items.length>0?h.items.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{marginLeft:20}},r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},Be("app_name"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(ht.a,{variant:"caption"},r.a.createElement("b",null,e.person_name)))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},Be("common_birth_date"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(ht.a,{variant:"caption"},e.person_date_of_birth))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},"Status")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7},r.a.createElement(ht.a,{variant:"caption"},r.a.createElement("b",null,e.status?"FINISH"===e.status?"REDEEMED":e.status:"NEW")))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},Be("common_products"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(ht.a,{variant:"caption"},r.a.createElement("b",null,e.product_name)))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},Be("clinic_test_date"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(ht.a,{variant:"caption"},e.testdate," "))),r.a.createElement(St.a,{container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},Be("clinic_name"))),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7,variant:"caption"},r.a.createElement(ht.a,{variant:"caption"},e.clinic?e.clinic.name:"Klinik Name")," ",r.a.createElement("br",null))),r.a.createElement(St.a,{onClick:e.person_id_image?v(t):null,container:!0,align:"left"},r.a.createElement(St.a,{item:!0,lg:4,sm:4,xs:4},r.a.createElement(ht.a,{variant:"body2"},"KTP")),r.a.createElement(St.a,{item:!0,lg:1,sm:1,xs:1,component:"div"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,lg:7,sm:7,xs:7},e.person_id_image?r.a.createElement(Pt.a,{style:{width:140,marginTop:10}},r.a.createElement(bn.a,{component:"img",alt:"KTP",height:"auto",width:"200",image:e.person_id_image?Sn+"/static-file-manager/retrieve?file=".concat(e.person_id_image):null,title:"KTP"})):r.a.createElement(ht.a,{variant:"caption"}," - "))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(St.a,{item:!0,xs:12,sm:12,container:!0,justify:"space-between",style:{paddingTop:15,paddingRight:15}},h.member[t]?r.a.createElement(At.a,{size:"small",style:{marginTop:15},onClick:S(t),variant:"outlined",color:"secondary"},Be("app_cancel")," Redeem"):"FINISH"===h.memberStatus[t]?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(At.a,{size:"small",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},onClick:I(e),variant:"contained",color:"secondary"},"Reschedule"),r.a.createElement(At.a,{size:"small",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,paddingLeft:23,paddingRight:23},onClick:S(t),variant:"contained",color:"primary"},"Redeem")))),r.a.createElement(qt.a,{smDown:!0},h.member[t]?r.a.createElement(At.a,{size:"small",style:{marginTop:15},onClick:S(t),variant:"outlined",color:"secondary"},Be("app_cancel")," Redeem"):"FINISH"===h.memberStatus[t]?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(At.a,{size:"small",style:{marginTop:15,marginRight:5},onClick:I(e),variant:"contained",color:"secondary"},"Reschedule"),r.a.createElement(At.a,{size:"small",style:{marginTop:15,marginLeft:5},onClick:S(t),variant:"contained",color:"primary"},"Redeem")))),r.a.createElement(bt.a,{style:{margin:15}}))})):null,h.errorMessage?r.a.createElement(St.a,{container:!0,justify:"center"},r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},h.errorMessage)):null,h.submitErrorMessage?r.a.createElement(St.a,{container:!0,justify:"center"},r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},h.submitErrorMessage)):null,r.a.createElement(At.a,{style:{marginRight:2},size:"small",onClick:function(e){e.preventDefault(),c.push("/PaxList")},variant:"outlined",color:"secondary"},Be("app_back")),h.memberStatus.includes(void 0)||h.memberStatus.includes("PAID")?r.a.createElement(At.a,{style:{marginLeft:2},size:"small",onClick:function(e){e.preventDefault();var t=[];h.member.filter((function(e,a){return!0===e?t.push(a):null})),0===t.length?b(Object(p.a)(Object(p.a)({},h),{},{errorMessage:Be("err_atleast_one_name_chosen")})):b(Object(p.a)(Object(p.a)({},h),{},{openRedeemDialog:!0,errorMessage:""}))},variant:h.member.includes(!0)?"contained":"outlined",color:"secondary"},Be("clinic_redeem_confirmation")):null))),r.a.createElement("div",{style:{height:100}})))))}))),Rn=a(522),kn=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleQrShow=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{isQrShow:!n.state.isQrShow}))},n.handleScan=function(e){var t=n.props.userInfo.info,a=t.basicInformation?t.basicInformation.name:"",r=t.email?t.email:"",i=t.phone?t.phone:"",l={name:a,email:r};if(i&&(l.phone=i),"string"===typeof e||"number"===typeof e)if(e.toString().replace(/\s/g,"").length>0){n.props._serviceEnd();var o={request:{},method:"GET",serviceCode:"PURCHASE_VOUCHER_NUMBER",params:"/purchases/".concat(e.toString()),customHeaders:l};n.props._setCompleteRequest(o)}else{n.props._setResponse({headers:{},body:{error:!0,errorDescription:{id:"QR Code anda tidak teridentifikasi",en:"Unidentified QR Code"}}}),n.props._serviceEnd(),n.props.history.push("/Home")}},n.handleError=function(e){console.error(e)},n.state={isQrShow:!1,result:"no result"},n}return Object(z.a)(a,[{key:"componentWillMount",value:function(){this.props._setOpenScreen("QR Scan"),this.props._serviceStart()}},{key:"componentWillUnmount",value:function(){this.props._serviceEnd()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{md:4,item:!0}),r.a.createElement(St.a,{xs:12,sm:12,md:4,item:!0},r.a.createElement(Pt.a,null,r.a.createElement(Mt.a,null,r.a.createElement("div",null,r.a.createElement(Rn.a,{onError:this.handleError,onScan:this.handleScan,style:{width:"100%"},resolution:1200,facingMode:"rear"}))))),r.a.createElement(St.a,{md:4,item:!0})))}}]),a}(n.Component),wn=Object(o.b)((function(e){return{paxList:e.paxList.list,detail:e.paxList.detail,system:e.system,userInfo:e.userInfo}}),(function(e){return{_setRequest:function(t){e(Y(t))},_setServiceCode:function(t){e(J(t))},_setServiceStatus:function(t){e(Q(t))},_setOpenScreen:function(t){e(Oe(t))},_setPaxDetail:function(t){e(ue(t))},_serviceStart:function(){e({type:"SERVICE_START"})},_serviceEnd:function(){e({type:"SERVICE_END"})},_setResponse:function(t){e(ae(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))(kn),Ln=a(468),xn=function(e){var t=Object.assign({},e),a=t.handleChange,i=t.form,l=t.setFormFocus,o=t.formFocus,c=t.setShowPassword,s=t.showPassword,m=t.setShowConfirmPassword,d=t.showConfirmPassword,u=t.serviceRole,f=Object(n.useState)([]),E=Object(lt.a)(f,2),g=E[0],h=E[1];return Object(n.useEffect)((function(){u&&h(function(e){var t=[{value:"root",label:"Root"},{value:"admin",label:"Admin"},{value:"end-user",label:"End-User"}];return"AUTHENTICATION_USER"===e?t=[{value:"end-user",label:"End-User"}]:"AUTHENTICATION_ADMIN"===e&&(t=[{value:"admin",label:"Admin"},{value:"end-user",label:"End-User"}]),t}(u))}),[u]),r.a.createElement(St.a,{item:!0,xs:12,md:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,xs:12,md:8,style:{marginLeft:10,marginRight:10}},r.a.createElement(ea.a,{size:"small",onChange:a("name"),id:"standard-name",label:"Full Name",placeholder:"Full Name",helperText:i.nameErrorMessage?i.nameErrorMessage:"",error:!!i.nameErrorMessage,fullWidth:!0,margin:"dense",value:i.name,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{name:!0}))},onBlur:function(){return i.name?l(Object(p.a)(Object(p.a)({},o),{},{name:!0})):l(Object(p.a)(Object(p.a)({},o),{},{name:!1}))},InputLabelProps:{shrink:!!o.name}}),r.a.createElement(ea.a,{size:"small",onChange:a("phone"),id:"standard-phone",label:"Phone",placeholder:"+6281234567890",helperText:i.phoneErrorMessage?i.phoneErrorMessage:"",error:!!i.phoneErrorMessage,fullWidth:!0,margin:"dense",value:i.phone,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{phone:!0}))},onBlur:function(){return i.phone?l(Object(p.a)(Object(p.a)({},o),{},{phone:!0})):l(Object(p.a)(Object(p.a)({},o),{},{phone:!1}))},InputLabelProps:{shrink:!!o.phone}}),r.a.createElement(ea.a,{size:"small",onChange:a("email"),id:"standard-email",label:"Email",placeholder:"Email",helperText:i.emailErrorMessage?i.emailErrorMessage:"",error:!!i.emailErrorMessage,fullWidth:!0,margin:"dense",value:i.email,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{email:!0}))},onBlur:function(){return i.email?l(Object(p.a)(Object(p.a)({},o),{},{email:!0})):l(Object(p.a)(Object(p.a)({},o),{},{email:!1}))},InputLabelProps:{shrink:!!o.email}}),r.a.createElement(ea.a,{type:s?"text":"password",size:"small",onChange:a("password"),id:"standard-password",label:"Password",helperText:i.passwordErrorMessage?i.passwordErrorMessage:"",error:!!i.passwordErrorMessage,fullWidth:!0,margin:"dense",value:i.password,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{password:!0}))},onBlur:function(){return i.password?l(Object(p.a)(Object(p.a)({},o),{},{password:!0})):l(Object(p.a)(Object(p.a)({},o),{},{password:!1}))},InputLabelProps:{shrink:!!o.password},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle password visibility",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return c(!s)}},s?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}}),r.a.createElement(ea.a,{type:d?"text":"password",size:"small",onChange:a("confirmPassword"),id:"standard-confirmPassword",label:"Confirm Password",helperText:i.confirmPasswordErrorMessage?i.confirmPasswordErrorMessage:"",error:!!i.confirmPasswordErrorMessage,fullWidth:!0,margin:"dense",value:i.confirmPassword,onFocus:function(){return l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!0}))},onBlur:function(){return i.confirmPassword?l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!0})):l(Object(p.a)(Object(p.a)({},o),{},{confirmPassword:!1}))},InputLabelProps:{shrink:!!o.confirmPassword},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},r.a.createElement(yt.a,{"aria-label":"toggle confirmPassword visibility",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return m(!d)}},d?r.a.createElement(na.a,null):r.a.createElement(ia.a,null)))}}),r.a.createElement(ea.a,{size:"small",onChange:a("userType"),id:"standard-userType",label:"User Type",select:!0,value:i.userType,fullWidth:!0,margin:"dense"},g.map((function(e,t){return r.a.createElement(Ln.a,{value:e.value,key:t+33},e.label)}))))))},An=a(768),Pn=a(362),Mn=a(732),Dn=function(e){var t=Object.assign({},e),a=t.form,n=t.showAddUserClient,i=t.setShowAddUserClient,l=t.handleChange,o=t.chooseClientList,c=t.handleResource,s=t.handleAddClientRole,m=t.fullmd;return r.a.createElement(St.a,{item:!0,xs:12,md:m?12:6,style:{marginTop:10}},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{color:"primary",variant:"subtitle2"},"User Client"),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:10}},r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0},"Client Id")),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0},r.a.createElement(gt.a,null,a.assignedUserRole[0]?a.assignedUserRole.map((function(e,t){return r.a.createElement(Ct.a,{key:t,secondary:"- "+e.clientId})})):r.a.createElement(Ct.a,{secondary:"- none"}))))),r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0},"Resources Allowed")),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0},r.a.createElement(gt.a,null,a.assignedUserRole[0]?a.assignedUserRole[0].resourcesAllowedList.map((function(e,t){return r.a.createElement(Ct.a,{key:t,secondary:"- "+e})})):r.a.createElement(Ct.a,{secondary:"- none"}))))),r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",style:{margin:20}},n?r.a.createElement(Pt.a,null,r.a.createElement(Mt.a,null,r.a.createElement(St.a,null,r.a.createElement(ht.a,{variant:"subtitle2"}," Add Client and Resources ")),r.a.createElement(St.a,null,r.a.createElement(ea.a,{margin:"dense",size:"small",onChange:l("clientId"),id:"standard-clientId",label:"ClientId",placeholder:"ClientId",select:!0,fullWidth:!0,error:!!a.roleIdErrorMessage,value:a.clientId},o.map((function(e,t){return r.a.createElement(Ln.a,{value:e.value,key:t+21},e.label)})))),r.a.createElement(St.a,null,a.resourcelist[0]?r.a.createElement(Ft.a,{component:"fieldset",style:{marginTop:10}},r.a.createElement(Mn.a,{component:"legend"},"Resources"),r.a.createElement(Pn.a,null,a.resourcelist.map((function(e,t){return r.a.createElement(va.a,{control:r.a.createElement(za.a,{onChange:c,id:e.roleId,name:e.roleId}),label:e.roleId,key:t})})))):null)),r.a.createElement(An.a,null,r.a.createElement(At.a,{size:"small",color:"primary",onClick:function(){return i(!1)}},"Cancel"),r.a.createElement(At.a,{size:"small",color:"secondary",onClick:s},"Add"))):r.a.createElement("div",null,a.assignedUserRole[0]?null:r.a.createElement("div",null,r.a.createElement(At.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return i(!0)}},"Choose Client for User"),r.a.createElement(Nt.a,null,"Only one client allowed on Create User."),r.a.createElement(Nt.a,null,"Update the User on User List to add more client.")))))))},Un=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.roleAuth,c=t.clientList,s=Object(n.useState)(!1),m=Object(lt.a)(s,2),d=m[0],u=m[1],f=Object(n.useState)(!1),E=Object(lt.a)(f,2),g=E[0],h=E[1],b=Object(n.useState)(!1),y=Object(lt.a)(b,2),v=y[0],_=y[1],C=Object(n.useState)({name:!1,phone:!1,email:!1,password:!1,confirmPassword:!1}),j=Object(lt.a)(C,2),S=j[0],I=j[1],T=Object(n.useState)({resource:[],assignedUserRole:[],resourcelist:[],userType:"",profile:"",submitNotError:!0}),R=Object(lt.a)(T,2),k=R[0],w=R[1];Object(n.useEffect)((function(){a("Create User");var e=l.name,t=l.email,n=l.phone,r={name:e,email:t};n&&(r.phone=n);var o={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:r};c.length<1&&l.roleUsed&&i(o)}),[a,i,c,l.email,l.name,l.phone,l.roleUsed]);var L=function(e){return function(t){t.preventDefault();var a,n,r=Ea(e,t.target.value);if("confirmPassword"===e)k.password!==t.target.value?w(Object(p.a)(Object(p.a)({},k),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage","password confirmation not match"),Object(O.a)(a,"submitNotError",!0),a))):w(Object(p.a)(Object(p.a)({},k),{},(n={},Object(O.a)(n,e,t.target.value),Object(O.a)(n,e+"ErrorMessage",""),Object(O.a)(n,"submitNotError",!0),n)));else if("clientId"===e){var i,l=[];c.forEach((function(e){if(e.clientId===t.target.value)return l=Array.isArray(e.clientRoles)?e.clientRoles:e.clientRoles?e.clientRoles.split(", ").map((function(e){return{roleId:e}})):[{roleId:"client jadul jgn dipake"}]})),w(Object(p.a)(Object(p.a)({},k),{},(i={resourcelist:l},Object(O.a)(i,e,t.target.value),Object(O.a)(i,e+"ErrorMessage",r.errorMessage),Object(O.a)(i,"submitNotError",!0),i)))}else if("userType"===e){var s,m=t.target.value,d="";"end-user"===m&&(d=o.endUser),"admin"===m&&(d=o.admin),"root"===m&&(d=o.root),w(Object(p.a)(Object(p.a)({},k),{},(s={},Object(O.a)(s,e,t.target.value),Object(O.a)(s,e+"ErrorMessage",r.errorMessage),Object(O.a)(s,"resource",[].concat(Object(hn.a)(k.resource),[d])),Object(O.a)(s,"submitNotError",!0),s)))}else{var u;w(Object(p.a)(Object(p.a)({},k),{},(u={},Object(O.a)(u,e,t.target.value),Object(O.a)(u,e+"ErrorMessage",r.errorMessage),Object(O.a)(u,"submitNotError",!0),u)))}}},x=c.map((function(e){return{value:e.clientId,label:e.clientName}}));return r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,xs:12,md:9},r.a.createElement(st.a,null,r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"h6",color:"primary",style:{marginTop:20}},"Create User")),r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(xn,{handleChange:L,form:k,setFormFocus:I,formFocus:S,setShowPassword:u,showPassword:d,setShowConfirmPassword:h,showConfirmPassword:g,roleAuth:o}),r.a.createElement(Dn,{form:k,showAddUserClient:v,setShowAddUserClient:_,handleChange:L,chooseClientList:x,handleResource:function(e){var t=k.resource;if(e.target.name&&e.target.checked)t.push(e.target.name),w(Object(p.a)(Object(p.a)({},k),{},{resource:t}));else if(e.target.name&&!e.target.checked){var a;a=t.filter((function(t){return t!==e.target.name})),w(Object(p.a)(Object(p.a)({},k),{},{resource:a}))}},handleAddClientRole:function(e){e.preventDefault(),w(Object(p.a)(Object(p.a)({},k),{},{roleId:"",roleDescription:"",assignedUserRole:[].concat(Object(hn.a)(k.assignedUserRole),[{clientId:k.clientId,resourcesAllowedList:k.resource}])})),_(!1)}})),r.a.createElement(bt.a,{style:{margin:20}}),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:10}},k.submitNotError?null:r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Nt.a,{error:!0},"Form not complete")),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{onClick:function(e){e.preventDefault(),I({name:!1,phone:!1,email:!1,confirmPassword:!1,password:!1}),w({resource:[],name:"",phone:"",email:"",confirmPassword:"",password:"",assignedUserRole:[],resourcelist:[],clientRoles:[],userType:"",clientGroupId:"7ff9bf27-23bd-4253-a015-b2ffbe067f04",submitNotError:!0})},variant:"outlined",color:"primary"},"Reset")),r.a.createElement(St.a,{style:{margin:10},item:!0}),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{onClick:function(e){e.preventDefault(),w(Object(p.a)(Object(p.a)({},k),{},{submitNotError:!0}));var t=k.name,a=k.phone,n=k.email,r=k.password,o=k.confirmPassword,c=k.userType,s=k.assignedUserRole,m=k.submitNotError,d={assignedUserRole:s,confirmPassword:o,email:n,emailVerified:!1,name:t,password:r,phone:"0"===a[0]?"+62"+a.slice(1):a,phoneVerified:!1,userType:c},u=l.name,f=l.email,E=l.phone,g={name:u,email:f};(E&&(g.phone=E),s&&t&&a&&n&&r&&o&&c&&m)?i({request:d,method:"POST",serviceCode:"CREATE_BO_USER",customHeaders:g}):w(Object(p.a)(Object(p.a)({},k),{},{submitNotError:!1}))},variant:"contained",color:"primary"},"Create")))," ",r.a.createElement("br",null))))})),Nn=a(113),Fn=a.n(Nn),Hn=a(155);function qn(e){var t=Object.assign({},e),a=t.columns,i=t.data,l=t.updatedata,o=t.deletedata,c=t.rowClicked,s=t.confirmdeletetext,m=t.title,d=t.action,u=t.update,f=t.roleUsed,E=Object(n.useState)({columns:[],data:[],rowData:{}}),g=Object(lt.a)(E,2),h=g[0],b=g[1];Object(n.useEffect)((function(){b((function(e){return Object(p.a)(Object(p.a)({},e),{},{columns:a,data:i})}))}),[a,i]);var y=function(){var e=Object(Hn.a)(Fn.a.mark((function e(t){return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(St.a,{container:!0,item:!0,xs:12},r.a.createElement(Wa.a,{localization:{body:{editRow:{deleteText:s}}},style:{width:"100%"},title:m,columns:h.columns,data:h.data,actions:[u&&"member"!==f?{icon:"check",tooltip:"Activate Clinic",onClick:function(e,t){return l(t)}}:null],editable:d?{onRowDelete:function(e){return new Promise((function(t){y(e).then((function(e){return t()}))}))}}:null,onRowClick:function(e,t){return function(e){b(Object(p.a)(Object(p.a)({},h),{},{rowData:e})),c(e)}(t)},options:{actionsColumnIndex:-1,search:"member"!==f,rowStyle:function(e){return{color:"inactive"===e.status?"grey":"register"===e.status?"#00f100":"black"}}}}))}var zn=a(67),Bn=a.n(zn),Wn=a(135),Gn=a.n(Wn),Vn=a(199),Kn=a.n(Vn),Yn=a(772),Qn=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),Jn=function(e){var t=Object.assign({},e),a=Object(n.useState)([]),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)([]),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=Object(n.useState)([]),p=Object(lt.a)(u,2),f=p[0],E=p[1],g=function(){t.handleOpen(!1)},h=t.clientList&&t.dataToUpdate?t.clientList.filter((function(e){return e.client===t.dataToUpdate.client})):[],b=h[0]?h[0].client:"";Object(n.useEffect)((function(){o([]),d([]),E([]);var e=[],a=t.dataToUpdate&&t.dataToUpdate.resourcesAllowedList?t.dataToUpdate.resourcesAllowedList:["none"];if(Array.isArray(a)||(a=[a]),o(a),t.dataToUpdate&&!t.dataToUpdate.roleList){var n=t.clientList.filter((function(e){return e.client===t.dataToUpdate.client}));e=n[0].roleList}a[0]&&h[0]&&h[0].roleList.map((function(t){return a.includes(t)||e.push(t),null})),d(e)}),[t.dataToUpdate]);var y=function(e){return function(t){E([].concat(Object(hn.a)(f),[e]));var a=m.filter((function(t){return t!==e}));d(a)}},v=function(e){return function(t){d([].concat(Object(hn.a)(m),[e]));var a=f.filter((function(t){return t!==e}));E(a)}},_=function(e){return function(t){d([].concat(Object(hn.a)(m),[e]));var a=l.filter((function(t){return t!==e}));o(a)}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:g,scroll:"paper"},r.a.createElement(Qn,{id:"max-width-dialog-title",onClose:g},"Client: ",b),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},"Role Name"),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to remove role"),r.a.createElement(gt.a,{dense:!0},l.map((function(e,t){return"none"===e?r.a.createElement(Ct.a,{primary:"- none",key:t}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e,value:e,checked:!0,onChange:_(e)})),r.a.createElement(Ct.a,{primary:e}))})),f[0]?f.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e,value:e,checked:!0,onChange:v(e)})),r.a.createElement(Ct.a,{secondary:e}))})):l[0]?r.a.createElement("div",null):r.a.createElement(Ct.a,{primary:"- none"}))),r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},"Available Role"),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to add role"),r.a.createElement(gt.a,{dense:!0},m[0]?m.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",onChange:y(e),checked:!1})),r.a.createElement(Ct.a,{secondary:e}))})):r.a.createElement(Ct.a,{primary:"- none"}))))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:g,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:function(){var e=l.concat(f),a=t.dataToUpdate;a.roleList=e.join(", "),a.resourcesAllowedList=e,t.handleSave(a),t.handleOpen(!1)},variant:"contained",color:"primary"},"Save")))))},Xn=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),$n=function(e){var t,a=Object.assign({},e),i=a.handleAddClient,l=a.handleOpen,o=a.clientData,c=a.open,s=a.clientList,m=Object(n.useState)({resource:["member"],assignedUserRole:[],resourcelist:[]}),d=Object(lt.a)(m,2),u=d[0],f=d[1],E=function(){l(!1),f({resource:[],assignedUserRole:[],resourcelist:[],clientRoles:[]})},g=o&&o.userRole?o.userRole.map((function(e){return e.client})):[],h=s?s.filter((function(e){var t=e.clientId;return!g.includes(t)})).map((function(e){return{value:e.clientId,label:e.clientName}})):[{value:"",label:""}];return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:c,onClose:E,scroll:"paper"},r.a.createElement(Xn,{id:"max-width-dialog-title",onClose:E},"Add Client"),r.a.createElement(wt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:12},r.a.createElement(ea.a,{style:{width:300},onChange:(t="clientId",function(e){e.preventDefault();var a=Ea(t,e.target.value);if("clientId"===t){var n,r=[];s.map((function(t){return t.clientId===e.target.value?r=Array.isArray(t.clientRoles)?t.clientRoles:t.clientRoles?t.clientRoles.split(", ").map((function(e){return{roleId:e}})):[{roleId:"client jadul jgn dipake"}]:null})),f(Object(p.a)(Object(p.a)({},u),{},(n={resourcelist:r},Object(O.a)(n,t,e.target.value),Object(O.a)(n,t+"ErrorMessage",a.errorMessage),Object(O.a)(n,"submitNotError",!0),n)))}else{var i;f(Object(p.a)(Object(p.a)({},u),{},(i={},Object(O.a)(i,t,e.target.value),Object(O.a)(i,t+"ErrorMessage",a.errorMessage),Object(O.a)(i,"submitNotError",!0),i)))}}),id:"standard-clientId",label:"ClientId",placeholder:"ClientId",select:!0,error:!!u.roleIdErrorMessage},h?h.map((function(e,t){return r.a.createElement(Ln.a,{value:e.value,key:t+66},e.value)})):r.a.createElement(Ln.a,null,"None")))))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{variant:"outlined",color:"primary",onClick:function(e){l(!1),e.preventDefault(),f({resource:[],assignedUserRole:[],resourcelist:[],clientRoles:[]})}},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t={userRoleToUpdate:[{clientId:u.clientId,resourcesAllowedList:u.resource}]},a="/users/".concat(o.userId,"/roles");i({request:t,method:"PATCH",serviceCode:"UPDATE_USER_ROLE",urlParams:a}),l(!1)}},"Add")))))},Zn=function(e){var t=Object.assign({},e),a=Object(n.useState)({data:""}),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)([]),s=Object(lt.a)(c,2),m=s[0],d=s[1];Object(n.useEffect)((function(){var e=t.clientData;d([{title:"Email",field:e.email,verified:e.emailVerified&&e.email?"Verified":"Not Verified"},{title:"Phone",field:e.phone,verified:e.phoneVerified&&e.phone?"Verified":"Not Verified"},{title:"Name",field:e.basicInformation?e.basicInformation.name:""},{title:"Profile URL",field:e.basicInformation?e.basicInformation.profile:""},{title:"Gender",field:e.basicInformation?e.basicInformation.gender:""},{title:"Address",field:e.basicInformation?e.basicInformation.address:""}]),o({data:e.basicInformation?e.basicInformation.picture:""})}),[t.clientData]);return r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:8,style:{marginTop:10,marginBottom:10}},r.a.createElement(st.a,{style:{paddingLeft:20}},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:10},r.a.createElement(ht.a,{variant:"h6",style:{paddingBottom:20}},"Basic Information")),r.a.createElement(St.a,{container:!0,item:!0,xs:2,justify:"flex-end",style:{paddingRight:15}},r.a.createElement(an.a,{title:"Edit"},r.a.createElement(Bn.a,{onClick:function(){t.handleOpenEdit(!0)}})))),m.map((function(e){return r.a.createElement("div",null,r.a.createElement(St.a,{container:!0,style:{marginBottom:8}},r.a.createElement(St.a,{item:!0,xs:2},r.a.createElement(ht.a,{style:{fontSize:13,fontWeight:"bold",fontStyle:"Times New Roman"}},e.title)),r.a.createElement(St.a,{item:!0,xs:8},"Profile URL"===e.title?r.a.createElement("a",{href:e.field,target:"_blank",rel:"noopener noreferrer"},e.field):r.a.createElement(ht.a,{style:{fontSize:14}},e.field)),r.a.createElement(St.a,null,r.a.createElement(ht.a,{style:{color:"Verified"===e.verified?"#79d70f":"#d32626",fontSize:14}},"phone"!==e.title&&"email"!==e.title||e.field?e.verified:""))),r.a.createElement(bt.a,null))})))),r.a.createElement(St.a,{item:!0,xs:4,align:"center",style:{padding:50}},r.a.createElement(mt.a,{style:{width:160,height:160,borderWidth:"4px",borderColor:"black",borderStyle:"solid"},src:l.data})))},er=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},rootUpload:{"& > *":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"},inputUpload:{display:"none"}}},tr=Object(ct.a)(er)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(yn.a)(e,["children","onClose","classes"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(ht.a,{variant:"h6"},t),a?r.a.createElement(yt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(_n.a,null)):null)})),ar=Object(ct.a)(er)((function(e){var t=Object.assign({},e),a=t.classes,i=Object(n.useState)({basicInformation:{}}),l=Object(lt.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)({images:[],data:""}),m=Object(lt.a)(s,2),d=m[0],u=m[1];Object(n.useEffect)((function(){t.clientData&&c(Object(p.a)(Object(p.a)({},t.clientData),{},{emailVerified:t.clientData.emailVerified?"Verified":"Not Verified",phoneVerified:t.clientData.phoneVerified?"Verified":"Not Verified"}))}),[t.clientData]);var f=function(){u(Object(p.a)(Object(p.a)({},d),{},{images:[]})),c(Object(p.a)(Object(p.a)({},o),{},{basicInformation:{}})),t.handleClose(!1)},E=function(e){return function(t){var a,n,r,i,l=t.target.value,s=Ea("profile"===e?"urlDestination":e,t.target.value);"address"===e||"gender"===e||"profile"===e||"name"===e?c(Object(p.a)(Object(p.a)({},o),{},(n={basicInformation:Object(p.a)(Object(p.a)({},o.basicInformation),{},(a={},Object(O.a)(a,e,l),Object(O.a)(a,e+"Edit",l),a))},Object(O.a)(n,e,l),Object(O.a)(n,e+"Edit",l),Object(O.a)(n,"profile"===e?"urlDestinationErrorMessage":e+"ErrorMessage",s.errorMessage),n))):c(Object(p.a)(Object(p.a)({},o),{},(i={basicInformation:Object(p.a)(Object(p.a)({},o.basicInformation),{},(r={},Object(O.a)(r,e,l),Object(O.a)(r,e+"Edit",l),r))},Object(O.a)(i,e,l),Object(O.a)(i,e+"Edit",l),Object(O.a)(i,e+"ErrorMessage",s.errorMessage),i)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:f,scroll:"paper"},r.a.createElement(tr,{id:"max-width-dialog-title",onClose:f},t.title),r.a.createElement(wt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:a.rootUpload},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:8},r.a.createElement(ea.a,{fullWidth:!0,value:d.images[0]?d.images[0].name:"",variant:"outlined",disabled:!0,label:"Photo",id:"photo",InputLabelProps:{shrink:!0}})),r.a.createElement(St.a,{item:!0,sm:4,align:"center"},r.a.createElement("input",{accept:"image/*",className:a.inputUpload,id:"contained-button-file",onChange:function(e){var t=e.target,a=new FileReader;a.readAsDataURL(t.files[0]),a.onload=function(e){u(Object(p.a)(Object(p.a)({},d),{},{data:e.target.result,images:t.files}))}},multiple:!0,type:"file"}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(At.a,{variant:"contained",color:"primary",component:"span"},"Upload"))))),r.a.createElement(ea.a,{fullWidth:!0,label:"Email",value:o.email,onChange:E("email"),id:"email",error:!!o.emailErrorMessage,helperText:o.emailErrorMessage?o.emailErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,select:!0,disabled:!t.userInfo||"root"!==t.userInfo.roleUsed,label:"Email Status",value:o.emailVerified,onChange:E("emailVerified"),id:"emailStatus",InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{value:"Verified"},"Verified"),r.a.createElement(Ln.a,{value:"Not Verified"},"Not Verified")),r.a.createElement(ea.a,{fullWidth:!0,label:"Phone",id:"phone",onChange:E("phone"),value:o.phone,error:!!o.phoneErrorMessage,helperText:o.phoneErrorMessage?o.phoneErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,select:!0,disabled:!t.userInfo||"root"!==t.userInfo.roleUsed,label:"Phone Status",value:o.phoneVerified,onChange:E("phoneVerified"),InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{value:"Verified"},"Verified"),r.a.createElement(Ln.a,{value:"Not Verified"},"Not Verified")),r.a.createElement(ea.a,{fullWidth:!0,label:"Name",id:"name",onChange:E("name"),value:o.basicInformation?o.basicInformation.name:"",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,label:"Profile URL",id:"profile",onChange:E("profile"),value:o.basicInformation?o.basicInformation.profile:"",error:!!o.urlDestinationErrorMessage,helperText:o.urlDestinationErrorMessage?o.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,select:!0,label:"Gender",onChange:E("gender"),id:"gender",value:o.basicInformation?o.basicInformation.gender:"",InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{key:"male",value:"male"},"Male"),r.a.createElement(Ln.a,{key:"female",value:"female"},"Female")),r.a.createElement(ea.a,{fullWidth:!0,label:"Address",id:"address",onChange:E("address"),value:o.basicInformation?o.basicInformation.address:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{color:"primary",variant:"contained",onClick:function(){t.handleClose(!1),t.completeRequest(o,d)},className:a.addButton},"Edit")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:f,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),nr=Object(o.b)((function(e){return{userList:e.userList.list,userInfo:e.userInfo}}),(function(e){return{}}))((function(e){var t=Object.assign({},e),a=t.userList,i=t.userInfo,l=Object(n.useState)(!0),o=Object(lt.a)(l,2),c=o[0],s=o[1],m=Object(n.useState)([]),d=Object(lt.a)(m,2),u=d[0],f=d[1],E=Object(n.useState)({}),g=Object(lt.a)(E,2),h=g[0],b=g[1],y=Object(n.useState)({clientList:[],dataToUpdate:null,open:!1,addClientOpen:!1,openEditBasicInfo:!1}),v=Object(lt.a)(y,2),_=v[0],O=v[1],C=Object(n.useState)(null),j=Object(lt.a)(C,2),S=j[0],I=j[1],T=Object(n.useState)(!1),R=Object(lt.a)(T,2),k=R[0],w=R[1];Object(n.useEffect)((function(){if(k){var e=a.filter((function(e){return e.userId===h.userId}));b(e[0])}}),[h,k,a]);Object(n.useEffect)((function(){var e=t.data?t.data.userRole:[],a=[],n=[];0!==e.length&&(e.forEach((function(e){var t=e.resourcesAllowedList?Array.isArray(e.resourcesAllowedList)?e.resourcesAllowedList.join(", "):e.resourcesAllowedList:"-";e.roleList=t,a.push(e)})),f(a),b(t.data)),t.clientList&&t.clientList.forEach((function(e){var t={},a=Array.isArray(e.clientRoles)?e.clientRoles.map((function(e){return e.roleId})):e.clientRoles?e.clientRoles:["client jadul jgn dipake"];t.client=e.clientId,t.roleList=a,n.push(t)})),O(Object(p.a)(Object(p.a)({},_),{},{clientList:n}))}),[]),Object(n.useEffect)((function(){if(t.updateUser&&1===t.updateUser.length){var e=t.updateUser[0].userRole,a=[];e.forEach((function(e){var t=e.resourcesAllowedList?Array.isArray(e.resourcesAllowedList)?e.resourcesAllowedList.join(", "):e.resourcesAllowedList:"-";e.roleList=t,a.push(e)})),f(a),b(t.updateUser[0])}}),[t.updateUser]);var L=function(e){O(Object(p.a)(Object(p.a)({},_),{},{openEditBasicInfo:e}))};return r.a.createElement(Pt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Jn,{handleSave:function(e){s(!1);var t=[];u.forEach((function(e){var a={clientId:e.client,resourcesAllowedList:e.resourcesAllowedList};t.push(a)}));var a={userRoleToUpdate:t},n="/users/".concat(h.userId,"/roles");I({request:a,method:"PATCH",serviceCode:"UPDATE_USER_ROLE",urlParams:n})},dataToUpdate:_.dataToUpdate,data:h,clientList:_.clientList,open:_.open,handleOpen:function(e){O(Object(p.a)(Object(p.a)({},_),{},{open:e}))}}),r.a.createElement($n,{open:_.addClientOpen,handleOpen:function(e){O(Object(p.a)(Object(p.a)({},_),{},{addClientOpen:e}))},clientList:t.clientList,clientData:h,handleAddClient:function(e){t.sendUpdateRequest(e)}}),r.a.createElement(ar,{open:_.openEditBasicInfo,handleClose:L,clientData:h,userInfo:i,title:"Edit Basic Information",completeRequest:function(e,a){var n=e.userId,r=e.basicInformation.emailVerifiedEdit?"Verified"===e.basicInformation.emailVerifiedEdit:null,i=e.basicInformation.phoneVerifiedEdit?"Verified"===e.basicInformation.phoneVerifiedEdit:null,l={attributeToUpdate:{email:e.emailEdit,phone:e.phoneEdit,gender:e.basicInformation.genderEdit,address:e.basicInformation.addressEdit,profile:e.basicInformation.profileEdit,name:e.basicInformation.nameEdit,picture:a.data,emailVerified:r,phoneVerified:i},id:e.userId};Object.keys(l.attributeToUpdate).forEach((function(e){null!==l.attributeToUpdate[e]&&void 0!==l.attributeToUpdate[e]&&""!==l.attributeToUpdate[e]||delete l.attributeToUpdate[e]}));var o={request:l,method:"PATCH",serviceCode:"UPDATE_BASIC_USER",urlParams:"/users/".concat(n)};if(a.data){Ge(a.images[0],a.images[0].type).then((function(e){if("error"===e.type)return Promise.reject();var a=e.ID;return o.request.attributeToUpdate.picture="".concat(we.gatewayRepoFile,"/static-file-manager/retrieve?file=").concat(a),t.sendUpdateRequest(o),new Promise((function(e,t){e("next-promise")}))})).then((function(e){w(!0)})).catch((function(e){console.log(e)}))}else{new Promise((function(e,a){t.sendUpdateRequest(o),e("next-promise")})).then((function(e){w(!0)}))}L(!1)},backToTable:function(){t.handleClose(!1)}}),r.a.createElement(St.a,{style:{margin:35,marginTop:15},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(At.a,{onClick:function(){f([]),b({}),t._setUserFilteredList([]),t.handleClose()},color:"secondary",startIcon:r.a.createElement(Kn.a,null),size:"large",variant:"outlined"},"Back")),r.a.createElement(Zn,{clientData:h,handleOpenEdit:L}),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:12},r.a.createElement(Wa.a,{style:{width:"100%"},title:"User Role List",columns:[{title:"Client",field:"client",width:300},{title:"Role",field:"roleList"}],data:u,editable:{onRowDelete:function(e){return new Promise((function(e){new Promise((function(e,t){e()})).then((function(t){return e()}))}))}},actions:[{icon:"edit",tooltip:"Update Role",onClick:function(e,t){return a=t,void O(Object(p.a)(Object(p.a)({},_),{},{dataToUpdate:a,open:!0}));var a}}],options:{actionsColumnIndex:-1,padding:"dense"}}))),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},_.clientList.length>1?r.a.createElement(At.a,{onClick:function(){return O(Object(p.a)(Object(p.a)({},_),{},{addClientOpen:!0}))},variant:"contained",color:"primary",startIcon:r.a.createElement(Gn.a,null)},"Add Client to User"):null,r.a.createElement(At.a,{onClick:function(){t.sendUpdateRequest(S),s(!0)},variant:"contained",color:"primary",disabled:c,startIcon:r.a.createElement(Bn.a,null)},"Save Role"))))})),rr=["Soft Delete","Force Delete"];var ir=function(e){var t=e.userName,a=e.onClose,n=e.value,i=e.open,l=e.handleChoose,o=e.header,c=e.content,s=Object(yn.a)(e,["userName","onClose","value","open","handleChoose","header","content"]),m=r.a.useState(n),d=Object(lt.a)(m,2),u=d[0],p=d[1],f=r.a.useRef(null);return r.a.useEffect((function(){i||p(n)}),[n,i]),r.a.createElement(Rt.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm",onEntering:function(){null!=f.current&&f.current.focus()},"aria-labelledby":"confirmation-dialog-title",open:i},s),o?r.a.createElement(xt.a,{id:"confirmation-dialog-title"},o):r.a.createElement(xt.a,{id:"confirmation-dialog-title"},"Deleting: ",t),r.a.createElement(wt.a,{dividers:!0},c?r.a.createElement(ht.a,{variant:"subtitle2"},c):r.a.createElement(ya.a,{ref:f,"aria-label":"ringtone",name:"ringtone",value:u,onChange:function(e){p(e.target.value)}},rr.map((function(e,t){return r.a.createElement(va.a,{value:e,control:r.a.createElement(_a.a,null),label:e,key:t+3})})))),r.a.createElement(kt.a,null,r.a.createElement(At.a,{autoFocus:!0,onClick:function(){a()},color:"primary"},"Cancel"),r.a.createElement(At.a,{onClick:function(){l(u),a(u)},color:"primary"},"Ok")))},lr=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth,updateUser:e.userList.filteredList}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t._setUserFilteredList,o=t.clientList,c=t.userInfo,s=t.userList,m=t.updateUser,d=Object(n.useState)(!1),u=Object(lt.a)(d,2),f=u[0],E=u[1],g=Object(n.useState)({}),h=Object(lt.a)(g,2),b=h[0],y=h[1],v=Object(n.useState)(""),_=Object(lt.a)(v,2),O=_[0],C=_[1];Object(n.useEffect)((function(){var e=c.name,t=c.email,n=c.phone,r={name:e,email:t};n&&(r.phone=n),a("User List");var l={request:{},method:"GET",serviceCode:"SELECT_ALL_USER",customHeaders:r};s.length<1&&i(l)}),[a,s.length,i,c]);var j=Object(n.useState)({columns:[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Phone",field:"phone"},{title:"isVerified",field:"isverified",lookup:{"01":"False","02":"True"}}],data:[],dataToProcess:null}),S=Object(lt.a)(j,2),I=S[0],T=S[1],R=Object(n.useState)({open:!1}),k=Object(lt.a)(R,2),w=k[0],L=k[1];Object(n.useEffect)((function(){var e=c.name,t=c.email,a=c.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:n};o.length<1&&c.email&&setTimeout((function(){i(r)}),100);var l=Object(hn.a)(s);l.forEach((function(e){e.name=e.basicInformation.name,e.isverified=e.phoneVerified||e.emailVerified?"02":"01"})),T((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:l})}))}),[s,c,i,o.length]),Object(n.useEffect)((function(){o[0]&&o.forEach((function(e){e.originURIs=Array.isArray(e.originURIs)?e.originURIs.join(", "):e.originURIs,e.roleDetails=e.roleDetails?e.roleDetails:Array.isArray(e.clientRoles)?e.clientRoles:"",e.clientRoles=e.roleDetails}))}),[o]),Object(n.useEffect)((function(){var e=Object(hn.a)(s);e.forEach((function(e){e.name=e.basicInformation.name,e.isverified=e.phoneVerified||e.emailVerified?"02":"01"})),T((function(t){return Object(p.a)(Object(p.a)({},t),{},{data:e})}))}),[m,s]);return r.a.createElement("div",null,w.open?r.a.createElement(nr,{clientList:o,open:w.open,handleClose:function(){return L(Object(p.a)(Object(p.a)({},w),{},{open:!1}))},data:I.dataToProcess,sendUpdateRequest:function(e){i(e)},updateUser:m,_setUserFilteredList:l}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(qn,{confirmdeletetext:"Apakah anda yakin menghapus data ini?",title:"Backoffice User List",columns:I.columns,data:I.data,updatedata:function(e,t){return new Promise((function(a,n){t&&(T((function(a){var n=Object(hn.a)(a.data);return n[n.indexOf(t)]=e,Object(p.a)(Object(p.a)({},a),{},{data:n})})),a())}))},deletedata:function(e){return new Promise((function(t,a){var n=e.userId,r="/users/".concat(n);y({request:{},method:"DELETE",serviceCode:"DELETE_USER",urlParams:r}),C(e.name),E(!0),t()}))},rowClicked:function(e){T(Object(p.a)(Object(p.a)({},I),{},{dataToProcess:e})),L(Object(p.a)(Object(p.a)({},w),{},{open:!0}))},action:!0}),r.a.createElement(ir,{id:"ringtone-menu",keepMounted:!0,open:f,onClose:function(){E(!1)},value:"Soft Delete",handleChoose:function(e){"Soft Delete"===e||(b.request.isForceDelete=!0),t._setCompleteRequest(b)},userName:O})))})),or=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),cr=function(e){var t,a=Object.assign({},e),i=a.handleAddUser,l=a.handleOpen,o=a.open,c=a.userInfo,s=a.paxList,m=Object(n.useState)({nameErrorMessage:!1,emailErrorMessage:!1,phoneErrorMessage:!1,notComplete:!1}),d=Object(lt.a)(m,2),u=d[0],f=d[1],E=function(){l(!1),f({clientRoles:[],nameErrorMessage:!1,emailErrorMessage:!1,phoneErrorMessage:!1,notComplete:!1})};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:o,onClose:E,scroll:"paper"},r.a.createElement(or,{id:"max-width-dialog-title",onClose:E},a.label),r.a.createElement(wt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,sm:12},r.a.createElement(ea.a,{size:"small",onChange:(t="email",function(e){var a;e.preventDefault();var n=e.target.value,r=Ea(t,n);"0"===n[0]&&console.log("+62"+n.slice(1)),f(Object(p.a)(Object(p.a)({},u),{},(a={},Object(O.a)(a,t,n),Object(O.a)(a,t+"ErrorMessage",r.errorMessage),Object(O.a)(a,"notComplete",!1),a)))}),id:"standard-email",label:Be("app_email"),placeholder:"Email",helperText:u.emailErrorMessage?u.emailErrorMessage:"",error:!!u.emailErrorMessage,fullWidth:!0,margin:"dense",value:u.email}))),u.notComplete?r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Nt.a,{error:!0},Be("err_submit"))):null)),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6,sm:6,xs:6},r.a.createElement(At.a,{variant:"outlined",color:"primary",onClick:function(e){l(!1),e.preventDefault(),f({clientRoles:[]})}},Be("app_cancel"))),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6,sm:6,xs:6},r.a.createElement(At.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=u.emailErrorMessage,a=u.nameErrorMessage,n=u.phoneErrorMessage;if(t||a||n)f(Object(p.a)(Object(p.a)({},u),{},{notComplete:!0}));else{var r=s.clinicDetail.id?s.clinicDetail.id:s.clinicUser.id?s.clinicUser.id:0,l=u.email,o={name:c.name,email:c.email};c.phone&&(o.phone=c.phone);var m={request:[{email:l}],method:"POST",serviceCode:"ADD_CLINIC_USER",urlParams:"/".concat(r,"/users"),customHeaders:o},d={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(r),customHeaders:o};i(m,d)}}},Be("common_add"))))))},sr=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),mr=function(e){var t=Object.assign({},e),a=t.handleOpen,i=t.imgPreview,l=t.setImgPreview,o=t.open,c=t.setImageFile,s=t.handleSaveImage,m=t._setSnackbar,d=Object(n.useState)({error:!1,errorMessage:""}),u=Object(lt.a)(d,2),p=u[0],f=u[1],E=Object(n.useState)(null),g=Object(lt.a)(E,2),h=g[0],b=g[1],y=Object(n.useState)(!0),v=Object(lt.a)(y,2),_=v[0],O=v[1];Object(n.useEffect)((function(){o&&!h&&b(i)}),[o,h,i]);var C=function(){a(!1)},j=function(){var e=Object(Hn.a)(Fn.a.mark((function e(t){var a,n,r;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f({error:!1,errorMessage:""}),a={open:!0,severity:"warning"},!(n=t.target.files[0])){e.next=19;break}if(n.type.includes("image")){e.next=8;break}f({error:!0,errorMessage:"Must be image file"}),e.next=19;break;case 8:if(!(n.size>2e6)){e.next=12;break}f({error:!0,errorMessage:"Image is bigger than 2 MB"}),e.next=19;break;case 12:return e.next=14,en(n);case 14:(r=e.sent).message&&(a.message=r.message,m(a)),b(r.blobUrl),c(r.file),O(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Rt.a,{fullWidth:!0,open:o,onClose:C,scroll:"paper"},r.a.createElement(sr,{id:"max-width-dialog-title",onClose:C},t.label),r.a.createElement(wt.a,{dividers:!0},r.a.createElement("center",null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,sm:12},r.a.createElement(mt.a,{src:h,variant:"rounded",style:{width:150,height:150}}),r.a.createElement("div",null,r.a.createElement("input",{accept:"image/*",onChange:j,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(ht.a,{color:"error",variant:"caption"},p.errorMessage),r.a.createElement(At.a,{variant:"outlined",component:"span",size:"small",color:"primary"},Be("app_select_photo"))))))))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{variant:"outlined",color:"primary",onClick:function(e){b(i),a(!1),e.preventDefault()}},Be("app_cancel"))),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{disabled:_,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),l(h),b(null),a(!1),s()}},Be("common_change"))))))},dr=a(349),ur=function(e){return{labelRoot:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",marginLeft:20},inputRoot:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",height:20,width:60,marginLeft:20},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}},pr=Object(ct.a)(ur)((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),fr=Object(ct.a)(ur)((function(e){var t=Object.assign({},e),a=t.existingList,i=t.availableList,l=t.dialogTitle,o=t.availTitle,c=t.existingTitle,s=t.datePicker,m=t.timePicker,d=t.dialogWidth,u=t.open,f=t.classes,E=Object(n.useState)([]),g=Object(lt.a)(E,2),h=g[0],b=g[1],y=Object(n.useState)([]),v=Object(lt.a)(y,2),_=v[0],C=v[1],j=Object(n.useState)([]),S=Object(lt.a)(j,2),I=S[0],T=S[1],R=Object(n.useState)({openMonday:new Date("2020-10-30T08:00:00"),closeMonday:new Date("2020-10-30T17:00:00"),openTuesday:new Date("2020-10-30T08:00:00"),closeTuesday:new Date("2020-10-30T17:00:00"),openWednesday:new Date("2020-10-30T08:00:00"),closeWednesday:new Date("2020-10-30T17:00:00"),openThursday:new Date("2020-10-30T08:00:00"),closeThursday:new Date("2020-10-30T17:00:00"),openFriday:new Date("2020-10-30T08:00:00"),closeFriday:new Date("2020-10-30T17:00:00"),openSaturday:new Date("2020-10-30T08:00:00"),closeSaturday:new Date("2020-10-30T17:00:00"),openSunday:new Date("2020-10-30T08:00:00"),closeSunday:new Date("2020-10-30T17:00:00")}),k=Object(lt.a)(R,2),w=k[0],L=k[1],x=["Haha","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],A=function(){b([]),C([]),T([]),t.handleOpen(!1)};Object(n.useEffect)((function(){var e=[];if(s?a&&a.forEach((function(t){e.push(t)})):m?a&&a.forEach((function(t){var a="".concat(x[t.day],", ").concat(t.hour);e.push(a)})):a&&a.forEach((function(t){Object(hn.a)(i).forEach((function(a){a.id===t&&e.push(a.name)}))})),e)if(m){var t=a.map((function(e){return e.day}));C(e);var n=Object(hn.a)(i).map((function(e){return e.day})).filter((function(e){return!t.includes(e)}));b(n)}else{C(e);var r=Object(hn.a)(i).map((function(e){return e.name})).filter((function(t){return!e.includes(t)}));b(r)}}),[i,a,u]);var P=function(e){return function(t){if("timepicker"===t.target.name){var a=x[e],n=$a(w["open".concat(a)]),r=$a(w["close".concat(a)]),i="".concat(a,", ").concat(n,"-").concat(r);T([].concat(Object(hn.a)(I),[i]));var l=h.filter((function(t){return t!==e}));b(l)}else{T([].concat(Object(hn.a)(I),[e]));var o=h.filter((function(t){return t!==e}));b(o)}}},M=function(e){return function(t){var a=e.slice(0,e.length-13),n=[];if(x.forEach((function(e,t){e===a&&n.push(t)})),n[0]){b([].concat(Object(hn.a)(h),[n[0]]));var r=_.filter((function(t){return t!==e}));C(r)}else{b([].concat(Object(hn.a)(h),[e]));var i=_.filter((function(t){return t!==e}));C(i)}}},D=function(e){return function(t){var a=e.slice(0,e.length-13),n=[];if(x.forEach((function(e,t){e===a&&n.push(t)})),n[0]){b([].concat(Object(hn.a)(h),[n[0]]));var r=I.filter((function(t){return t!==e}));T(r)}else{b([].concat(Object(hn.a)(h),[e]));var i=I.filter((function(t){return t!==e}));T(i)}}},U=function(){var e=_.concat(I);b([]),C([]),T([]),t.handleSave(e),t.handleOpen(!1)},N=function(e){return function(e){var t=Ya(e);if("NaN-NaN-NaN"!==t&&"1970-01-01"!==t){T([].concat(Object(hn.a)(I),[t]));var a=h.filter((function(e){return e!==t}));b(a)}}},F=function(e){return function(t){if("openTime"===e.props){var a="open".concat(x[e.day]);L(Object(p.a)(Object(p.a)({},w),{},Object(O.a)({},a,t)))}else{var n="close".concat(x[e.day]);L(Object(p.a)(Object(p.a)({},w),{},Object(O.a)({},n,t)))}}};return r.a.createElement(Rt.a,{id:t.id,fullWidth:!0,maxWidth:d||"sm",open:t.open,onClose:A,scroll:"paper"},r.a.createElement(qt.a,{smDown:!0},r.a.createElement(pr,{id:"dialog-title",onClose:A},l),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},c),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to remove/edit ",c),r.a.createElement(gt.a,{dense:!0},_.map((function(e,t){return"none"===e?r.a.createElement(Ct.a,{primary:"- none",key:t}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e,value:e,checked:!0,onChange:M(e)})),r.a.createElement(Ct.a,{primary:e}))})),I[0]?I.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e.toString(),value:e,checked:!0,onChange:D(e)})),r.a.createElement(Ct.a,{secondary:e}))})):_[0]?r.a.createElement("div",null):r.a.createElement(Ct.a,{primary:"- none"}))),s?r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-edit",placeholder:"2018/12/25",onChange:N(),KeyboardButtonProps:{"aria-label":"change date"},disablePast:!0})))):m?r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to add ",c),r.a.createElement(gt.a,{dense:!0},h[0]?h.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(St.a,{item:!0,sm:1},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{name:"timepicker",edge:"start",onChange:P(e),checked:!1}))),r.a.createElement(St.a,{item:!0,sm:2,style:{marginLeft:5}},r.a.createElement(Ct.a,{secondary:x[e]})),r.a.createElement(St.a,{item:!0,sm:3,style:{marginLeft:25}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(dr.b,{size:"small",ampm:!1,margin:"normal",id:"openTime".concat(t),label:"Open",value:w["open".concat(x[e])],onChange:F({day:e,props:"openTime"}),InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}}))),r.a.createElement(St.a,{item:!0,sm:3,style:{marginLeft:15}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(dr.b,{size:"small",ampm:!1,margin:"normal",id:"closeTime".concat(t),label:"Close",value:w["close".concat(x[e])],onChange:F({day:e,props:"closeTime"}),InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}}))))})):r.a.createElement(Ct.a,{primary:"- none"}))):r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to add ",c),r.a.createElement(gt.a,{dense:!0},h[0]?h.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",onChange:P(e),checked:!1})),r.a.createElement(Ct.a,{secondary:e}))})):r.a.createElement(Ct.a,{primary:"- none"}))))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:A,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:U,variant:"contained",color:"primary"},"Save"))))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(pr,{id:"dialog-title",onClose:A},l),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(ht.a,{variant:"subtitle2"},c),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to remove/edit ",c),r.a.createElement(St.a,{container:!0},r.a.createElement(gt.a,{dense:!0},_.map((function(e,t){return"none"===e?r.a.createElement(Ct.a,{primary:"- none",key:t}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e,value:e,checked:!0,onChange:M(e)})),r.a.createElement(Ct.a,{primary:e}))})),I[0]?I.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",id:e.toString(),value:e,checked:!0,onChange:D(e)})),r.a.createElement(Ct.a,{secondary:e}))})):_[0]?r.a.createElement("div",null):r.a.createElement(Ct.a,{primary:"- none"}),s?r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0},r.a.createElement(qa.b,{size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-edit",placeholder:"2018/12/25",onChange:N(),KeyboardButtonProps:{"aria-label":"change date"},disablePast:!0})))):m?r.a.createElement(St.a,null,r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to add ",c),r.a.createElement(gt.a,{dense:!0},h[0]?h.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(St.a,{item:!0,sm:1,xs:1},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{name:"timepicker",edge:"start",onChange:P(e),checked:!1}))),r.a.createElement(St.a,{item:!0,sm:2,xs:2,style:{marginLeft:5}},r.a.createElement(Ct.a,{secondary:x[e]})),r.a.createElement(St.a,{item:!0,sm:3,xs:3,style:{marginLeft:25}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(dr.b,{size:"small",ampm:!1,margin:"normal",id:"openTime".concat(t),label:"Open",value:w["open".concat(x[e])],onChange:F({day:e,props:"openTime"}),InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}}))),r.a.createElement(St.a,{item:!0,sm:3,xs:3,style:{marginLeft:15}},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(dr.b,{size:"small",ampm:!1,margin:"normal",id:"closeTime".concat(t),label:"Close",value:w["close".concat(x[e])],onChange:F({day:e,props:"closeTime"}),InputLabelProps:{shrink:!0,classes:{root:f.labelRoot}},InputProps:{classes:{root:f.inputRoot}}}))))})):r.a.createElement(Ct.a,{primary:"- none"}))):r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},o),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Click to add ",c),r.a.createElement(gt.a,{dense:!0},h[0]?h.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Yn.a,null,r.a.createElement(za.a,{edge:"start",onChange:P(e),checked:!1})),r.a.createElement(Ct.a,{secondary:e}))})):r.a.createElement(Ct.a,{primary:"- none"})))))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"space-between",item:!0,xs:12,sm:12,style:{paddingLeft:50,marginTop:5,marginBottom:5,paddingRight:50}},r.a.createElement(At.a,{onClick:A,variant:"outlined",color:"primary",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},"Cancel"),r.a.createElement(At.a,{onClick:U,variant:"contained",color:"primary",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},"Save")))))})),Er=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info,clientList:e.clientList.list,roleAuth:e.system.roleAuth,updateUser:e.userList.filteredList,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setUserFilteredList:function(t){return e(Ie(t))},_setSecondRequest:function(t){return e(te(t))},_setSnackbar:function(t){return e(ve(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setPaxProduct:function(t){return e(pe(t))}}}))((function(e){var t=Object.assign({},e),a=t._setPaxProduct,i=t._setOpenScreen,l=t._setCompleteRequest,o=t._setSecondRequest,c=t.userInfo,s=t.roleUsed,m=t.paxList,d=t._setSnackbar,u=t.history,f=Object(n.useState)({}),E=Object(lt.a)(f,2),g=E[0],h=E[1],b=Object(n.useState)([]),y=Object(lt.a)(b,2),v=y[0],_=y[1],O=Object(n.useState)([]),C=Object(lt.a)(O,2),j=C[0],S=C[1],I=Object(n.useState)({clientList:[],dataToUpdate:null,open:!1,addClientOpen:!1}),T=Object(lt.a)(I,2),R=T[0],k=T[1],w=Object(n.useState)(null),L=Object(lt.a)(w,2),x=L[0],A=L[1],P=Object(n.useState)(null),M=Object(lt.a)(P,2),D=M[0],U=M[1],N=Object(n.useState)(null),F=Object(lt.a)(N,2),H=F[0],q=F[1],z=Object(n.useState)(!1),B=Object(lt.a)(z,2),W=B[0],G=B[1],V=Object(n.useState)(!1),K=Object(lt.a)(V,2),Y=K[0],Q=K[1],J=Object(n.useState)(null),X=Object(lt.a)(J,2),$=X[0],Z=X[1],ee=Object(n.useState)(!1),te=Object(lt.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(lt.a)(re,2),le=ie[0],oe=ie[1],ce=Object(n.useState)(!1),se=Object(lt.a)(ce,2),me=se[0],de=se[1],ue=["Haha","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pe=[{day:1,name:"Monday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:2,name:"Tuesday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:3,name:"Wednesday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:4,name:"Thursday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:5,name:"Friday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:6,name:"Saturday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")},{day:7,name:"Sunday",open:new Date("2020-10-30T08:00:00"),close:new Date("2020-10-30T17:00:00")}];Object(n.useEffect)((function(){var e=c.name,t=c.email,n=c.phone,r={name:e,email:t};n&&(r.phone=n),e&&t&&We({},"GET","healthProduct",null,r,null,0,(function(e){if(a(e.body),"biofarma.admin"===s||"voltras.admin"===s){var t=m.clinicDetail.id,n={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(t),customHeaders:r};l(n)}else if("clinic.admin"===s||"clinic.operator"===s){l({request:{},method:"GET",serviceCode:"GET_MY_CLINIC",customHeaders:r}),o(!0)}else console.log("NO ROLE",c)})),i("Clinic Setting")}),[c,s,i,m.clinicDetail,l,o,a]),Object(n.useEffect)((function(){var e={};if(e=m?m.clinicDetail&&m.clinicDetail.id?m.clinicDetail:m.clinicUser&&m.clinicUser.id?m.clinicUser:{}:{},h(e),e.logo_url&&A(e.logo_url),m.clinicUser&&m.clinicUser.users.length>0){var t=m.clinicUser.users.map((function(e){var t=Array.isArray(e.roles)?e.roles.join(", ").replace("member, ",""):"";return e.roles=t,e}));_(t)}var a=e.available_products_id,n=m.product,r=[];a&&a.length>0&&n.length>0&&(a.forEach((function(e){n.forEach((function(t){t.id===e&&r.push(t.name)}))})),S(r))}),[m]);var fe=function(e){k(Object(p.a)(Object(p.a)({},R),{},{addClientOpen:e}))},Ee=function(e){G(e)},ge=function(e){return ne(e)},he=function(e){return oe(e)},be=function(e){return de(e)};return r.a.createElement("div",null,r.a.createElement(cr,{label:Be("clinic_add_user"),handleOpen:fe,open:R.addClientOpen,clinicInfo:g,userInfo:c,handleAddUser:function(e,t){l(e),o(t),fe(!1)},paxList:m}),r.a.createElement(mr,{label:Be("clinic_logo"),handleOpen:Ee,open:W,imgPreview:x,setImgPreview:A,setImageFile:U,setImageType:q,handleSaveImage:function(){var e=m.clinicUser.id||m.myClinic.clinic_id,t=c.name?c.name:"",a=c.email?c.email:"",n=c.phone?c.phone:"",r={name:t,email:a};n&&(r.phone=n),Ge(D,H,D).then((function(t){if(t.ID){var a={request:{url:we.gatewayRepoFile+"/static-file-manager/retrieve?file=".concat(t.ID)},method:"POST",serviceCode:"ADD_CLINIC_LOGO",urlParams:"/".concat(e,"/logo_url"),customHeaders:r};l(a)}else console.log("wrong response")}))},_setSnackbar:d}),r.a.createElement(ir,{id:"delete-client",keepMounted:!0,open:Y,onClose:function(){Q(!1)},header:"Delete User",content:$?$.email:"",handleChoose:function(){var e=$,t=e.clinic_id,a=e.id,n={name:c.name,email:c.email};c.phone&&(n.phone=c.phone);var r={request:{},method:"DELETE",serviceCode:"DELETE_CLINIC_USER",urlParams:"/".concat(t,"/users/").concat(a),customHeaders:n},i={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(t),customHeaders:n};l(r),o(i)}}),r.a.createElement(fr,{id:"ProductEditDialog",dialogTitle:"Edit Product",availTitle:"Product Available",existingTitle:"Products",open:ae,handleOpen:ge,availableList:m.product,existingList:g.available_products_id,handleSave:function(e){var t=c.name,a=c.email,n=c.phone,r={name:t,email:a};n&&(r.phone=n);var i=m.clinicUser.id||m.myClinic.clinic_id,o="/".concat(i),s=[];e.forEach((function(e){m.product.forEach((function(t){t.name===e&&s.push(t.id)}))})),l({request:{available_products_id:s},method:"PATCH",serviceCode:"EDIT_CLINIC_SETTING",urlParams:o,customHeaders:r})}}),r.a.createElement(fr,{id:"DaysEditDialog",dialogWidth:"sm",dialogTitle:"Edit Vendor Open Days",availTitle:"Days Available",existingTitle:"Days",open:le,handleOpen:he,availableList:pe,existingList:g.operational?g.operational:[],handleSave:function(e){var t=[];e.forEach((function(e){var a=[];ue.forEach((function(t,n){t===e.slice(0,e.length-13)&&a.push(n)}));var n={day:a[0],hour:e.slice(e.length-11,e.length)};t.push(n)}));var a=g.vendor_close,n=m.clinicUser.id||m.myClinic.clinic_id,r="/".concat(n),i=c.name,o=c.email,s=c.phone,d={name:i,email:o};s&&(d.phone=s);var u=e.map((function(e){return e.slice(0,e.length-13)})),p=[],f=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].filter((function(e){return!u.includes(e)}));ue.forEach((function(e,t){f.includes(e)&&p.push(t)}));var E={date:a.date,day:p};l({request:{vendor_close:E,operational:t},method:"PATCH",serviceCode:"EDIT_CLINIC_SETTING",urlParams:r,customHeaders:d})},timePicker:!0}),r.a.createElement(fr,{id:"DateEditDialog",dialogTitle:"Edit Vendor Close Date",availTitle:"Pick Date",existingTitle:"Date",open:me,handleOpen:be,availableList:[],existingList:g.vendor_close?g.vendor_close.date:[],handleSave:function(e){var t=g.vendor_close,a=m.clinicUser.id||m.myClinic.clinic_id,n="/".concat(a),r=c.name,i=c.email,o=c.phone,s={name:r,email:i};o&&(s.phone=o);var d={date:e,day:t.day};l({request:{vendor_close:d},method:"PATCH",serviceCode:"EDIT_CLINIC_SETTING",urlParams:n,customHeaders:s})},datePicker:!0}),r.a.createElement(qt.a,{xsDown:!0},r.a.createElement(Pt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(St.a,{style:{margin:40,marginTop:1},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:7},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginTop:5}},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,Be("clinic_logo")))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:5,style:{marginLeft:15}},x?r.a.createElement(an.a,{title:"clinic.admin"===s?"Click to change logo":"Clinic Logo"},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0},r.a.createElement(st.a,{elevation:1,onClick:function(){return"clinic.admin"===s?Ee(!0):null}},r.a.createElement("img",{src:x,style:{height:100},alt:"Logo"}))),r.a.createElement(St.a,{item:!0,style:{marginLeft:15,visibility:"clinic.admin"===s?"visible":"hidden"}},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?Ee(!0):null}},r.a.createElement(Bn.a,null))))):"clinic.admin"===s?r.a.createElement(At.a,{color:"primary",variant:"outlined",size:"small",onClick:function(){return Ee(!0)}},Be("clinic_set_logo")):null)),r.a.createElement(St.a,{style:{marginTop:15},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,Be("clinic")," ID"))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:7,style:{marginLeft:15}},r.a.createElement(ht.a,null,g.id))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,Be("clinic_name")))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:7,style:{marginLeft:15}},r.a.createElement(ht.a,null,g.name))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,Be("common_address")))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:7,style:{marginLeft:15}},r.a.createElement(ht.a,null,g.address)))),r.a.createElement(St.a,{item:!0,xs:5})),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:15}},r.a.createElement(St.a,{item:!0,xs:7},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:5}},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Vendor Open"))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:5,style:{marginLeft:15}},g.operational&&g.operational.length>0?g.operational.map((function(e,t){return r.a.createElement(ht.a,{key:t}," - ",["null","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.day],", ",e.hour)})):r.a.createElement(ht.a,{color:"textSecondary",style:{display:"clinic.admin"===s?"":"none"}}," Click button to add/edit days")),r.a.createElement(St.a,{xs:1,item:!0,style:{display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Days"},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?he(!0):null}},r.a.createElement(Bn.a,null))))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:5}},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Vendor Close Day"))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:5,style:{marginLeft:15}},g.vendor_close&&g.vendor_close.day.length>0?g.vendor_close&&g.vendor_close.day.map((function(e,t){return r.a.createElement(ht.a,{key:t}," - ",["null","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e])})):r.a.createElement(ht.a,{color:"textSecondary",style:{display:"clinic.admin"===s?"":"none"}}," Click button to add/edit days"))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:1,style:{marginTop:5}},r.a.createElement(St.a,{item:!0,xs:3},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Vendor Close Date"))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:5,style:{marginLeft:15}},g.vendor_close&&g.vendor_close.date.length>0?g.vendor_close&&g.vendor_close.date.map((function(e,t){return r.a.createElement(ht.a,{key:t}," - ",e)})):r.a.createElement(ht.a,{color:"textSecondary",style:{display:"clinic.admin"===s?"":"none"}}," Click button to add/edit date")),r.a.createElement(St.a,{xs:1,item:!0,style:{display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Days"},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?be(!0):null}},r.a.createElement(Bn.a,null)))))),r.a.createElement(St.a,{item:!0,xs:5},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:2},r.a.createElement(ht.a,null,r.a.createElement("b",null,"Products"))),r.a.createElement(St.a,{item:!0,container:!0,xs:1,justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ht.a,null,":")),r.a.createElement(St.a,{item:!0,xs:7,style:{marginLeft:15}},j.length>0?j.map((function(e,t){return r.a.createElement(ht.a,{key:t}," - ",e)})):r.a.createElement(ht.a,{color:"textSecondary",style:{visibility:"clinic.admin"===s?"visible":"hidden"}}," Click button to add/edit products")),r.a.createElement(St.a,{xs:1,item:!0,style:{display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Product"},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?ge(!0):null}},r.a.createElement(Bn.a,null))))))),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:12},r.a.createElement(Wa.a,{style:{width:"100%"},title:Be("clinic_user_list"),columns:[{title:Be("app_name"),field:"name"},{title:Be("app_email"),field:"email"},{title:"Role",field:"roles"},{title:Be("app_phone"),field:"phone"}],data:v,actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,t){return a=t,new Promise((function(e,t){var n=m.clinicDetail.creation?m.clinicDetail.creation.email:m.clinicUser.creation?m.clinicUser.creation.email:null;n&&n!==a.email?(Z(a),Q(!0)):d({open:!0,severity:"warning",message:"Cannot delete clinic creator"}),e()}));var a}}],options:{actionsColumnIndex:-1,padding:"dense",paging:!1}}))),r.a.createElement(St.a,{style:{marginTop:25},container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(At.a,{style:{width:150,marginRight:10},variant:"outlined",color:"secondary",onClick:function(){return u.push("/KClinicList")},startIcon:r.a.createElement(Kn.a,null)},Be("app_back")),r.a.createElement(At.a,{style:{width:150,marginLeft:10},variant:"contained",color:"primary",onClick:function(){return fe(!0)},startIcon:r.a.createElement(Gn.a,null)},Be("clinic_add_user")))))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(Pt.a,{style:{marginRight:5}},r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Clinic Info")),r.a.createElement(St.a,{item:!0,xs:12,sm:12},x?r.a.createElement("div",{style:{marginLeft:11,marginBottom:7}},r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,paddingTop:15,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},Be("clinic_logo"))),r.a.createElement(St.a,{item:!0,xs:7,sm:7,style:{padding:3}},r.a.createElement(an.a,{title:"clinic.admin"===s?"Click to change logo":"Clinic Logo"},r.a.createElement(mt.a,{src:x||"/broken-image.jpg",style:{height:35,width:35},onClick:function(){return"clinic.admin"===s?Ee(!0):null}}))),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},Be("clinic")," ID")),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},g.id)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:11,color:"grey",padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},Be("clinic_name"))),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},g.name)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},Be("common_address"))),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},g.address)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},Be("Clinic Status"))),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:11,fontWeight:"bold",padding:3,color:"#00cb00",fontFamily:"Arial, Helvetica, sans-serif"}},g.status)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Vendor Open")),r.a.createElement(St.a,{item:!0,sm:5,xs:5},g.operational&&g.operational.length>0?g.operational.map((function(e,t){return r.a.createElement(ht.a,{key:t,style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}}," - ",["null","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.day],", ",e.hour)})):r.a.createElement(ht.a,{style:{display:"clinic.admin"===s?"":"none",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}}," Click button to add/edit days")),r.a.createElement(St.a,{item:!0,sm:2,xs:2,style:{display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Days",style:{padding:0}},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?he(!0):null}},r.a.createElement(Bn.a,{style:{fontSize:18}})))),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left",style:{marginTop:5}},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Vendor Close Day")),r.a.createElement(St.a,{item:!0,sm:7,xs:7,style:{marginTop:5}},g.vendor_close&&g.vendor_close.day.length>0?g.vendor_close&&g.vendor_close.day.map((function(e,t){return r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"},key:t}," - ",["null","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e])})):r.a.createElement(ht.a,{style:{display:"clinic.admin"===s?"":"none",color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}}," Click button to add/edit days")),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left",style:{marginTop:5}},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Vendor Close Date")),r.a.createElement(St.a,{item:!0,sm:5,xs:5,style:{marginTop:5}},g.vendor_close&&g.vendor_close.date.length>0?g.vendor_close&&g.vendor_close.date.map((function(e,t){return r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"},key:t}," - ",e)})):r.a.createElement(ht.a,{style:{display:"clinic.admin"===s?"":"none",color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}}," Click button to add/edit date")),r.a.createElement(St.a,{item:!0,sm:2,xs:2,style:{marginTop:5,display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Days",style:{padding:0}},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?be(!0):null}},r.a.createElement(Bn.a,{style:{fontSize:18}})))),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left",style:{marginTop:5}},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},"Product")),r.a.createElement(St.a,{item:!0,sm:5,xs:5,style:{marginTop:5}},j.length>0?j.map((function(e,t){return r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"},key:t}," - ",e)})):r.a.createElement(ht.a,{color:"textSecondary",style:{visibility:"clinic.admin"===s?"visible":"hidden",color:"grey",fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}}," Click button to add/edit products")),r.a.createElement(St.a,{item:!0,sm:2,xs:2,style:{marginTop:5,display:"clinic.admin"===s?"":"none"}},r.a.createElement(an.a,{title:"Add/Edit Product",style:{padding:0}},r.a.createElement(yt.a,{color:"inherit",onClick:function(){return"clinic.admin"===s?ge(!0):null}},r.a.createElement(Bn.a,{style:{fontSize:18}})))))):"clinic.admin"===s?r.a.createElement(At.a,{color:"primary",variant:"outlined",size:"small",onClick:function(){return Ee(!0)}},Be("clinic_set_logo")):null))),r.a.createElement(Pt.a,{style:{marginRight:5,marginTop:15}},r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"User List")),r.a.createElement(St.a,{item:!0,sm:12,xs:12},r.a.createElement(nn,{data:v,column:[{title:Be("app_name"),field:"name"},{title:Be("app_email"),field:"email"},{title:"Role",field:"roles"},{title:Be("app_phone"),field:"phone"}],button:!1})),r.a.createElement(St.a,{style:{marginTop:25,marginBottom:25,marginRight:15,marginLeft:15},item:!0,sm:12,xs:12},r.a.createElement(At.a,{style:{backgroundColor:"#00cb00",color:"white",fontSize:15,fontWeight:"bold",textTransform:"none",width:"100%",borderRadius:10,fontFamily:"Arial, Helvetica, sans-serif"},variant:"contained",color:"primary",onClick:function(){return fe(!0)}},Be("clinic_add_user"))))),r.a.createElement("div",{style:{height:100}}),r.a.createElement("canvas",{id:"canvas",style:{width:"300",display:"none"}})))})),gr=function(e){var t=r.a.useState("all"),a=Object(lt.a)(t,2),n=a[0],i=a[1],l=function(t){var a=t.target.value,n=e.props.userInfo,r=n.name?n.name:"",l=n.email?n.email:"",o=n.phone?n.phone:"",c={name:r,email:l};o&&(c.phone=o),i(a);var s="?&status=".concat(a);"all"!==a&&({request:{},method:"GET",serviceCode:"healthKlinik",customHeaders:c}.urlParams=s),e.setFilteredData(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt.a,{smDown:!0},"member"!==e.props.roleUsed?r.a.createElement(St.a,{container:!0,style:{marginTop:5}},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{marginLeft:20,marginTop:5}},r.a.createElement(St.a,{item:!0},r.a.createElement(ht.a,{variant:"subtitle1"},r.a.createElement("b",null,"Status:")," ")),r.a.createElement(St.a,{item:!0,style:{marginLeft:10}},r.a.createElement(va.a,{value:"all",control:r.a.createElement(_a.a,{size:"small",checked:"all"===n,onChange:l}),label:"All"}),r.a.createElement(va.a,{value:"active",control:r.a.createElement(_a.a,{size:"small",checked:"active"===n,onChange:l}),label:"Active"}),r.a.createElement(va.a,{value:"register",control:r.a.createElement(_a.a,{size:"small",checked:"register"===n,onChange:l}),label:"Register"})),r.a.createElement(St.a,{item:!0}," ",r.a.createElement("br",null)))):null),r.a.createElement(qt.a,{smUp:!0},"member"!==e.props.roleUsed?r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(St.a,{item:!0},r.a.createElement(ht.a,{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},r.a.createElement("b",null,"Status:")," ")),r.a.createElement(St.a,{item:!0,style:{marginLeft:10}},r.a.createElement(va.a,{value:"all",control:r.a.createElement(_a.a,{size:"small",checked:"all"===n,onChange:l}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"All ")}),r.a.createElement(va.a,{value:"active",control:r.a.createElement(_a.a,{size:"small",checked:"active"===n,onChange:l}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"Active ")}),r.a.createElement(va.a,{value:"register",control:r.a.createElement(_a.a,{size:"small",checked:"register"===n,onChange:l}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"Register ")}))):null))},hr=a(515),br=a.n(hr),yr=a(516),vr=a.n(yr),_r=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setSnackbar:function(t){return e(ve(t))},_setSecondRequest:function(t){return e(te(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setClinicDetail:function(t){return e(Ee(t))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t._setSecondRequest,c=t._setSnackbar,s=t.paxList,m=t._setClinicDetail,d=t.history,u=t.roleUsed,p=Object(n.useState)([]),f=Object(lt.a)(p,2),E=f[0],g=f[1],h=Object(n.useState)([]),b=Object(lt.a)(h,2),y=b[0],v=b[1],_=Object(n.useState)(!1),O=Object(lt.a)(_,2),C=O[0],j=O[1],S=Object(n.useState)(null),I=Object(lt.a)(S,2),T=I[0],R=I[1];Object(n.useEffect)((function(){a("Clinic List"),window.scrollTo(0,0);var e=[{title:"ID",field:"id",width:100},{title:Be("clinic_name"),field:"name",width:300},{title:Be("common_address"),field:"address"},{title:"Status",field:"status"}];g(e);var t=l.name,n=l.email,r=l.phone,o={name:t,email:n};r&&(o.phone=r),i({request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:o})}),[a,i,l]),Object(n.useEffect)((function(){var e=s.klinikList?s.klinikList:[];Array.isArray(e)&&e.length>0?(e.sort((function(e,t){return e.id-t.id})),v(e)):v([])}),[s]);var k=function(e){if("active"===e.status){var t={open:!0,severity:"success",message:Be("clinic_active")};c(t)}else R(e),j(!0)},w=function(e){var t=e.id,a=l.name?l.name:"",n=l.email?l.email:"",r=l.phone?l.phone:"",s={name:a,email:n};r&&(s.phone=r);var m={request:{},method:"DELETE",serviceCode:"DELETE_CLINIC",urlParams:"/".concat(t),customHeaders:s},d={request:{},method:"GET",serviceCode:"healthKlinik",urlParams:"",customHeaders:s};if("inactive"===e.status){var u={open:!0,severity:"success",message:Be("clinic_inactive")};c(u)}else i(m),o(d)},L=function(e){m(e);var t=e.id,a=l.name,n=l.email,r=l.phone,o={name:a,email:n};r&&(o.phone=r);var c={request:{},method:"GET",serviceCode:"GET_CLINIC_USER",urlParams:"/".concat(t),customHeaders:o};"member"===u?d.push("/KSetting"):i(c)},x=function(e){var t=s.klinikList?s.klinikList:[],a=[];a="active"===e?t.filter((function(e){return"active"===e.status})):"register"===e?t.filter((function(e){return"register"===e.status})):t,v(a)};return r.a.createElement(St.a,null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(gr,{props:t,setFilteredData:x}),r.a.createElement(qn,{title:"Clinic List",columns:E,data:y,parentProps:t,updatedata:k,deletedata:w,rowClicked:L,confirmdeletetext:Be("clinic_inactive_confirmation"),update:!0,action:"member"!==u,roleUsed:u}),r.a.createElement(ir,{id:"ringtone-menu",keepMounted:!0,open:C,onClose:function(){j(!1)},header:"Activate",content:T&&T.name,handleChoose:function(e){var t=l.name,a=l.email,n=l.phone,r={name:t,email:a};n&&(r.phone=n);var o={request:{},method:"POST",serviceCode:"SEND_CLINIC_ACTIVATION",urlParams:"/".concat(T.id,"/activation"),customHeaders:r};i(o)}}),r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-700}}))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(gr,{props:t,setFilteredData:x}),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Clinic List")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(nn,{data:y,column:E,button:!0,arrow:!0,onClickList:L,action:!0,IconDeleteCustomize:r.a.createElement(br.a,null),IconUpdateCustomize:r.a.createElement(vr.a,null),onClickDelete:w,onClickUpdate:k,titleTooltipDelete:"Delete",titleTooltipUpdate:"Active"})))))})),Or=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setClinicDetail:function(t){return e(Ee(t))},_setCityList:function(t){return e(he(t))},_setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=e.paxList,a=e._setCompleteRequest,i=e.userInfo,l=e._setCityList,o=e._setOpenScreen,c=Object(n.useState)({city:"",submitErrorMessage:"",clinic_parents:[]}),s=Object(lt.a)(c,2),m=s[0],d=s[1];Object(n.useEffect)((function(){o("Clinic Registration")}),[o]),Object(n.useEffect)((function(){var e=i.name,t=i.email,n=i.phone,r={name:e,email:t};n&&(r.phone=n),a({request:{},method:"GET",serviceCode:"GET_CITY_LIST",urlParams:"/cities?&citykey=a",customHeaders:r})}),[a,i]),Object(n.useEffect)((function(){d((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_parents:t.clinic_parents,parent_id:1===t.clinic_parents.length?parseInt(t.clinic_parents[0].id):0})}))}),[t.clinic_parents]);var u=function(e){return function(t){var a,n=Ea(e,t.target.value);d(Object(p.a)(Object(p.a)({},m),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),Object(O.a)(a,"isError",n.error),Object(O.a)(a,"submitErrorMessage",""),a)))}};return r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Pt.a,{variant:"elevation",style:{marginTop:20}},r.a.createElement(Mt.a,{style:{width:320,textAlign:"center"}},r.a.createElement(ht.a,{variant:"h5",style:{marginBottom:15}},r.a.createElement("b",null,Be("app_register"))," "),r.a.createElement(St.a,{container:!0,item:!0,direction:"column"},r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:15}},r.a.createElement(Ut.a,{error:!!m.clinicNameErrorMessage,htmlFor:"nameClinic"},Be("clinic_name")),r.a.createElement(Dt.a,{error:!!m.clinicNameErrorMessage,id:"standard-adornment-name",type:"text",onChange:u("clinicName")}),m.clinicNameErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"name-helper"},m.clinicNameErrorMessage):null),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:15,marginRight:5}},r.a.createElement(ha,{id:"registerClinicChooseCity",options:e.paxList.cityList[0]?e.paxList.cityList:[],optionItem:"city",label:Be("clinic_city"),notShrink:!0,handleInputChange:function(e){var n=i.name?i.name:"",r=i.email?i.email:"",o=i.phone?i.phone:"",c={name:n,email:r};o&&(c.phone=o);var s={request:{},method:"GET",serviceCode:"GET_CITY_LIST",urlParams:"/cities?&citykey=".concat(e),customHeaders:c};t.cityList&&e?a(s):l([{name:""}])},onPick:function(e){d(Object(p.a)(Object(p.a)({},m),{},{city:e?e.city:"",submitErrorMessage:""}))}})),r.a.createElement(Ft.a,{fullWidth:!0,style:{marginBottom:15}},r.a.createElement(Ut.a,{error:!!m.phoneErrorMessage,htmlFor:"standard-address"},Be("clinic_address")),r.a.createElement(Dt.a,{error:!!m.addressErrorMessage,id:"standard-adornment-address",type:"text",onChange:u("address")}),m.addressErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"address-helper-text"},m.addressErrorMessage):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(At.a,{onClick:function(e){e.preventDefault();var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l=m.city,o=m.clinicName,c=m.address,s={name:t,email:n};if(r&&(s.phone=r),l&&o&&c){var u={request:{city:l,name:o,address:c,parent_id:we.parentClinic,vendor_close:{day:[],date:[]},products:[],operational:[{day:1,hour:"08:00-17:00"},{day:2,hour:"08:00-17:00"},{day:3,hour:"08:00-17:00"},{day:4,hour:"08:00-17:00"},{day:5,hour:"08:00-17:00"},{day:6,hour:"08:00-17:00"}]},method:"POST",serviceCode:"CLINIC_REGISTRATION",customHeaders:s};a(u)}else d(Object(p.a)(Object(p.a)({},m),{},{submitErrorMessage:Be("err_submit")}))},fullWidth:!0,variant:"contained",color:"primary"},Be("app_register")),m.submitErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},m.submitErrorMessage):null))),r.a.createElement(St.a,{container:!0},r.a.createElement("div",{style:{height:window.screen.height-550}})))})),Cr=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),jr=function(e){var t=Object.assign({},e),a=Object(n.useState)(!0),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)({addRoleList:[]}),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=function(){d({addRoleList:[]}),t.handleOpen(!1),o(!0)},f=function(e){return function(t){var a,n=Ea(e,t.target.value);d(Object(p.a)(Object(p.a)({},m),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:u,scroll:"paper"},r.a.createElement(Cr,{id:"max-width-dialog-title",onClose:u},"Client: ",t.data?t.data.clientName:""),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},"Role Id"),r.a.createElement(gt.a,{dense:!0},m.addRoleList[0]?m.addRoleList.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Ct.a,{primary:"- "+e.roleId}))})):r.a.createElement(Ct.a,{secondary:"- none"}))),r.a.createElement(St.a,{item:!0,md:6},r.a.createElement(ht.a,{variant:"subtitle2"},"Description"),r.a.createElement(gt.a,{dense:!0},m.addRoleList[0]?m.addRoleList.map((function(e,t){return r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",key:t},r.a.createElement(Ct.a,{primary:"- "+e.roleDescription}))})):r.a.createElement(Ct.a,{secondary:"- none"}))),l?r.a.createElement(Pt.a,{style:{marginTop:20}},r.a.createElement(Mt.a,null,r.a.createElement(St.a,null,r.a.createElement(ht.a,{variant:"subtitle2"},"Add RoleId and Description")),r.a.createElement(St.a,null,r.a.createElement(ea.a,{autoFocus:!0,margin:"dense",size:"small",onChange:f("roleId"),id:"standard-roleId",label:"RoleId",placeholder:"RoleId",value:m.roleId,helperText:m.roleIdErrorMessage?m.roleIdErrorMessage:"",error:!!m.roleIdErrorMessage})),r.a.createElement(St.a,null,r.a.createElement(ea.a,{size:"small",onChange:f("roleDescription"),id:"standard-roleDesc",label:"Description",placeholder:"Role description",value:m.roleDescription,helperText:m.roleDescriptionErrorMessage?m.roleDescriptionErrorMessage:"",error:!!m.roleDescriptionErrorMessage}))),r.a.createElement(An.a,null,r.a.createElement(At.a,{disabled:!m.roleId||!m.roleDescription,variant:"outlined",size:"small",color:"secondary",onClick:function(){var e={};m.roleId&&m.roleDescription&&(e.roleId=m.roleId,e.roleDescription=m.roleDescription,d(Object(p.a)(Object(p.a)({},m),{},{addRoleList:[].concat(Object(hn.a)(m.addRoleList),[e]),roleId:"",roleDescription:""})),o(!1),e={})}},"Add"))):null)),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:u,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:function(){t.handleSave(m.addRoleList),t.handleOpen(!1),o(!0),d(Object(p.a)(Object(p.a)({},m),{},{addRoleList:[]}))},variant:"contained",color:"primary"},"Save")))))},Sr=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),Ir=function(e){var t=Object.assign({},e),a=Object(n.useState)(Object(O.a)({basicInfo:{}},t.dataField.id,t.dataField.field)),i=Object(lt.a)(a,2),l=i[0],o=i[1];Object(n.useEffect)((function(){o(Object(O.a)({},t.dataField.id,t.dataField.field))}),[t.dataField]);var c=function(){o({addRoleList:[]}),t.handleOpen({open:!1})},s=function(e){return function(a){var n,r=Ea(e,a.target.value);o(Object(p.a)(Object(p.a)({},l),{},(n={basicInfo:Object(p.a)(Object(p.a)({},l.basicInfo),{},Object(O.a)({},t.dataField.id,a.target.value))},Object(O.a)(n,t.dataField.id,a.target.value),Object(O.a)(n,e+"ErrorMessage",r.errorMessage),n)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:c,scroll:"paper"},r.a.createElement(Sr,{id:"max-width-dialog-title",onClose:c},"Client: ",t.data?t.data.clientName:""),r.a.createElement(wt.a,{dividers:!0},"initialUserRole"===t.dataField.id||"profile"===t.dataField.id?r.a.createElement(ea.a,{autoFocus:!0,fullWidth:!0,select:!0,margin:"dense",size:"small",onChange:s(t.dataField.id),id:"standard-roleId",label:t.dataField.title,placeholder:t.dataField.title,value:l[t.dataField.id]},"profile"===t.dataField.id?["Web Application","Android","IOS"].map((function(e){return r.a.createElement(Ln.a,{key:e,value:e},e)})):t.data.roleDetails.map((function(e){return r.a.createElement(Ln.a,{key:e.roleId,value:e.roleId},e.roleId)}))):r.a.createElement(ea.a,{autoFocus:!0,fullWidth:!0,margin:"dense",size:"small",onChange:s(t.dataField.id),id:"standard-roleId",label:t.dataField.title,placeholder:t.dataField.title,value:l[t.dataField.id],helperText:l["".concat(t.dataField.id,"ErrorMessage")]?l["".concat(t.dataField.id,"ErrorMessage")]:"",error:!!l["".concat(t.dataField.id,"ErrorMessage")]})),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:c,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:function(){t.handleSave(l.basicInfo),t.handleOpen(!1),o(Object(p.a)(Object(p.a)({},l),{},{addRoleList:[]}))},variant:"contained",color:"primary",disabled:"emailSender"===t.dataField.id||"emailSenderMaskingName"===t.dataField.id?!!l["".concat(t.dataField.id,"ErrorMessage")]:!l[t.dataField.id]||!!l["".concat(t.dataField.id,"ErrorMessage")]},"Edit")))))},Tr=Object(ct.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),Rr=function(e){var t=Object.assign({},e),a=Object(n.useState)({originUris:[],redirectUris:[]}),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=function(){o({addRoleList:[]}),t.handleOpen(!1)},s=function(e){return function(t){var a,n=Ea(e,t.target.value);o(Object(p.a)(Object(p.a)({},l),{},(a={},Object(O.a)(a,e,{uri:t.target.value}),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:t.open,onClose:c,scroll:"paper"},r.a.createElement(Tr,{id:"max-width-dialog-title",onClose:c},"Client: ",t.data?t.data.clientName:""),r.a.createElement(wt.a,{dividers:!0},t.redirect?r.a.createElement(ea.a,{autoFocus:!0,margin:"dense",size:"small",onChange:s("redirectUris"),id:"standard-roleId",label:"Redirect URI",placeholder:"Redirect URI",value:l.redirectUris?l.redirectUris.uri:"",helperText:l.redirectUrisErrorMessage?l.redirectUrisErrorMessage:"",error:!!l.redirectUrisErrorMessage}):r.a.createElement(ea.a,{autoFocus:!0,margin:"dense",size:"small",onChange:s("originUris"),id:"standard-roleId",label:"Origin URI",placeholder:"Origin URI",value:l.originUris?l.originUris.uri:"",helperText:l.originUrisErrorMessage?l.originUrisErrorMessage:"",error:!!l.originUrisErrorMessage})),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:c,variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:function(){t.redirect?t.handleSave(l.redirectUris):t.handleSave(l.originUris),t.handleOpen(!1),o(Object(p.a)(Object(p.a)({},l),{},{addRoleList:[]}))},variant:"contained",color:"primary",disabled:function(){var e=l.originUris?l.originUris.uri:"",t=l.redirectUris?l.redirectUris.uri:"";return!!l.originUrisErrorMessage||(!!l.redirectUrisErrorMessage||!e&&!t)}()},"Save")))))},kr=a(31),wr=a(484),Lr=a(472),xr=a(467),Ar=a(485),Pr=a(482),Mr=a(506),Dr=a(473),Ur=a(205),Nr=a.n(Ur),Fr=a(207),Hr=a.n(Fr),qr=a(206),zr=a.n(qr),Br=a(204),Wr=a.n(Br),Gr=Object(Bt.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},table:{minWidth:500},rootToolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)}}})),Vr=function(e){var t=Object.assign({},e),a=t.column,i=t.data;i.map((function(e){return a.map((function(t){return"boolean"===typeof e[t.field]&&(e[t.field]?e[t.field]="True":e[t.field]="False"),null})),null})),Object(n.useEffect)((function(){return b(i),function(){O("")}}),[i]);var l=Gr(),o=Object(n.useState)(0),c=Object(lt.a)(o,2),s=c[0],m=c[1],d=Object(n.useState)(5),u=Object(lt.a)(d,2),p=u[0],f=u[1],E=Object(n.useState)([]),g=Object(lt.a)(E,2),h=g[0],b=g[1],y=Object(n.useState)(""),v=Object(lt.a)(y,2),_=v[0],O=v[1],C=p-Math.min(p,h.length-s*p),j=function(e,t){m(t)},S=function(e){f(parseInt(e.target.value,10)),m(0)},I=function(e){e.target.value?(b(i.filter((function(t){return t.clientId===e.target.value}))),O(e.target.value),m(0)):(b(i),O(e.target.value))},T=function(e,t){return e.filter((function(e,a,n){return n.map((function(e){return e[t]})).indexOf(e[t])===a}))};return r.a.createElement(st.a,{className:l.root},r.a.createElement(ft.a,null,r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:10},r.a.createElement(ht.a,{className:l.title,variant:"h6",id:"tableTitle",component:"div"},t.title)),r.a.createElement(St.a,{item:!0,sm:2},t.options?t.options.filterClientId?r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(ea.a,{label:"filter By Client Id",fullWidth:!0,placeholder:"ClientId",onChange:I,value:_,select:!0,InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{key:null,value:null},"All"),T(i,"clientId").map((function(e){return r.a.createElement(Ln.a,{key:e.clientId,value:e.clientId},e.clientId)})))):"":r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(ea.a,{label:"filter By Client Id",fullWidth:!0,placeholder:"ClientId",onChange:I,value:_,select:!0,InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{key:null,value:null},"All"),T(i,"clientId").map((function(e){return r.a.createElement(Ln.a,{key:e.clientId,value:e.clientId},e.clientId)}))))))),r.a.createElement(wr.a,{className:l.table,size:"small","aria-label":"a dense table"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,a.map((function(e,t){return r.a.createElement(xr.a,{key:t,align:"left"},e.title)})),r.a.createElement(xr.a,{align:"right"},"Actions"))),r.a.createElement(Lr.a,null,(p>0?h.slice(s*p,s*p+p):h).map((function(e,n){return r.a.createElement(Dr.a,{key:n},a.map((function(t,a){return r.a.createElement(xr.a,{key:a,align:"left"},e[t.field])})),r.a.createElement(xr.a,{align:"right"},r.a.createElement(an.a,{title:"Edit"},r.a.createElement(Bn.a,{onClick:function(){return function(e){t.handleEditOpen(!0,!0,e)}(e)},style:{cursor:"pointer"}}))))})),C>0&&r.a.createElement(Dr.a,{style:{height:53*C}},r.a.createElement(xr.a,{colSpan:6}))),t.options?t.options.pagination?r.a.createElement(Ar.a,null,r.a.createElement(Dr.a,null,r.a.createElement(Mr.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:h.length,rowsPerPage:p,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:j,onChangeRowsPerPage:S,ActionsComponent:Yr}))):"":r.a.createElement(Ar.a,null,r.a.createElement(Dr.a,null,r.a.createElement(Mr.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:h.length,rowsPerPage:p,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:j,onChangeRowsPerPage:S,ActionsComponent:Yr})))))},Kr=Object(Bt.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Yr(e){var t=Kr(),a=Object(kr.a)(),n=e.count,i=e.page,l=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:t.root},r.a.createElement(yt.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page"},"rtl"===a.direction?r.a.createElement(Wr.a,null):r.a.createElement(Nr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page"},"rtl"===a.direction?r.a.createElement(zr.a,null):r.a.createElement(Hr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(n/l)-1,"aria-label":"next page"},"rtl"===a.direction?r.a.createElement(Hr.a,null):r.a.createElement(zr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/l)-1))},disabled:i>=Math.ceil(n/l)-1,"aria-label":"last page"},"rtl"===a.direction?r.a.createElement(Nr.a,null):r.a.createElement(Wr.a,null)))}var Qr=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},Jr=Object(ct.a)(Qr)((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),Xr=Object(ct.a)(Qr)((function(e){var t=Object.assign({},e),a=t.classes,i=t.dataToUpdate,l=Object(n.useState)({dataToUpdate:{}}),o=Object(lt.a)(l,2),c=o[0],s=o[1];Object(n.useEffect)((function(){i&&s({dataToUpdate:i})}),[i,t.data]);var m=function(){t.handleClose(!1,!0)},d=function(e){return function(t){var a;s(Object(p.a)(Object(p.a)({},c),{},{dataToUpdate:Object(p.a)(Object(p.a)({},c.dataToUpdate),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"Edit",t.target.value),a))}))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:t.open,onClose:m,scroll:"paper"},r.a.createElement(Jr,{id:"max-width-dialog-title",onClose:m},"Edit Messaging Template"),r.a.createElement(wt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(ea.a,{fullWidth:!0,id:"messagingTemplateCode",onChange:d("messagingTemplateCode"),value:c.dataToUpdate?c.dataToUpdate.messagingTemplateCode:"",label:"Code",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,select:!0,onChange:d("messagingTemplateLang"),id:"messagingTemplateLang",value:c.dataToUpdate?c.dataToUpdate.messagingTemplateLang:"",label:"Languange",InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{value:"en"},"EN"),r.a.createElement(Ln.a,{value:"id"},"ID")),r.a.createElement(ea.a,{fullWidth:!0,label:"Subject",id:"subjectTemplate",onChange:d("subjectTemplate"),value:c.dataToUpdate?c.dataToUpdate.subjectTemplate:"",InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{fullWidth:!0,multiline:!0,rows:5,onChange:d("contentTemplate"),id:"contentTemplate",label:"Content",value:c.dataToUpdate?c.dataToUpdate.contentTemplate:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{color:"primary",variant:"contained",className:a.addButton,onClick:function(){delete c.dataToUpdate.messagingTemplateCodeEdit,delete c.dataToUpdate.messagingTemplateLangEdit,delete c.dataToUpdate.subjectTemplateEdit,delete c.dataToUpdate.contentTemplateEdit,t.handleClose(!1),t.handleSave(c.dataToUpdate)}},"Edit")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:m,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),$r=Object(o.b)((function(e){return{messagingList:e.clientList.messagingList,userInfo:e.userInfo.info}}),(function(e){return{_setClientMessagingEdit:function(t){e(function(e){return{type:"SET_CLIENT_MESSAGE_EDIT",val:e}}(t))}}}))((function(e){var t=Object.assign({},e),a=t.userInfo,i=t.messagingList,l=t._setClientMessagingEdit,o=t.completeRequest,c=Object(n.useState)([]),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=Object(n.useState)([]),f=Object(lt.a)(u,2),E=f[0],g=f[1],h=Object(n.useState)([]),b=Object(lt.a)(h,2),y=b[0],v=b[1],_=Object(n.useState)({}),O=Object(lt.a)(_,2),C=O[0],j=O[1],S=Object(n.useState)({}),I=Object(lt.a)(S,2),T=I[0],R=I[1],k=Object(n.useState)([]),w=Object(lt.a)(k,2),L=w[0],x=w[1],A=Object(n.useState)([]),P=Object(lt.a)(A,2),M=P[0],D=P[1],U=Object(n.useState)({clientList:[],dataField:{},dataToUpdate:null,messageToUpdate:null,open:!1,openBasicInfo:!1,openOriginOri:!1,openRedirectOri:!1,openTemplateMessage:!1}),N=Object(lt.a)(U,2),F=N[0],H=N[1],q=Object(n.useState)(!0),z=Object(lt.a)(q,2),B=z[0],W=z[1];Object(n.useEffect)((function(){var e=a.name,n=a.email,r=a.phone,i={name:e,email:n},l=t.data.clientId;r&&(i.phone=r);var c={request:{clientId:l},method:"GET",serviceCode:"SELECT_ALL_MESSAGE",urlParams:"/clients/".concat(l,"/messaging-templates/")};o(c)}),[a,o,t.data.clientId]),Object(n.useEffect)((function(){var e=[],a=[],n=Object(p.a)({},t.data);Array.isArray(t.data.originURIs)&&t.data.originURIs.map((function(t,a){return e.push({uri:t,id:a}),null})),Array.isArray(t.data.redirectURIs)&&t.data.redirectURIs.map((function(e,t){return a.push({uri:e,id:t}),null})),g(e),v(a),j(t.data),x([{title:"Client ID",id:"clientId",field:n.clientId,edit:!1},{title:"Client Secret",field:n.clientSecret,id:"clientSecret",edit:!1},{title:"Client Name",field:n.clientName,id:"clientName",edit:!0},{title:"Initial Role",id:"initialUserRole",field:n.initialUserRole,edit:!0},{title:"Profile",id:"profile",field:n.profile,edit:!0},{title:"Email Sender",id:"emailSender",field:n.emailSender,edit:!0},{title:"Email Masking Name",id:"emailSenderMaskingName",field:n.emailSenderMaskingName,edit:!0},{title:"Client Domain",id:"clientDomain",field:n.clientDomain,edit:!0}]),d(t.data.roleDetails?t.data.roleDetails:[{roleId:"jadul",roleDescription:"save to delete"}]),D(0!==i.length?i:[{messagingTemplateCode:"",messagingTemplateLang:""}])}),[t.data,i]);var G=Object(n.useState)(!1),V=Object(lt.a)(G,2),K=V[0],Y=V[1],Q=Object(n.useState)({}),J=Object(lt.a)(Q,2),X=J[0],$=J[1],Z=function(){t.handleClose()},ee=function(e){H(Object(p.a)(Object(p.a)({},F),{},{open:e}))},te=function(e){H(Object(p.a)(Object(p.a)({},F),{},{openOriginOri:e}))},ae=function(e){H(Object(p.a)(Object(p.a)({},F),{},{openRedirectOri:e}))},ne=function(e){H(Object(p.a)(Object(p.a)({},F),{},{openBasicInfo:e.open,dataField:e}))},re=function(e,t,a){H(Object(p.a)(Object(p.a)({},F),{},{openTemplateMessage:e,messageToUpdate:a}))};return r.a.createElement(Pt.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(St.a,{style:{margin:35,marginTop:15},container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(At.a,{size:"large",onClick:Z,color:"secondary",startIcon:r.a.createElement(Kn.a,null),variant:"outlined"},"Back")),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0,xs:12,style:{marginTop:10,marginBottom:10}},r.a.createElement(st.a,{style:{paddingLeft:20}},r.a.createElement(ht.a,{variant:"h6",style:{paddingBottom:20}},"Basic Information"),r.a.createElement(St.a,{container:!0,style:{marginBottom:15}},r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(ht.a,null,"Information")),r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(ht.a,{style:{textAlign:"right",paddingRight:5}},"Actions"))),L.map((function(e){return r.a.createElement("div",null,r.a.createElement(St.a,{container:!0,style:{marginBottom:8}},r.a.createElement(St.a,{item:!0,xs:2},r.a.createElement(ht.a,null,e.title)),r.a.createElement(St.a,{item:!0,xs:8},r.a.createElement(ht.a,{style:{fontSize:14}},e.field)),e.edit?r.a.createElement(St.a,{container:!0,item:!0,xs:2,justify:"flex-end",style:{paddingRight:15}},r.a.createElement(Bn.a,{onClick:function(){return ne(Object(p.a)(Object(p.a)({},e),{},{open:!0}))}})):""),r.a.createElement(bt.a,null))})))),r.a.createElement(St.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(Vr,{title:"Messaging Template",column:[{title:"Code",field:"messagingTemplateCode"},{title:"Languange",field:"messagingTemplateLang"},{title:"Subject",field:"subjectTemplate"}],handleEditOpen:re,data:0!==i.length?i:[{messagingTemplateCode:"",messagingTemplateLang:""}],options:{pagination:!0,filterClientId:!1}})),r.a.createElement(St.a,{item:!0,xs:12,style:{marginTop:25}},r.a.createElement(Wa.a,{style:{width:"100%"},title:"Available Role",columns:[{title:"Role ID",field:"roleId",width:300},{title:"Description",field:"roleDescription"}],data:m,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(hn.a)(m);n.map((function(a){return a.roleId===t.roleId&&(a.roleId=e.roleId,a.roleDescription=e.roleDescription),null})),d(Object(hn.a)(n)),W(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){(function(e){return new Promise((function(t,a){var n=m.filter((function(t){return t.roleId!==e.roleId}));d(n),W(!1),t()}))})(e).then((function(e){return t()}))}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}}))),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(At.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return ee(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Gn.a,null)},"Add New Role"),r.a.createElement(St.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(Wa.a,{style:{width:"100%"},title:"Origin URI",columns:[{title:"URI",field:"uri"}],data:E,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(hn.a)(E);n[t.id].uri=e.uri,g(Object(hn.a)(n)),W(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){var a=Object(hn.a)(E),n=e.id;a.splice(n,1),g(Object(hn.a)(a)),W(!1),t()}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}})),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(At.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return te(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Gn.a,null)},"Add Origin URI")),r.a.createElement(St.a,{item:!0,xs:12,style:{marginTop:15}},r.a.createElement(Wa.a,{style:{width:"100%"},title:"Redirect URI",columns:[{title:"URI",field:"uri"}],data:y,editable:{onRowUpdate:function(e,t){return new Promise((function(a){var n=Object(hn.a)(y);n[t.id].uri=e.uri,g(Object(hn.a)(n)),W(!1),a()}))},onRowDelete:function(e){return new Promise((function(t){var a=Object(hn.a)(y),n=e.id;a.splice(n,1),v(Object(hn.a)(a)),W(!1),t()}))}},localization:{body:{editRow:{deleteText:"Apakah anda yakin menghapus data ini?"}}},options:{actionsColumnIndex:-1,padding:"dense",search:!1,paging:!1}})),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(At.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return ae(!0)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Gn.a,null)},"Add Redirect URI")),r.a.createElement(St.a,{style:{marginTop:30},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(At.a,{onClick:function(){var e=m,a=[],n=[];E.map((function(e){return a.push(e.uri),null})),y.map((function(e){return n.push(e.uri),null}));var r=t.data.clientId,i="/clients/".concat(r,"/"),o={request:Object(p.a)(Object(p.a)({},T),{},{clientRoles:e,originURIs:a,redirectURIs:n,clientId:r}),method:"PATCH",serviceCode:"UPDATE_CLIENT_DETAIL",urlParams:i},c=Object(p.a)(Object(p.a)({},X),{},{updateMessageTemplate:K,clientId:r});l(c),t.completeRequest(o),t.handleClose()},style:{marginRight:"15px",paddingLeft:"50px",paddingRight:"50px",color:"white",fontSize:18,lineHeight:2.1},variant:"contained",color:"primary",disabled:B},"Save"),r.a.createElement(At.a,{variant:"contained",color:"secondary",style:{marginRight:"15px",paddingLeft:"50px",paddingRight:"50px",color:"white",fontSize:18,lineHeight:2.1},onClick:Z},"Cancel")))),r.a.createElement(jr,{handleSave:function(e){d([].concat(Object(hn.a)(m),Object(hn.a)(e))),W(!1)},dataToUpdate:F.dataToUpdate,data:C,clientList:F.clientList,open:F.open,handleOpen:ee}),r.a.createElement(Ir,{handleSave:function(e){L.map((function(t){return t.id===F.dataField.id&&(t.field=e[F.dataField.id]),null})),delete e.emailSenderErrorMessage,delete e.emailSenderMaskingNameErrorMessage,"emailSender"===F.dataField.id&&(e[F.dataField.id]=null),"emailSenderMaskingName"===F.dataField.id&&(e[F.dataField.id]=null),x(L),R(e),W(!1)},open:F.openBasicInfo,dataToUpdate:F.dataToUpdate,data:C,dataField:F.dataField,clientList:F.clientList,handleOpen:ne}),r.a.createElement(Rr,{open:F.openOriginOri,handleOpen:te,handleSave:function(e){g([].concat(Object(hn.a)(E),[e])),W(!1)},data:C,redirect:!1}),r.a.createElement(Rr,{open:F.openRedirectOri,handleOpen:ae,handleSave:function(e){v([].concat(Object(hn.a)(y),[e])),W(!1)},data:C,redirect:!0}),r.a.createElement(Xr,{open:F.openTemplateMessage,handleClose:re,dataToUpdate:F.messageToUpdate,data:M,handleSave:function(e){i.forEach((function(t,a){t.messagingTemplateId===e.messagingTemplateId&&(i[a]=e)})),D(i),$(e),Y(!0),W(!1)}}))})),Zr=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,messagingList:e.clientList.messagingList}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.clientList,c=Object(n.useState)(!1),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=Object(n.useState)({}),f=Object(lt.a)(u,2),E=f[0],g=f[1],h=Object(n.useState)(""),b=Object(lt.a)(h,2),y=b[0],v=b[1];Object(n.useEffect)((function(){a("Client List")}),[a]),Object(n.useEffect)((function(){var e=l.name,t=l.email,a=l.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_CLIENT",customHeaders:n};0===o.length&&i(r)}),[]);var _=Object(n.useState)({columns:[{title:"Name",field:"clientName"},{title:"Client Id",field:"clientId"},{title:"Type",field:"type"}],data:[],dataToProcess:null}),O=Object(lt.a)(_,2),C=O[0],j=O[1],S=Object(n.useState)({open:!1}),I=Object(lt.a)(S,2),T=I[0],R=I[1];Object(n.useEffect)((function(){o[0]&&(o.forEach((function(e){e.roleDetails=e.roleDetails?e.roleDetails:Array.isArray(e.clientRoles)?e.clientRoles:"",e.clientRoles=Array.isArray(e.clientRoles)?e.clientRoles.map((function(e){return e.roleId})).join(", "):e.clientRoles})),j((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:o})})))}),[o]);return r.a.createElement("div",null,T.open?r.a.createElement($r,{completeRequest:i,open:T.open,handleClose:function(){return R(Object(p.a)(Object(p.a)({},T),{},{open:!1}))},data:C.dataToProcess}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(qn,{confirmdeletetext:"Apakah anda yakin menghapus data ini?",title:"Backoffice Client List",columns:C.columns,data:C.data,updatedata:function(e,t){return new Promise((function(a,n){t&&(j((function(a){var n=Object(hn.a)(a.data);return n[n.indexOf(t)]=e,Object(p.a)(Object(p.a)({},a),{},{data:n})})),a())}))},deletedata:function(e){return new Promise((function(t,a){var n=e.clientId,r="/clients/".concat(n);g({request:{},method:"DELETE",serviceCode:"DELETE_CLIENT",urlParams:r}),v(e.clientName),d(!0),t()}))},rowClicked:function(e){j(Object(p.a)(Object(p.a)({},C),{},{dataToProcess:e})),R(Object(p.a)(Object(p.a)({},T),{},{open:!0}))},action:!0})),r.a.createElement(ir,{id:"ringtone-menu",keepMounted:!0,open:m,onClose:function(){d(!1)},value:"Soft Delete",handleChoose:function(e){"Soft Delete"===e?(E.request.isForceDelete=!1,t._setCompleteRequest(E)):(E.request.isForceDelete=!0,t._setCompleteRequest(E))},userName:y}))})),ei=function(e){var t=Object.assign({},e),a=t.form,n=t.handleChange,i=t.setShowAddRoles,l=t.handleAddClientRole;return r.a.createElement(Pt.a,null,r.a.createElement(Mt.a,null,r.a.createElement(St.a,null,r.a.createElement(ht.a,{variant:"subtitle2"},"Add RoleId and Description")),r.a.createElement(St.a,null,r.a.createElement(ea.a,{margin:"dense",size:"small",onChange:n("roleId"),id:"standard-roleId",label:"RoleId",placeholder:"RoleId",error:!!a.roleIdErrorMessage,value:a.roleId})),r.a.createElement(St.a,null,r.a.createElement(ea.a,{size:"small",onChange:n("roleDescription"),id:"standard-roleDesc",label:"Description",placeholder:"Role description",helperText:a.roleDescriptionErrorMessage?a.roleDescriptionErrorMessage:"",error:!!a.roleDescriptionErrorMessage,value:a.roleDescription}))),r.a.createElement(An.a,null,r.a.createElement(At.a,{size:"small",color:"primary",onClick:function(){return i(!1)}},"Cancel"),r.a.createElement(At.a,{size:"small",color:"secondary",onClick:l},"Add")))},ti=[{value:"public",label:"Public"},{value:"confidential",label:"Confidential"}],ai=[{value:"Web Application",label:"Web Application"},{value:"iOS",label:"iOS"},{value:"Android",label:"Android"}],ni=Object(ct.a)((function(e){return{asterisk:{color:"red"}}}))((function(e){var t=Object.assign({},e),a=t.form,n=t.handleChange,i=t.setFormFocus,l=t.formFocus,o=t.helpTextOrigin,c=t.setHelpTextOrigin,s=t.helpTextRedirect,m=t.setHelpTextRedirect,d=t.classes;return r.a.createElement(St.a,{item:!0,xs:12,md:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,xs:12,md:8,style:{marginLeft:15,marginRight:15}},r.a.createElement(ea.a,{size:"small",onChange:n("clientId"),id:"standard-clientId",label:"Client Id",required:!0,helperText:a.clientIdErrorMessage?a.clientIdErrorMessage:"",error:!!a.clientIdErrorMessage,fullWidth:!0,margin:"dense",value:a.clientId,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{clientId:!0}))},onBlur:function(){return a.clientId?i(Object(p.a)(Object(p.a)({},l),{},{clientId:!0})):i(Object(p.a)(Object(p.a)({},l),{},{clientId:!1}))},InputLabelProps:{shrink:!!l.clientId,classes:{asterisk:d.asterisk}}}),r.a.createElement(ea.a,{size:"small",onChange:n("clientName"),id:"standard-clientName",label:"Client Name",required:!0,helperText:a.clientNameErrorMessage?a.clientNameErrorMessage:"",error:!!a.clientNameErrorMessage,fullWidth:!0,margin:"dense",value:a.clientName,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{clientName:!0}))},onBlur:function(){return a.clientName?i(Object(p.a)(Object(p.a)({},l),{},{clientName:!0})):i(Object(p.a)(Object(p.a)({},l),{},{clientName:!1}))},InputLabelProps:{shrink:!!l.clientName,classes:{asterisk:d.asterisk}}}),r.a.createElement(ea.a,{size:"small",onChange:n("clientType"),id:"standard-clientType",required:!0,label:"Client Type",select:!0,value:a.clientType,InputLabelProps:{classes:{asterisk:d.asterisk}},fullWidth:!0,margin:"dense"},ti.map((function(e,t){return r.a.createElement(Ln.a,{value:e.value,key:t+2},e.label)}))),r.a.createElement(ea.a,{size:"small",onChange:n("profile"),id:"standard-clientProfile",required:!0,label:"Client Profile",select:!0,value:a.profile,fullWidth:!0,margin:"dense",InputLabelProps:{classes:{asterisk:d.asterisk}}},ai.map((function(e,t){return r.a.createElement(Ln.a,{value:e.value,key:t+11},e.label)}))),r.a.createElement(ea.a,{size:"small",onChange:n("clientDomain"),id:"standard-clientName",label:"Client Domain",helperText:a.clientDomainErrorMessage?a.clientDomainErrorMessage:"",error:!!a.clientDomainErrorMessage,fullWidth:!0,margin:"dense",value:a.clientDomain,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{clientDomain:!0}))},onBlur:function(){return a.clientDomain?i(Object(p.a)(Object(p.a)({},l),{},{clientDomain:!0})):i(Object(p.a)(Object(p.a)({},l),{},{clientDomain:!1}))},InputLabelProps:{shrink:!!l.clientDomain}}),r.a.createElement(ea.a,{size:"small",onChange:n("emailSender"),id:"standard-clientId",label:"Email Sender",helperText:a.emailSenderErrorMessage?a.emailSenderErrorMessage:"",error:!!a.emailSenderErrorMessage,fullWidth:!0,margin:"dense",value:a.emailSender,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{emailSender:!0}))},onBlur:function(){return a.emailSender?i(Object(p.a)(Object(p.a)({},l),{},{emailSender:!0})):i(Object(p.a)(Object(p.a)({},l),{},{emailSender:!1}))},InputLabelProps:{shrink:!!l.emailSender}}),r.a.createElement(ea.a,{size:"small",onChange:n("emailSenderMaskingName"),id:"standard-clientId",label:"Email Sender Masking Name",helperText:a.emailSenderMaskingNameErrorMessage?a.emailSenderMaskingNameErrorMessage:"",error:!!a.emailSenderMaskingNameErrorMessage,fullWidth:!0,margin:"dense",value:a.emailSenderMaskingName,onFocus:function(){return i(Object(p.a)(Object(p.a)({},l),{},{emailSenderMaskingName:!0}))},onBlur:function(){return a.emailSenderMaskingName?i(Object(p.a)(Object(p.a)({},l),{},{emailSenderMaskingName:!0})):i(Object(p.a)(Object(p.a)({},l),{},{emailSenderMaskingName:!1}))},InputLabelProps:{shrink:!!l.emailSenderMaskingName}}),r.a.createElement(ea.a,{size:"small",onChange:n("originURIs"),id:"standard-originURIs",label:"Origin URI",required:!0,placeholder:"http://example.com",helperText:o?"Press Enter to add more URI!":"",fullWidth:!0,multiline:!0,margin:"dense",value:a.originURIs,onFocus:function(){i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!0})),c(!0)},onBlur:function(){return a.originURIs?i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!0})):i(Object(p.a)(Object(p.a)({},l),{},{originURIs:!1}))},InputLabelProps:{shrink:!!l.originURIs,classes:{asterisk:d.asterisk}}}),r.a.createElement(ea.a,{size:"small",onChange:n("redirectURIs"),id:"standard-redirectURIs",required:!0,label:"Redirect URI",placeholder:"http://example.com/home",helperText:s?"Press Enter to add more URI!":"",fullWidth:!0,multiline:!0,margin:"dense",value:a.redirectURIs,onFocus:function(){i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!0})),m(!0)},onBlur:function(){return a.redirectURIs?i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!0})):i(Object(p.a)(Object(p.a)({},l),{},{redirectURIs:!1}))},InputLabelProps:{shrink:!!l.redirectURIs,classes:{asterisk:d.asterisk}}}),r.a.createElement(ea.a,{size:"small",onChange:n("initialRole"),id:"standard-initialRole",required:!0,label:"Initial Role",helperText:a.initialRoleErrorMessage?a.initialRoleErrorMessage:"",error:!!a.initialRoleErrorMessage,fullWidth:!0,multiline:!0,margin:"dense",value:a.initialRole,InputLabelProps:{classes:{asterisk:d.asterisk}}}))))})),ri=Object(o.b)((function(e){return{userList:e.userList.list,userDetail:e.userList.detail,userFiltered:e.userList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=Object(n.useState)(!1),c=Object(lt.a)(o,2),s=c[0],m=c[1],d=Object(n.useState)(!1),u=Object(lt.a)(d,2),f=u[0],E=u[1],g=Object(n.useState)(!1),h=Object(lt.a)(g,2),b=h[0],y=h[1],v=Object(n.useState)({clientId:!1,clientName:!1}),_=Object(lt.a)(v,2),C=_[0],j=_[1],S=Object(n.useState)({clientRoles:[],clientType:"",clientGroupId:"",clientGroup:"7ff9bf27-23bd-4253-a015-b2ffbe067f04",clientDomain:null,profile:"",emailSender:null,emailSenderMaskingName:null}),I=Object(lt.a)(S,2),T=I[0],R=I[1],k=Object(n.useState)(!1),w=Object(lt.a)(k,2)[1],L=Object(n.useState)(!1),x=Object(lt.a)(L,2),A=x[0],P=x[1];Object(n.useEffect)((function(){a("Create Client")}),[a]);var M=function(e){return function(t){t.preventDefault(),P(!1);var a=Ea(e,t.target.value);if("originURIs"===e||"redirectURIs"===e)R(Object(p.a)(Object(p.a)({},T),{},Object(O.a)({},e,t.target.value)));else if("initialRole"===e){var n;R(Object(p.a)(Object(p.a)({},T),{},(n={},Object(O.a)(n,e,t.target.value),Object(O.a)(n,e+"ErrorMessage",a.errorMessage),Object(O.a)(n,"clientRoles",[{roleId:t.target.value,roleDescription:"Initial role"}]),n)))}else{var r;R(Object(p.a)(Object(p.a)({},T),{},(r={},Object(O.a)(r,e,t.target.value),Object(O.a)(r,e+"ErrorMessage",a.errorMessage),r)))}}};return r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,xs:12,md:9},r.a.createElement(st.a,null,r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"h6",color:"primary",style:{marginTop:20}},"Create Client")),r.a.createElement(St.a,{container:!0,direction:"row"},r.a.createElement(ni,{setFormFocus:j,formFocus:C,helpTextOrigin:f,setHelpTextOrigin:E,helpTextRedirect:b,setHelpTextRedirect:y,handleChange:M,form:T}),r.a.createElement(St.a,{item:!0,xs:12,md:6,style:{marginTop:10}},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{color:"primary",variant:"subtitle2"},"Client Roles:"),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:10}},r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0},"Role Id")),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0},r.a.createElement(gt.a,null,T.clientRoles[0]?T.clientRoles.map((function(e,t){return r.a.createElement(Ct.a,{key:t,secondary:"- "+e.roleId})})):r.a.createElement(Ct.a,{secondary:"- none"}))))),r.a.createElement(St.a,{item:!0,xs:6},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0},"Description")),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(St.a,{item:!0},r.a.createElement(gt.a,null,T.clientRoles[0]?T.clientRoles.map((function(e,t){return r.a.createElement(Ct.a,{key:t,secondary:"- "+e.roleDescription})})):r.a.createElement(Ct.a,{secondary:"- none"}))))),r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",style:{margin:20}},s?r.a.createElement(ei,{form:T,setForm:R,handleChange:M,setShowAddRoles:m,handleAddClientRole:function(e){e.preventDefault(),R(Object(p.a)(Object(p.a)({},T),{},{clientRoles:[].concat(Object(hn.a)(T.clientRoles),[{roleId:T.roleId,roleDescription:T.roleDescription}]),roleId:"",roleDescription:""})),m(!1),w(!0)}}):r.a.createElement(At.a,{disabled:!T.initialRole,size:"small",variant:"outlined",color:"secondary",onClick:function(){return m(!0)}},"Add Client Roles")))))),r.a.createElement(bt.a,{style:{margin:20}}),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{onClick:function(e){e.preventDefault(),E(!1),y(!1),w(!1),P(!1),R(Object(p.a)(Object(p.a)({},T),{},{clientId:"",clientName:"",clientType:"",clientRoles:[],originURIs:"",profile:"",redirectURIs:"",initialRole:""})),j({clientId:!1,clientName:!1,clientRoles:[],clientType:!1,originURIs:!1,profile:!1,redirectURIs:!1,initialRole:!1})},variant:"outlined",color:"primary"},"Cancel")),r.a.createElement(St.a,{style:{margin:10},item:!0}),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{onClick:function(e){e.preventDefault(),P(!1);var t=T.clientGroupId,a=T.clientId,n=T.clientName,r=T.clientRoles,o=T.clientType,c=T.originURIs,s=T.profile,m=T.redirectURIs,d=T.initialRole,u=T.clientGroup,p=T.clientDomain,f=T.emailSender,E=T.emailSenderMaskingName;if(a&&n&&r&&o&&c&&s&&m&&d){var g={clientGroupId:t,clientId:a,clientName:n,clientRoles:r,originURIs:c.split(/\r?\n/),clientGroup:u,clientDomain:p,emailSender:f,emailSenderMaskingName:E,profile:s,redirectURIs:m.split(/\r?\n/),type:o,initialUserRole:d},h=l.name,b=l.email,y=l.phone,v={name:h,email:b};y&&(v.phone=y),i({request:g,method:"POST",serviceCode:"CREATE_CLIENT",customHeaders:v}),w(!1)}else P(!0)},variant:"contained",color:"primary"},"Create"))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Nt.a,{error:!0},A?"Form not complete":null)),r.a.createElement("br",null))))})),ii=a(517),li=a.n(ii),oi=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},ci=Object(ct.a)(oi)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(yn.a)(e,["children","onClose","classes"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(ht.a,{variant:"h6"},t),a?r.a.createElement(yt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(_n.a,null)):null)})),si=Object(ct.a)(oi)((function(e){var t,a,i=Object.assign({},e),l=i.classes,o=i.dataClient,c=Object(n.useState)({clientId:""}),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=[],f=function(){d({}),i.handleClose(!1,!1)},E=function(e){return function(t){var a,n=Ea(e,t.target.value);d(Object(p.a)(Object(p.a)({},m),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),a)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:i.open,onClose:f,scroll:"paper"},r.a.createElement(ci,{id:"max-width-dialog-title",onClose:f},"Add Request Specification"),r.a.createElement(wt.a,null,r.a.createElement("form",{className:l.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Contoh : authentication-backoffice",required:!0,select:!0,id:"clientId",label:"Client Id",value:m.clientId,onChange:E("clientId"),InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}},(t=o,a="clientId",t.filter((function(e,t,n){return n.map((function(e){return e[a]})).indexOf(e[a])===t}))).map((function(e){return r.a.createElement(Ln.a,{key:e.clientId,value:e.clientId},e.clientId)}))),r.a.createElement(ea.a,{fullWidth:!0,required:!0,placeholder:"Contoh : /users/*/orders/**",label:"Path",onChange:E("path"),error:!!m.pathErrorMessage,value:m.path?m.path:"",helperText:m.pathErrorMessage?m.pathErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}}),r.a.createElement(ea.a,{fullWidth:!0,required:!0,placeholder:"Contoh : http//172.16.10.51:32170/users/*/orders/**",label:"URL Destination",onChange:E("urlDestination"),error:!!m.urlDestinationErrorMessage,helperText:m.urlDestinationErrorMessage?m.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}}),r.a.createElement(ea.a,{fullWidth:!0,required:!0,select:!0,label:"Need Login",onChange:E("isNeedLogin"),InputLabelProps:{shrink:!0,classes:{asterisk:l.asterisk}}},[{label:"Yes",boolean:!0},{label:"No",boolean:!1}].map((function(e){return r.a.createElement(Ln.a,{key:e.label,value:e.boolean},e.label)}))),r.a.createElement(ea.a,{fullWidth:!0,select:!0,label:"Default Role",onChange:E("defaultRole"),InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{key:"null",value:null},"Null"),((u=o.filter((function(e){return e.clientId===m.clientId}))[0])?u.clientRoles:[]).map((function(e){return r.a.createElement(Ln.a,{key:e.roleId,value:e.roleId},e.roleId)}))),r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Contoh: 100",label:"Priority Value",onChange:E("priorityValue"),InputLabelProps:{shrink:!0}}))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{color:"primary",variant:"contained",className:l.addButton,onClick:function(){delete m.clientIdErrorMessage,delete m.defaultRoleErrorMessage,delete m.pathErrorMessage,delete m.urlDestinationErrorMessage,delete m.isNeedLoginErrorMessage,i.completeRequest(m)},disabled:function(){var e=""!==m.isNeedLogin&&null!==m.isNeedLogin&&void 0!==m.isNeedLogin;return!(m.clientId&&m.path&&m.urlDestination&&e)}()},"Add")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:f,color:"secondary",variant:"contained",className:l.addButton},"Cancel")))))})),mi=function(e){return{rootForm:{"& .MuiTextField-root":{margin:e.spacing(1)}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},asterisk:{color:"red"},addButton:{color:"white"}}},di=Object(ct.a)(mi)((function(e){var t=e.children,a=e.onClose,n=e.classes,i=Object(yn.a)(e,["children","onClose","classes"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:n.root},i),r.a.createElement(ht.a,{variant:"h6"},t),a?r.a.createElement(yt.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(_n.a,null)):null)})),ui=Object(ct.a)(mi)((function(e){var t=Object.assign({},e),a=t.classes,i=t.dataClient,l=t.dataToUpdate,o=Object(n.useState)({dataToUpdate:{clientId:"",path:"",urlDestination:"",isNeedLogin:""}}),c=Object(lt.a)(o,2),s=c[0],m=c[1];Object(n.useEffect)((function(){m({dataToUpdate:l})}),[l]);var d,u,f=[],E=function(){m({}),t.handleClose(!1,!0)},g=function(e){return function(t){var a=Ea(e,t.target.value);m(Object(p.a)(Object(p.a)({},s),{},Object(O.a)({dataToUpdate:Object(p.a)(Object(p.a)({},s.dataToUpdate),{},Object(O.a)({},e,t.target.value))},e+"ErrorMessage",a.errorMessage)))}};return r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"xs",open:t.open,onClose:E,scroll:"paper"},r.a.createElement(di,{id:"max-width-dialog-title",onClose:E},"Edit Request Specification"),r.a.createElement(wt.a,null,r.a.createElement("form",{className:a.rootForm,noValidate:!0,autoComplete:"off"},r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Contoh : authentication-backoffice",required:!0,select:!0,id:"clientId",label:"Client Id",value:s.dataToUpdate?s.dataToUpdate.clientId:"",onChange:g("clientId"),InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}},(d=i,u="clientId",d.filter((function(e,t,a){return a.map((function(e){return e[u]})).indexOf(e[u])===t}))).map((function(e){return r.a.createElement(Ln.a,{key:e.clientId,value:e.clientId},e.clientId)}))),r.a.createElement(ea.a,{fullWidth:!0,required:!0,placeholder:"Contoh : /users/*/orders/**",label:"Path",onChange:g("path"),error:!!s.pathErrorMessage,value:s.dataToUpdate?s.dataToUpdate.path:"",helperText:s.pathErrorMessage?s.pathErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}}),r.a.createElement(ea.a,{fullWidth:!0,required:!0,placeholder:"Contoh : http//172.16.10.51:32170/users/*/orders/**",label:"URL Destination",onChange:g("urlDestination"),value:s.dataToUpdate?s.dataToUpdate.urlDestination:"",error:!!s.urlDestinationErrorMessage,helperText:s.urlDestinationErrorMessage?s.urlDestinationErrorMessage:"",InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}}),r.a.createElement(ea.a,{fullWidth:!0,required:!0,select:!0,label:"Need Login",value:s.dataToUpdate?"True"===s.dataToUpdate.isNeedLogin||!0===s.dataToUpdate.isNeedLogin:"",onChange:g("isNeedLogin"),InputLabelProps:{shrink:!0,classes:{asterisk:a.asterisk}}},[{label:"Yes",boolean:!0},{label:"No",boolean:!1}].map((function(e){return r.a.createElement(Ln.a,{key:e.label,value:e.boolean},e.label)}))),r.a.createElement(ea.a,{fullWidth:!0,select:!0,label:"Default Role",value:s.dataToUpdate?s.dataToUpdate.defaultRole:"",onChange:g("defaultRole"),InputLabelProps:{shrink:!0}},r.a.createElement(Ln.a,{key:"null",value:null},"Null"),function(){var e=s.dataToUpdate?s.dataToUpdate.clientId:"";return(f=i.filter((function(t){return t.clientId===e}))[0])?f.clientRoles:[]}().map((function(e){return r.a.createElement(Ln.a,{key:e.roleId,value:e.roleId},e.roleId)}))),r.a.createElement(ea.a,{fullWidth:!0,placeholder:"Contoh: 100",label:"Priority Value",onChange:g("priorityValue"),value:s.dataToUpdate?s.dataToUpdate.priorityValue:"",InputLabelProps:{shrink:!0}}))),r.a.createElement(kt.a,null,r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{margin:5}},r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{color:"primary",variant:"contained",className:a.addButton,onClick:function(){var e=!0;s.dataToUpdate.priorityValue===l.priorityValue&&(e=!1),delete s.dataToUpdate.clientIdErrorMessage,delete s.dataToUpdate.isNeedLoginErrorMessage,delete s.dataToUpdate.pathErrorMessage,delete s.dataToUpdate.priorityValueErrorMessage,delete s.dataToUpdate.urlDestinationErrorMessage,t.completeRequest(s.dataToUpdate,e)},disabled:function(){var e=s.dataToUpdate?""!==s.dataToUpdate.isNeedLogin&&null!==s.dataToUpdate.isNeedLogin&&void 0!==s.dataToUpdate.isNeedLogin:"",t=s.dataToUpdate?s.dataToUpdate.clientId:"",a=s.dataToUpdate?s.dataToUpdate.path:"",n=s.dataToUpdate?s.dataToUpdate.urlDestination:"";return!(t&&a&&n&&e)}()},"Edit")),r.a.createElement(St.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",md:6},r.a.createElement(At.a,{onClick:E,color:"secondary",variant:"contained",className:a.addButton},"Cancel")))))})),pi=Object(o.b)((function(e){return{requestList:e.requestList.list,clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=Object.assign({},e),a=t._setOpenScreen,i=t._setCompleteRequest,l=t.userInfo,o=t.requestList,c=t.clientList;Object(n.useEffect)((function(){a("Request List")}),[a]);Object(n.useEffect)((function(){var e=l.name,t=l.email,a=l.phone,n={name:e,email:t};a&&(n.phone=a);var r={request:{},method:"GET",serviceCode:"SELECT_ALL_REQUEST",customHeaders:n};0===o.length&&i(r)}),[]);var s=Object(n.useState)({columns:[{title:"Client Id",field:"clientId"},{title:"Path",field:"path"},{title:"URL Destination",field:"urlDestination"},{title:"Need Login",field:"isNeedLogin"},{title:"Priority Value",field:"priorityValue"},{title:"Default Role",field:"defaultRole"}],data:[],dataClient:[],dataToProcess:null,dataToUpdate:null}),m=Object(lt.a)(s,2),d=m[0],u=m[1];Object(n.useEffect)((function(){u((function(e){return Object(p.a)(Object(p.a)({},e),{},{data:o,dataClient:c})}))}),[o,c]);var f=Object(n.useState)({openDialogRequest:!1,editDialogRequest:!1}),E=Object(lt.a)(f,2),g=E[0],h=E[1],b=function(e,t,a){t?(h(Object(p.a)(Object(p.a)({},g),{},{editDialogRequest:e})),u(Object(p.a)(Object(p.a)({},d),{},{dataToUpdate:a}))):h(Object(p.a)(Object(p.a)({},g),{},{openDialogRequest:e}))};return r.a.createElement("div",null,g.open?r.a.createElement(li.a,{completeRequest:i,open:g.open,handleClose:function(){return h(Object(p.a)(Object(p.a)({},g),{},{open:!1}))},data:d.dataToProcess}):r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(Vr,{title:"Backoffice Request List",column:d.columns,data:d.data,handleEditOpen:b,filterById:function(e,t){return e.filter((function(e,a,n){return n.map((function(e){return e[t]})).indexOf(e[t])===a}))},options:{pagination:!0,filterClientId:!0}})),r.a.createElement(St.a,{style:{marginTop:20},container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(At.a,{style:{fontSize:12,fontWeight:"bold"},onClick:function(){return b(!0,!1)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Gn.a,null)},"Add Request Specification")),r.a.createElement(si,{open:g.openDialogRequest,handleClose:b,completeRequest:function(e){var t=Object(p.a)(Object(p.a)({},e),{},{priorityValue:e.priorityValue?Number(e.priorityValue):null});i({request:t,method:"POST",serviceCode:"ADD_REQUEST_SPESIFICATIONS",urlParams:"/request-specifications"}),b(!1,!1)},data:d.data,dataClient:d.dataClient}),r.a.createElement(ui,{open:g.editDialogRequest,handleClose:b,data:d.data,dataClient:d.dataClient,dataToUpdate:d.dataToUpdate,completeRequest:function(e,t){var a=e.requestSpecificationId;delete e.method,"True"===e.isNeedLogin||!0===e.isNeedLogin?e.isNeedLogin=!0:e.isNeedLogin=!1;var n=Object(p.a)(Object(p.a)({},e),{},{priorityValue:e.priorityValue?Number(e.priorityValue):null});e.priorityValue||delete n.priorityValue,t||delete n.priorityValue,delete n.isPriorityValueUpdate;var r={request:n,method:"PATCH",serviceCode:"UPDATE_REQUEST_SPESIFICATIONS",urlParams:"/request-specifications/".concat(a)};i(r),b(!1,!0)}}))})),fi=Va.a.ExcelFile,Ei=Va.a.ExcelFile.ExcelSheet,gi=Za("lastWeek"),hi=Za("nextWeek"),bi=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList,roleUsed:e.userInfo.roleUsed}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setSnackbar:function(t){return e(ve(t))},_setSecondRequest:function(t){return e(te(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setClinicDetail:function(t){return e(Ee(t))},_setClinicRecapt:function(t){return e(ge(t))}}}))((function(e){var t=e._setOpenScreen,a=e._setCompleteRequest,i=e.userInfo,l=e.paxList,o=e.roleUsed,c=e._setClinicRecapt,s=Object(n.useState)([]),m=Object(lt.a)(s,2),d=m[0],u=m[1],f=Object(n.useState)({fromdate:gi,todate:hi,simpleTable:[],totalPax:0,agentPrice:0,price:0,dataset:[]}),E=Object(lt.a)(f,2),g=E[0],h=E[1];Object(n.useEffect)((function(){c([]);var e=i.name,n=i.email,r=i.phone,l={name:e,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:l};a(o),t("Redeemed Order")}),[]),Object(n.useEffect)((function(){var e=[{title:"ID",field:"id",width:50},{title:Be("app_name"),field:"name"},{title:Be("clinic"),field:"clinic"},{title:Be("clinic_redeem_on"),field:"redeem_on"},{title:Be("clinic_payment_date"),field:"payment_on"},{title:"NTA",field:"nta"},{title:"NTSA",field:"ntsa"},{title:Be("clinic_price"),field:"agentprice"}],t=[].concat(e);u("voltras.admin"===o?t:t.filter((function(e){return"agentprice"!==e.field&&"ntsa"!==e.field})))}),[o]),Object(n.useEffect)((function(){var e=[];l.clinicRecapt.filter((function(e){return"FINISH"===e.status})).forEach((function(t){return t.items.forEach((function(a){return a.products.forEach((function(n){var r={id:t.id,name:n.name,clinic:n.klinik.name,redeem_on:a.redeem&&a.redeem.redeem_on?Ya(a.redeem.redeem_on):"",payment_on:t.payment&&t.payment.date?Ya(t.payment&&t.payment.date):"",nta:n.price.nta,ntsa:n.price.ntsa,agentprice:n.price.price};e.push(r)}))}))}));var t=e.length,a=e.reduce((function(e,t){return e+parseInt(t.nta)}),0),n=[];e.forEach((function(e){var t=Object(p.a)(Object(p.a)({},e),{},{nta:Ka(e.nta),ntsa:Ka(e.ntsa),agentprice:Ka(e.agentprice)});n.push(t)}));var r=[{title:"ID",width:{wch:5}},{title:Be("app_name"),width:{wch:30},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic"),width:{wch:30},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_redeem_on"),width:{wch:20},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_payment_date"),width:{wch:20},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:"NTA",width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:"NTSA",width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}},{title:Be("clinic_price"),width:{wch:12},style:{font:{bold:!0},alignment:{horizontal:"center"}}}],i=[];i="voltras.admin"!==o?r.filter((function(e){return e.title!==Be("clinic_price")&&"NTSA"!==e.title})):r;var c=[];e.forEach((function(e){var t=[];t.push({value:e.id}),t.push({value:e.name}),t.push({value:e.clinic}),t.push({value:e.redeem_on}),t.push({value:e.payment_on}),t.push({value:parseInt(e.nta)}),"voltras.admin"===o&&(t.push({value:parseInt(e.ntsa)}),t.push({value:parseInt(e.agentprice)})),c.push(t)}));var s=[{ySteps:1,columns:i,data:c}];h((function(e){return Object(p.a)(Object(p.a)({},e),{},{dataset:s,simpleTable:n,totalPax:t,agentPrice:Ka(a)})}))}),[l.clinicRecapt,o]);var b=function(e){return function(t){h(Object(p.a)(Object(p.a)({},g),{},Object(O.a)({},e,Ya(t))))}},y=function(e){var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l={name:t,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_XLS_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:l};a(o)},v=function(){var e=i.name?i.name:"",t=i.email?i.email:"",n=i.phone?i.phone:"",r={name:e,email:t};n&&(r.phone=n);var l={request:{},method:"GET",serviceCode:"GET_CLINIC_REPORT",urlParams:"/recapt?&from_date=".concat(g.fromdate,"&to_date=").concat(g.todate),customHeaders:r};a(l)};return r.a.createElement("div",null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:20}},r.a.createElement(St.a,{item:!0,sm:4},r.a.createElement(ht.a,{variant:"subtitle2"},Be("clinic_payment_date"),":"),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:g.fromdate,onChange:b("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:g.todate,onChange:b("todate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(St.a,{item:!0,sm:2,style:{marginTop:10}},r.a.createElement(St.a,{item:!0},r.a.createElement("br",null)),r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},g.simpleTable.length<1?r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{disabled:g.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return y(g.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(St.a,{item:!0},r.a.createElement(fi,{filename:"OrderReport ".concat(g.fromdate," to ").concat(g.todate),element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(Ei,{dataSet:g.dataset,name:"Order Report"}))),r.a.createElement(St.a,null," ",r.a.createElement("br",null)),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{size:"small",variant:"contained",onClick:v,color:"primary"},Be("app_show_report"))))),r.a.createElement(St.a,{item:!0,sm:1}),r.a.createElement(St.a,{item:!0,sm:5},r.a.createElement(ht.a,{variant:"subtitle2"},Be("app_report_summary"),":"),r.a.createElement(St.a,{container:!0,item:!0,style:{marginLeft:20,marginTop:15}},r.a.createElement(St.a,{item:!0,sm:3}," ",r.a.createElement(ht.a,{variant:"caption"},"Total Order")),r.a.createElement(St.a,{item:!0,sm:3},": ",g.totalPax)),r.a.createElement(St.a,{container:!0,item:!0,style:{marginLeft:20}},r.a.createElement(St.a,{item:!0,sm:3},r.a.createElement(ht.a,{variant:"caption"},Be("clinic_agent_price"))),r.a.createElement(St.a,{item:!0,sm:3},": ",g.agentPrice))),r.a.createElement(St.a,{item:!0,sm:12,style:{marginTop:20}},r.a.createElement(Wa.a,{title:Be("clinic_order_report"),columns:d,data:g.simpleTable})),r.a.createElement(St.a,{container:!0}))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Filter By")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Payment Date"),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{style:{width:"90%"},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:g.fromdate,onChange:b("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))),r.a.createElement(St.a,{item:!0,sm:6,xs:6,align:"right"},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{style:{width:"90%"},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:g.todate,onChange:b("todate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))),r.a.createElement(St.a,{item:!0,xs:12,sm:12,container:!0,justify:"space-between",style:{paddingTop:10,paddingLeft:15,paddingBottom:10,paddingRight:15,marginBottom:10}},g.simpleTable.length<1?r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},disabled:g.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return y(g.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(St.a,{item:!0},r.a.createElement(fi,{filename:"OrderReport ".concat(g.fromdate," to ").concat(g.todate),element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_export_xls"))},r.a.createElement(Ei,{dataSet:g.dataset,name:"Order Report"}))),r.a.createElement(St.a,{item:!0},r.a.createElement(At.a,{size:"small",variant:"contained",onClick:v,color:"primary",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},Be("app_show_report"))))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Report Summary")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(St.a,{container:!0,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total Order")),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},g.totalPax)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},Be("clinic_agent_price"))),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},g.agentPrice))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Order Report")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(nn,{column:d,data:g.simpleTable})))))})),yi=Va.a.ExcelFile,vi=Va.a.ExcelFile.ExcelSheet,_i=Za("lastWeek"),Oi=Za("nextWeek"),Ci=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info,paxlistStatus:e.menu.paxList,paxList:e.paxList}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setSnackbar:function(t){return e(ve(t))},_setSecondRequest:function(t){return e(te(t))},_setThirdRequest:function(t){return e(function(e){return{type:"SET_THIRD_REQUEST",val:e}}(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))},_setClinicDetail:function(t){return e(Ee(t))},_setClinicRecapt:function(t){return e(ge(t))},_setPaxProduct:function(t){return e(pe(t))},_setKlinikList:function(t){return e(fe(t))}}}))((function(e){var t=e._setOpenScreen,a=e._setCompleteRequest,i=e.userInfo,l=e.paxList,o=e._setClinicRecapt,c=e._setPaxProduct,s=e._setKlinikList,m=[{title:"ID",field:"id",width:50},{title:Be("app_name"),field:"name"},{title:"Product",field:"product",width:200},{title:Be("clinic"),field:"clinic",width:200},{title:"Status",field:"status"},{title:Be("clinic_redeem_on"),field:"redeem_on"},{title:Be("clinic_payment_date"),field:"payment_on"},{title:Be("clinic_agent_price"),field:"agentprice"}],d=Object(n.useState)({fromdate:_i,todate:Oi,simpleTable:[],totalPax:0,agentPrice:0,price:0,dataset:[],Paid:!1,New:!1,finish:!1,clinicname:"",productname:""}),u=Object(lt.a)(d,2),f=u[0],E=u[1];Object(n.useEffect)((function(){var e=[];l.clinicRecapt.forEach((function(t){return t.items.map((function(a){return a.products.forEach((function(n){var r={id:t.id,name:a.name,product:n.name,clinic:n.klinik.name,status:a.status,redeem_on:a.redeem&&a.redeem.redeem_on?Ya(a.redeem.redeem_on):"",payment_on:t.payment&&t.payment.date?Ya(t.payment&&t.payment.date):"",agentprice:n.price.nta,paxprice:n.price.price};e.push(r)}))}))}));var a=e.reduce((function(e,t){return e+parseInt(t.agentprice)}),0),n=[];e.forEach((function(e){var t=Object(p.a)(Object(p.a)({},e),{},{status:"FINISH"===e.status?e.status="REDEEMED":e.status,agentprice:Ka(e.agentprice)});n.push(t)}));var r=[{title:"ID",width:{wch:5}},{title:Be("app_name"),width:{wch:30}},{title:"Product",width:{wch:30}},{title:Be("clinic"),width:{wch:30}},{title:"Status",width:{wch:12}},{title:Be("clinic_redeem_on"),width:{wch:12}},{title:Be("clinic_payment_date"),width:{wch:12}},{title:Be("clinic_agent_price"),width:{wch:12}}],i=[];e.forEach((function(e){var t=[];t.push({value:e.id}),t.push({value:e.name}),t.push({value:e.product}),t.push({value:e.clinic}),t.push({value:e.status}),t.push({value:e.redeem_on}),t.push({value:e.payment_on}),t.push({value:parseInt(e.agentprice)}),i.push(t)}));var o=[{ySteps:1,columns:r,data:i}],c=n.filter((function(e){return"UNCONFIRMED"!==e.status&&e.payment_on})),s=c.length;E((function(e){return Object(p.a)(Object(p.a)({},e),{},{dataset:o,simpleTable:c,totalPax:s,agentPrice:Ka(a)})})),t("All Order Report")}),[l.clinicRecapt,t]),Object(n.useEffect)((function(){E((function(e){return Object(p.a)(Object(p.a)({},e),{},{simpleTable:[],totalPax:0,agentPrice:0})}));var e=i.name,t=i.email,a=i.phone,n={name:e,email:t};a&&(n.phone=a),e&&t&&We({},"GET","GET_ALL_ORDER","/list?&paymentdate_from=".concat(_i,"&paymentdate_to=").concat(Oi),n,null,0,(function(e){o(e.body),We({},"GET","healthProduct",null,n,null,0,(function(e){c(e.body),We({},"GET","healthKlinik",null,n,null,0,(function(e){s(e.body)}))}))}))}),[]);var g=function(e){return function(t){E(Object(p.a)(Object(p.a)({},f),{},Object(O.a)({},e,Ya(t))))}},h=function(e){var t=i.name?i.name:"",n=i.email?i.email:"",r=i.phone?i.phone:"",l={name:t,email:n};r&&(l.phone=r);var o={request:{},method:"GET",serviceCode:"GET_CLINIC_XLS_REPORT",urlParams:"/recapt?&from_date=".concat(f.fromdate,"&to_date=").concat(f.todate),customHeaders:l};a(o)},b=function(){var e=i.name?i.name:"",t=i.email?i.email:"",n=i.phone?i.phone:"",r={name:e,email:t};n&&(r.phone=n);var l="&paymentdate_from=".concat(f.fromdate,"&paymentdate_to=").concat(f.todate),o=f.Paid&&!f.finish?"&status=PAID":!f.Paid&&f.finish?"&status=FINISH":(f.Paid&&f.finish,""),c=f.productname?"&productname=".concat(f.productname):"",s=f.clinicname?"&clinicname=".concat(f.clinicname):"";a({request:{},method:"GET",serviceCode:"GET_ALL_ORDER",urlParams:"/list?"+l+(o||"")+c+s,customHeaders:r})},y=function(e){return function(t){E("Paid"===e||"New"===e||"finish"===e||"Booking Date"===e||"Test Date"===e||"Redeem Date"===e?Object(p.a)(Object(p.a)({},f),{},Object(O.a)({},e,!f[e])):Object(p.a)(Object(p.a)({},f),{},Object(O.a)({},e,t.target.value)))}},v=function(e){E(e?Object(p.a)(Object(p.a)({},f),{},{productname:e.name}):Object(p.a)(Object(p.a)({},f),{},{productname:""}))},_=function(e){E(e?Object(p.a)(Object(p.a)({},f),{},{clinicname:e.name}):Object(p.a)(Object(p.a)({},f),{},{clinicname:""}))};return r.a.createElement("div",null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginBottom:10,marginTop:20}},r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(ht.a,{variant:"subtitle2"},Be("clinic_payment_date"),":"),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:f.fromdate,onChange:g("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(St.a,{container:!0,style:{marginLeft:20}},r.a.createElement(qa.b,{style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:f.todate,onChange:g("todate"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(St.a,{item:!0,sm:4,style:{marginLeft:20}},r.a.createElement(St.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(ht.a,{variant:"subtitle2",style:{marginTop:25}},"Product:"),r.a.createElement(ha,{small:!0,id:"productAutocomplete",options:l.product[0]?l.product:[],width:320,optionItem:"name",onPick:v}),r.a.createElement(ht.a,{variant:"subtitle2",style:{marginTop:5}},"Clinic:"),r.a.createElement(ha,{small:!0,id:"clinicAutocomplete",options:l.klinikList[0]?l.klinikList:[],width:320,optionItem:"name",onPick:_}))),r.a.createElement(St.a,{item:!0,sm:3},r.a.createElement(ht.a,{variant:"subtitle2",style:{marginTop:25}},"Status:"),r.a.createElement(Ft.a,{size:"small",style:{marginLeft:15},fullWidth:!0},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:f.Paid,onChange:y("Paid"),name:"Paid"}),label:"Paid"}),r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:f.finish,onChange:y("finish"),name:"finish"}),label:"Redeemed"}))),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(ht.a,{variant:"subtitle2"},Be("app_report_summary"),":"),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",item:!0,style:{marginLeft:5,marginTop:15}},r.a.createElement(St.a,{item:!0,sm:5}," ",r.a.createElement(ht.a,{variant:"caption"},"Total Order")),r.a.createElement(St.a,{item:!0},": ",f.totalPax)),r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",item:!0,style:{marginLeft:5}},r.a.createElement(St.a,{item:!0,sm:5},r.a.createElement(ht.a,{variant:"caption"},Be("clinic_agent_price"))),r.a.createElement(St.a,{item:!0},": ",f.agentPrice)),f.simpleTable.length<1?r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(At.a,{disabled:f.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return h(f.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(yi,{filename:"OrderReport; ".concat(f.fromdate," to ").concat(f.todate,"; ").concat(f.Paid&&!f.finish?"PAID;":!f.Paid&&f.finish?"REDEEMED;":"ALL;"," ").concat(f.productname?" "+f.productname+";":""," ").concat(f.clinicname?" "+f.clinicname+";":""),element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(vi,{dataSet:f.dataset,name:"Order Report"}))),r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(At.a,{size:"small",variant:"contained",onClick:b,color:"primary"},Be("app_show_report")))),r.a.createElement(St.a,{item:!0,sm:12,style:{marginTop:20}},r.a.createElement(Wa.a,{title:Be("clinic_order_report"),columns:m,data:f.simpleTable})),r.a.createElement(St.a,{container:!0}))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Filter By")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Payment Date"),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:6,sm:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:f.fromdate,onChange:g("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))),r.a.createElement(St.a,{item:!0,xs:6,sm:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:f.todate,onChange:g("todate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}})))),r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Status"),r.a.createElement(Ft.a,{size:"small",fullWidth:!0},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:3,sm:3},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:f.Paid,onChange:y("Paid"),name:"Paid"}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"Paid")})),r.a.createElement(St.a,{item:!0,xs:3,sm:3},r.a.createElement(va.a,{control:r.a.createElement(za.a,{size:"small",checked:f.finish,onChange:y("finish"),name:"finish"}),label:r.a.createElement(ht.a,{style:{fontSize:13,fontFamily:"Arial, Helvetica, sans-serif"}},"Redemeed")})))),r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Product"),r.a.createElement(ha,{small:!0,id:"productAutocomplete",options:l.product[0]?l.product:[],width:320,optionItem:"name",onPick:v}),r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Clinic"),r.a.createElement(ha,{small:!0,id:"clinicAutocomplete",options:l.klinikList[0]?l.klinikList:[],width:320,optionItem:"name",onPick:_}),r.a.createElement(St.a,{item:!0,xs:12,sm:12,container:!0,justify:"space-between",style:{paddingTop:10,paddingLeft:15,paddingBottom:10,paddingRight:15,marginBottom:10}},f.simpleTable.length<1?r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(At.a,{style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},disabled:f.simpleTable.length<1,size:"small",variant:"outlined",onClick:function(){return h(f.simpleTable)},color:"primary"},Be("app_export_xls"))):r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(yi,{filename:"OrderReport; ".concat(f.fromdate," to ").concat(f.todate,"; ").concat(f.Paid&&!f.finish?"PAID;":!f.Paid&&f.finish?"REDEEMED;":"ALL;"," ").concat(f.productname?" "+f.productname+";":""," ").concat(f.clinicname?" "+f.clinicname+";":""),element:r.a.createElement(At.a,{style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},size:"small",variant:"outlined",color:"primary"},Be("app_export_xls"))},r.a.createElement(vi,{dataSet:f.dataset,name:"Order Report"}))),r.a.createElement(St.a,{item:!0,style:{marginTop:10}},r.a.createElement(At.a,{style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,color:"white"},size:"small",variant:"contained",onClick:b,color:"primary"},Be("app_show_report")))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Report Summary")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(St.a,{container:!0,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total Order")),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},f.totalPax)),r.a.createElement(St.a,{item:!0,sm:5,xs:5,align:"left"},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},Be("clinic_agent_price"))),r.a.createElement(St.a,{item:!0,sm:7,xs:7},r.a.createElement(ht.a,{style:{fontSize:13,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},f.agentPrice))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Order Report")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(nn,{column:m,data:f.simpleTable})))))})),ji=a(773),Si=a(519),Ii=a.n(Si),Ti=a(518),Ri=a.n(Ti);function ki(e){var t=e.editItem,a=Object(n.useState)(""),i=Object(lt.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(""),s=Object(lt.a)(c,2),m=s[0],d=s[1],u=Object(n.useState)(""),p=Object(lt.a)(u,2),f=p[0],E=p[1],g=Object(n.useState)(""),h=Object(lt.a)(g,2),b=h[0],y=h[1],v=Object(n.useState)(!1),_=Object(lt.a)(v,2),O=_[0],C=_[1],j=Object(n.useState)(""),S=Object(lt.a)(j,2),I=S[0],T=S[1],R=Object(n.useState)({}),k=Object(lt.a)(R,2),w=k[0],L=k[1],x=Object(n.useState)(""),A=Object(lt.a)(x,2),P=A[0],M=A[1],D=Object(n.useState)(""),U=Object(lt.a)(D,2),N=U[0],F=U[1];Object(n.useEffect)((function(){L({error:!1,errorMessage:""}),y(t.picture),o(t.name),E(t.key),d(t.value),C(t.action)}),[t]);var H,q=function(){var e=Object(Hn.a)(Fn.a.mark((function e(t){var a,n;return Fn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L({error:!1,errorMessage:""}),!(a=t.target.files[0])){e.next=13;break}if(a.type.includes("image")){e.next=7;break}L({error:!0,errorMessage:"Must be image file"}),e.next=13;break;case 7:return e.next=9,en(a);case 9:n=e.sent,T(n.blobUrl),M(n.file),F(n.type);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Rt.a,{open:e.open,onClose:e.handleEditClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(xt.a,{id:"form-dialog-title"},"Edit ",l),r.a.createElement(wt.a,null,r.a.createElement("center",null,r.a.createElement(Lt.a,{style:{width:290}},Be("app_save_to_change"))),"picture"===f?r.a.createElement("div",null,r.a.createElement("input",{accept:"image/*",onChange:q,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),r.a.createElement("center",null,r.a.createElement(mt.a,{style:{width:75,height:75,marginBottom:15},src:I||(b||"")})),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement("center",null,r.a.createElement(ht.a,{color:"error",variant:"caption"},w.errorMessage),r.a.createElement(At.a,{variant:"outlined",component:"span",size:"small",color:"primary"},Be("app_select_photo"))))):r.a.createElement(ea.a,{autoFocus:!0,margin:"dense",id:"name",label:l,value:m,onChange:(H=f,function(e){var t=Ea(H,e.target.value);L(t),d(e.target.value)}),placeholder:l,style:{width:280},error:!!w.error,helperText:w.errorMessage?w.errorMessage:""})),r.a.createElement(kt.a,null,r.a.createElement(At.a,{onClick:function(){o(t.name),E(t.key),d(t.value),e.handleEditClose()},color:"secondary"},Be("app_cancel")),r.a.createElement(At.a,{onClick:function(){if(I){var t={name:l,value:m,key:f,action:O,picture:I,imageFile:P,imageType:N};e.handleNewItem(t)}else e.handleNewItem({name:l,value:m,key:f,action:O});e.handleEditClose()},color:"primary",disabled:!!w.error},Be("app_choose")))))}var wi=Object(o.b)((function(e){return{clientList:e.clientList.list,userDetail:e.clientList.detail,userFiltered:e.clientList.filteredList,userInfo:e.userInfo.info}}),(function(e){return{_setOpenScreen:function(t){return e(Oe(t))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))((function(e){var t=e._setOpenScreen,a=e.userInfo,i=Object(n.useState)([]),l=Object(lt.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(!1),m=Object(lt.a)(s,2),d=m[0],u=m[1],f=Object(n.useState)(!1),E=Object(lt.a)(f,2),g=E[0],h=E[1];Object(n.useEffect)((function(){t("Manage Account")}),[t]),Object(n.useEffect)((function(){var e=Be("app_photo_personalize"),t=a,n=[];t.picture?(n=[{name:Be("common_photo"),value:e,action:!0,key:"picture",picture:t.picture},{name:Be("common_name"),value:t.name?t.name:"",action:!0,key:"name"},{name:Be("common_email"),value:t.email?t.email:"",action:!1,key:"email"},{name:Be("common_phone"),value:t.phone?t.phone:"",action:!0,key:"phone"},{name:Be("common_address"),value:t.address?t.address:"",action:!0,key:"address"}],c(n)):(n=[{name:Be("common_photo"),value:e,action:!0,key:"picture",picture:t.picture,imageFile:"",imageType:""},{name:Be("common_name"),value:t.name?t.name:"",action:!0,key:"name"},{name:Be("common_email"),value:t.email?t.email:"",action:!1,key:"email"},{name:Be("common_phone"),value:t.phone?t.phone:"",action:!0,key:"phone"},{name:Be("common_address"),value:t.address?t.address:"",action:!0,key:"address"}],c(n))}),[a]);var b=function(e){h(e),u(!0)},y=function(){var t=Object(Hn.a)(Fn.a.mark((function t(){var n,r,i,l,c,s,m,d,u,f,E,g,h;return Fn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},r=a,i="",o.map((function(e){return e.imageType&&(i=e.imageType),n=Object(p.a)(Object(p.a)({},n),{},Object(O.a)({},e.key,"picture"===e.key?e.imageFile:e.value))})),n.name===r.name&&delete n.name,n.email===r.email&&delete n.email,n.phone===r.phone&&delete n.phone,n.address===r.address&&delete n.address,n.picture===r.picture&&delete n.picture,c="PATCH",s="UPDATE_USER_INFO",m=(l={attributeToUpdate:n}).attributeToUpdate,d=m.name,u=m.email,f=m.phone,E=m.address,g=m.picture,f&&(l.attributeToUpdate.phone="0"===f[0]?"+62"+f.slice(1):f),d||delete l.attributeToUpdate.name,u||delete l.attributeToUpdate.email,f||delete l.attributeToUpdate.phone,E||delete l.attributeToUpdate.address,g||delete l.attributeToUpdate.picture,!n.picture){t.next=26;break}return t.next=22,Ge(n.picture,i,n.picture);case 22:(h=t.sent).ID?(l.attributeToUpdate.picture=we.gatewayRepoFile+"/static-file-manager/retrieve?file=".concat(h.ID),e._setCompleteRequest({request:l,method:c,serviceCode:s})):console.log("Error"),t.next=27;break;case 26:e._setCompleteRequest({request:l,method:c,serviceCode:s});case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(St.a,{style:{marginTop:30},container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(St.a,{item:!0,sm:12,xl:12,style:{marginTop:30}},r.a.createElement(st.a,{elevation:2},r.a.createElement("br",null),r.a.createElement(St.a,{item:!0},r.a.createElement("center",null,r.a.createElement(ht.a,{variant:"h6",color:"primary"},Be("app_account_profile")))),r.a.createElement(gt.a,{margin:20},o&&o.map((function(e,t){return r.a.createElement(Ot.a,{divider:!0,key:t,style:{marginRight:30}},r.a.createElement(Ct.a,{secondary:e.name,style:{width:"20ch"}}),r.a.createElement(Ct.a,{secondary:"Photo"===e.name||"Foto"===e.name?e.value:e.value?"":"edit to fill",primary:"Photo"!==e.name&&"Foto"!==e.name?e.value:"",style:{width:"60ch"}}),r.a.createElement(ji.a,{style:{marginRight:15}},"Photo"===e.name||"Foto"===e.name?r.a.createElement(an.a,{title:"Edit"},r.a.createElement(mt.a,{src:e.picture,onClick:function(){return b(e)}})):e.action?r.a.createElement(an.a,{title:"Edit"},r.a.createElement(yt.a,{edge:"end","aria-label":"delete",onClick:function(){return b(e)}},r.a.createElement(Bn.a,null))):null))}))),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{style:{marginTop:20,marginBottom:20}},r.a.createElement(At.a,{onClick:function(){return e.history.push("/Home")},variant:"outlined",color:"secondary",startIcon:r.a.createElement(Ri.a,null),style:{width:150,textTransform:"none",fontWeight:"bold",marginRight:15}},Be("app_cancel")),r.a.createElement(At.a,{onClick:y,variant:"outlined",color:"primary",startIcon:r.a.createElement(Ii.a,null),style:{width:150,textTransform:"none",fontWeight:"bold",marginLeft:15}},Be("common_save"))))),r.a.createElement(St.a,null,r.a.createElement("div",{style:{height:150}}))),r.a.createElement(ki,{open:d,handleEditClose:function(){return u(!1)},editItem:g,handleNewItem:function(e){var t=o.map((function(t){return t.name===e.name?e:t}));c(t)}}),r.a.createElement("canvas",{id:"canvas",style:{width:"300",display:"none"}}))})),Li=(a(502),r.a.forwardRef((function(e,t){return r.a.createElement(Xt.a,Object.assign({direction:"up",ref:t},e))}))),xi=Object(o.b)((function(e){return{configList:e.genericConfiguration.configurationList,configDetail:e.genericConfiguration.configDetail,configDetailModal:e.genericConfiguration.configDetailModal}}),(function(e){return{setCompleteRequest:function(t){e(Y(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e($(t.params)),e(Q(t.serviceStatus||"active"))},setOpenScreen:function(t){return e(Oe(t))},setConfigDetailModal:function(t){return e(Te(t))},setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=e.setCompleteRequest,a=e.setOpenScreen,i=e.configList,l=e.configDetailModal,o=e.setConfigDetailModal,c=e.configDetail,s=e.setSecondRequest,m=Object(n.useState)(!1),d=Object(lt.a)(m,2),u=d[0],f=d[1],E=Object(n.useState)(null),g=Object(lt.a)(E,2),h=g[0],b=g[1];Object(n.useEffect)((function(){a("Generic Configuration")}),[a]),Object(n.useEffect)((function(){t({request:{},serviceMethod:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION",customHeaders:{clientId:"voltras-health"}})}),[t]);var y=function(e){var t=e.target.value;b(t)},v=function(e){var a={request:{},params:"/"+e.id,serviceMethod:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION_DETAIL",customHeaders:{clientId:"voltras-health"}};t(a)},_=function(){o(!1),f(!1)},O=function(){var e=JSON.parse(h),a={request:e,params:"/"+e.id,serviceMethod:"POST",serviceCode:"GENERIC_JSON_CONFIGURATION_UPDATE",customHeaders:{clientId:"voltras-health"}};t(a);s({request:{},method:"GET",serviceCode:"GENERIC_JSON_CONFIGURATION",customHeaders:{clientId:"voltras-health"}}),f(!1)},C=function(){var e=JSON.stringify(c,void 0,5);b(e),f(!0)};return r.a.createElement("div",{className:"generic-json-container"},r.a.createElement(qt.a,{smDown:!0},r.a.createElement("div",{className:"generic-configuration-container"},r.a.createElement("div",{className:"generic-header"},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Generic Configuration List")),r.a.createElement(wr.a,{"aria-label":"simple table"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,null,"ID"),r.a.createElement(xr.a,null,"Name"),r.a.createElement(xr.a,null,"Updated On"),r.a.createElement(xr.a,null,"Updated By"),r.a.createElement(xr.a,null,"Action"))),r.a.createElement(Lr.a,null,i.map((function(e){return r.a.createElement(Dr.a,{key:e.id},r.a.createElement(xr.a,null,e.id),r.a.createElement(xr.a,null,e.name),r.a.createElement(xr.a,null,Xa(e.update.on)),r.a.createElement(xr.a,null,e.update.by),r.a.createElement(xr.a,null,r.a.createElement(yt.a,{"aria-label":"delete",onClick:function(){return v(e)}},r.a.createElement("i",{style:{fontSize:"18px"},className:"fas fa-info-circle"}))))})))))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{display:"flex",backgroundColor:"#f4f0ec",padding:5}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Generic Configuration List")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(nn,{column:[{title:"ID",field:"id"},{title:"Name",field:"name"},{title:"Update On",field:"on"},{title:"Update By",field:"by"}],data:i.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{on:Xa(e.update.on),by:e.update.by})})),arrow:!0,button:!0,onClickList:v})))),r.a.createElement(Rt.a,{open:l,scroll:"paper",TransitionComponent:Li,keepMounted:!0,maxWidth:"xl"},r.a.createElement(xt.a,null,r.a.createElement("div",{className:"dialog-header"},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Configuration Detail"),r.a.createElement(yt.a,{"aria-label":"delete",onClick:_},r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement(qt.a,{smDown:!0},r.a.createElement(wt.a,null,r.a.createElement("div",{className:"dialog-content"},r.a.createElement(ea.a,{label:"JSON Config",multiline:!0,rowsMax:20,value:h||JSON.stringify(c,void 0,5),onChange:y,variant:"outlined",style:{width:"100%"},disabled:!u}))),r.a.createElement(kt.a,null,r.a.createElement("div",{className:"dialog-footer"},u?r.a.createElement("div",null,r.a.createElement(At.a,{style:{marginRight:"10px"},onClick:_,variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(At.a,{onClick:O,variant:"contained",color:"primary"},"Save Configuration")):r.a.createElement(At.a,{onClick:C,variant:"contained",color:"primary"},"Edit Configuration")))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(wt.a,null,r.a.createElement(ea.a,{label:"JSON Config",multiline:!0,rowsMax:20,value:h||JSON.stringify(c,void 0,5),onChange:y,variant:"outlined",style:{width:"100%"},disabled:!u,InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}})),r.a.createElement(kt.a,null,u?r.a.createElement(St.a,{container:!0,justify:"space-between"},r.a.createElement(At.a,{onClick:_,variant:"outlined",color:"primary",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,marginRight:"10px"}},"Cancel"),r.a.createElement(At.a,{onClick:O,variant:"contained",color:"primary",style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12}},"Save Configuration")):r.a.createElement(St.a,{container:!0,justify:"center"},r.a.createElement(At.a,{style:{textTransform:"none",color:"white",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12},onClick:C,variant:"contained",color:"primary"},"Edit Configuration"))))),r.a.createElement("div",{style:{height:window.screen.height-550}}))})),Ai=a(520),Pi=a.n(Ai),Mi=r.a.forwardRef((function(e,t){return r.a.createElement(Xt.a,Object.assign({direction:"up",ref:t},e))})),Di=Object(o.b)((function(e){return{productCatalogList:e.genericConfiguration.productCatalogList}}),(function(e){return{setCompleteRequest:function(t){e(Y(t.request)),e(X(t.serviceMethod)),e(J(t.serviceCode)),e(Z(t.customHeaders)),e($(t.serviceParams)),e($(t.params)),e(Q(t.serviceStatus||"active"))},setOpenScreen:function(t){return e(Oe(t))},setSecondRequest:function(t){return e(te(t))}}}))((function(e){var t=e.setOpenScreen,a=e.setCompleteRequest,i=e.productCatalogList;Object(n.useEffect)((function(){t("Generic Configuration")}),[t]);Object(n.useEffect)((function(){a({request:{},serviceMethod:"GET",serviceCode:"GENERAL_PRODUCT_CATALOG",customHeaders:{clientId:"voltras-health"}})}),[]);var l=Object(n.useState)(!1),o=Object(lt.a)(l,2),c=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(lt.a)(m,2),u=d[0],f=d[1],E=Object(n.useState)({}),g=Object(lt.a)(E,2),h=g[0],b=g[1],y=Object(n.useState)({}),v=Object(lt.a)(y,2),_=v[0],C=v[1],j=Object(n.useState)(0),S=Object(lt.a)(j,2),I=S[0],T=S[1],R=Object(n.useState)(5),k=Object(lt.a)(R,2),w=k[0],L=k[1],x=Object(n.useState)([]),A=Object(lt.a)(x,2),P=A[0],M=A[1];Object(n.useEffect)((function(){M(i)}),[i]);var D,U=function(e){return function(t){var a,n=Ea(e,t.target.value);C(Object(p.a)(Object(p.a)({},_),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),a)))}},N=function(e){C(Object(p.a)(Object(p.a)({},_),{},{id:e.id,product_name:e.name,price:e.pricing.price,nta:e.pricing.nta,ntsa:e.pricing.ntsa,discount_nta:e.pricing.discount_nta,discount_price:e.pricing.discount_price,validity_period:e.validity_period})),f(!0)},F=function(){s(!0)},H=function(){b({}),C({}),f(!1),s(!1)},q=function(e){return function(t){var a,n=Ea(e,t.target.value);b(Object(p.a)(Object(p.a)({},h),{},(a={},Object(O.a)(a,e,t.target.value),Object(O.a)(a,e+"ErrorMessage",n.errorMessage),a)))}},z=function(e){var t=e.target.value,a=new RegExp(t,"i");if(t){var n=i.filter((function(e){return a.test(e.name)}));M(n)}else M(i)};return r.a.createElement("div",{className:"generic-json-container"},r.a.createElement(qt.a,{smDown:!0},r.a.createElement("div",{className:"generic-configuration-container"},r.a.createElement("div",{className:"generic-header"},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Product List")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:10}},r.a.createElement("div",{style:{width:"100%"}}),r.a.createElement(ea.a,{style:{width:"40%"},fullWidth:!0,label:"Search Product",onChange:z,InputLabelProps:{shrink:!0}})),r.a.createElement(wr.a,{"aria-label":"simple table"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,null,"ID"),r.a.createElement(xr.a,null,"Name"),r.a.createElement(xr.a,null,"Price"),r.a.createElement(xr.a,null,"Validity Period"),r.a.createElement(xr.a,null,"NTA"),r.a.createElement(xr.a,null,"NTSA"),r.a.createElement(xr.a,null,"Action"))),r.a.createElement(Lr.a,null,P.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})).slice(I*w,I*w+w).map((function(e,t){return r.a.createElement(Dr.a,{key:t},r.a.createElement(xr.a,null,e.id),r.a.createElement(xr.a,null,e.name),r.a.createElement(xr.a,null,e.pricing.price),r.a.createElement(xr.a,null,Xa(e.validity_period)),r.a.createElement(xr.a,null,e.pricing.nta),r.a.createElement(xr.a,null,e.pricing.ntsa),r.a.createElement(xr.a,null,r.a.createElement(yt.a,{"aria-label":"delete",onClick:function(){return N(e)}},r.a.createElement("i",{style:{fontSize:"18px"},className:"fas fa-info-circle"}))))}))),r.a.createElement(Ar.a,null,r.a.createElement(Dr.a,null,r.a.createElement(Mr.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:8,count:i.length,rowsPerPage:w,page:I,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){T(t)},onChangeRowsPerPage:function(e){L(parseInt(e.target.value,10)),T(0)},ActionsComponent:Ni}))))),r.a.createElement("div",{style:{marginTop:15}},r.a.createElement(At.a,{variant:"contained",color:"primary",onClick:F},"Create Product"))),r.a.createElement(qt.a,{smUp:!0},r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(ea.a,{fullWidth:!0,variant:"outlined",label:"Search Product",onChange:z,InputLabelProps:{shrink:!0,style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{height:40,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}})),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{display:"flex",backgroundColor:"#f4f0ec",padding:5,width:"100%",justifyContent:"space-between"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Product List"),r.a.createElement(yt.a,{style:{padding:0},onClick:F},r.a.createElement(an.a,{title:"Create Product",placement:"top"},r.a.createElement(Pi.a,{color:"primary",style:{padding:0}})))),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(nn,{column:[{title:"ID",field:"id"},{title:"Name Product",field:"name"},{title:"pricing",field:"price"},{title:"Validity Period",field:"validity_period"},{title:"NTA",field:"nta"},{title:"NTSA",field:"ntsa"}],data:P.map((function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),e.pricing),{},{validity_period:Xa(e.validity_period)})})),button:!0,arrow:!0,onClickList:N})))),r.a.createElement(Rt.a,{open:u,scroll:"paper",TransitionComponent:Mi,keepMounted:!0,maxWidth:"xs"},r.a.createElement(xt.a,null,r.a.createElement("div",{className:"dialog-header"},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Edit Product"),r.a.createElement(yt.a,{"aria-label":"delete",onClick:H},r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement(wt.a,null,r.a.createElement("div",{className:"dialog-content"},r.a.createElement(ea.a,{label:"Product Name",fullWidth:!0,variant:"outlined",value:_.product_name,error:!!_.product_nameErrorMessage,helperText:_.product_nameErrorMessage?_.product_nameErrorMessage:"",onChange:U("product_name"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"Price",fullWidth:!0,variant:"outlined",value:_.price,error:!!_.priceErrorMessage,helperText:_.priceErrorMessage?_.priceErrorMessage:"",onChange:U("price"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"NTA",fullWidth:!0,variant:"outlined",value:_.nta,error:!!_.ntaErrorMessage,helperText:_.ntaErrorMessage?_.ntaErrorMessage:"",onChange:U("nta"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"NTSA",fullWidth:!0,variant:"outlined",value:_.ntsa,error:!!_.ntaErrorMessage,helperText:_.ntsaErrorMessage?_.ntsaErrorMessage:"",onChange:U("ntsa"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"Discount Price",fullWidth:!0,variant:"outlined",value:_.discount_price,error:!!_.discount_priceErrorMessage,helperText:_.discount_priceErrorMessage?_.discount_priceErrorMessage:"",onChange:U("discount_price"),style:{marginBottom:10},InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},"%")}}),r.a.createElement(ea.a,{label:"Discount Nta",fullWidth:!0,variant:"outlined",value:_.discount_nta,error:!!_.discount_ntaErrorMessage,helperText:_.discount_ntaErrorMessage?_.discount_ntaErrorMessage:"",onChange:U("discount_nta"),style:{marginBottom:10},InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},"%")}}),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{clearable:!0,disablePast:!0,inputVariant:"outlined",fullWidth:!0,format:"yyyy/MM/dd",label:"Validity Period",value:_.validity_period?new Date(_.validity_period):new Date,onChange:(D="validity_period",function(e){C(Object(p.a)(Object(p.a)({},_),{},Object(O.a)({},D,new Date(e).getTime())))}),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(kt.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"}},r.a.createElement(At.a,{style:{marginRight:"10px"},onClick:H,variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(At.a,{onClick:function(){var e={request:{product_name:_.product_name,price:Number(_.price),nta:Number(_.nta),ntsa:Number(_.ntsa),discount_nta:Number(_.discount_nta),discount_price:Number(_.discount_price),validity_period:_.validity_period},params:"/"+_.id,serviceMethod:"PATCH",serviceCode:"GENERAL_PRODUCT_CATALOG_UPDATE",customHeaders:{clientId:"voltras-health"}};a(e),f(!1)},variant:"contained",color:"primary"},"Edit Product")))),r.a.createElement(Rt.a,{open:c,scroll:"paper",TransitionComponent:Mi,keepMounted:!0,maxWidth:"xs"},r.a.createElement(xt.a,null,r.a.createElement("div",{className:"dialog-header"},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Create Product"),r.a.createElement(yt.a,{"aria-label":"delete",onClick:H},r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement(wt.a,null,r.a.createElement("div",{className:"dialog-content"},r.a.createElement(ea.a,{label:"Product Name",fullWidth:!0,variant:"outlined",error:!!h.product_nameErrorMessage,helperText:h.product_nameErrorMessage?h.product_nameErrorMessage:"",onChange:q("product_name"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"Price",fullWidth:!0,variant:"outlined",error:!!h.priceErrorMessage,helperText:h.priceErrorMessage?h.priceErrorMessage:"",onChange:q("price"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"NTA",fullWidth:!0,variant:"outlined",error:!!h.ntaErrorMessage,helperText:h.ntaErrorMessage?h.ntaErrorMessage:"",onChange:q("nta"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"NTSA",fullWidth:!0,variant:"outlined",error:!!h.ntsaErrorMessage,helperText:h.ntsaErrorMessage?h.ntsaErrorMessage:"",onChange:q("ntsa"),style:{marginBottom:10},InputLabelProps:{shrink:!0}}),r.a.createElement(ea.a,{label:"Discount Price",fullWidth:!0,variant:"outlined",error:!!h.discount_priceErrorMessage,helperText:h.discount_priceErrorMessage?h.discount_priceErrorMessage:"",onChange:q("discount_price"),style:{marginBottom:10},InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},"%")}}),r.a.createElement(ea.a,{label:"Discount Nta",fullWidth:!0,variant:"outlined",error:!!h.discount_ntaErrorMessage,helperText:h.discount_ntaErrorMessage?h.discount_ntaErrorMessage:"",onChange:q("discount_nta"),style:{marginBottom:10},InputLabelProps:{shrink:!0},InputProps:{endAdornment:r.a.createElement(ta.a,{position:"end"},"%")}}),r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{clearable:!0,disablePast:!0,inputVariant:"outlined",fullWidth:!0,format:"yyyy/MM/dd",label:"Validity Period",value:h.validity_period?h.validity_period:new Date,onChange:function(e){return function(t){b(Object(p.a)(Object(p.a)({},h),{},Object(O.a)({},e,new Date(t).getTime())))}}("validity_period"),KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(kt.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"}},r.a.createElement(At.a,{style:{marginRight:"10px"},onClick:H,variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(At.a,{onClick:function(){var e={product_name:h.product_name,price:Number(h.price),nta:Number(h.nta),ntsa:Number(h.ntsa),discount_nta:Number(h.discount_nta),discount_price:Number(h.discount_price),validity_period:h.validity_period};a({request:e,serviceMethod:"POST",serviceCode:"GENERAL_PRODUCT_CATALOG_CREATE",customHeaders:{clientId:"voltras-health"}}),s(!1)},variant:"contained",color:"primary",disabled:!(h.product_name&&h.price&&h.nta&&h.discount_nta&&h.discount_price)&&(h.product_nameErrorMessage||h.ntaErrorMessage||h.discount_priceErrorMessage||h.discount_ntaErrorMessage||h.priceErrorMessage,!0)},"Save Product")))))})),Ui=Object(Bt.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Ni(e){var t=Ui(),a=Object(kr.a)(),n=e.count,i=e.page,l=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:t.root},r.a.createElement(yt.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page"},"rtl"===a.direction?r.a.createElement(Wr.a,null):r.a.createElement(Nr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page"},"rtl"===a.direction?r.a.createElement(zr.a,null):r.a.createElement(Hr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(n/l)-1,"aria-label":"next page"},"rtl"===a.direction?r.a.createElement(Hr.a,null):r.a.createElement(zr.a,null)),r.a.createElement(yt.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/l)-1))},disabled:i>=Math.ceil(n/l)-1,"aria-label":"last page"},"rtl"===a.direction?r.a.createElement(Nr.a,null):r.a.createElement(Wr.a,null)))}var Fi=a(232),Hi=a(776),qi=a(13),zi=a(775),Bi=a(746),Wi=a(367);function Gi(e){var t=Object(Wi.useSpring)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return r.a.createElement(Wi.animated.div,{style:t},r.a.createElement(Bi.a,e))}var Vi=Object(ct.a)((function(e){return{iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:7,paddingLeft:18,borderLeft:"1px dashed ".concat(Object(qi.d)(e.palette.text.primary,.4))}}}))((function(e){return r.a.createElement(zi.a,Object.assign({},e,{TransitionComponent:Gi}))})),Ki=function e(t){var a=t.items;return a&&a.length?a.map((function(t){return t.children?r.a.createElement(Vi,{nodeId:t.id,label:t.name},r.a.createElement(e,{items:t.children})):r.a.createElement(Vi,{nodeId:t.id,label:t.name})})):null};a(724);function Yi(e){return r.a.createElement(Fi.a,Object.assign({fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"}))}function Qi(e){return r.a.createElement(Fi.a,Object.assign({fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"}))}function Ji(e){return r.a.createElement(Fi.a,Object.assign({className:"close",fontSize:"inherit",style:{width:14,height:14}},e),r.a.createElement("path",{d:"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z"}))}var Xi=Object(Bt.a)({root:{height:264,flexGrow:1,maxWidth:400}}),$i=Object(o.b)(null,(function(e){return{setOpenScreen:function(t){return e(Oe(t))}}}))((function(e){var t=e.setOpenScreen;Object(n.useEffect)((function(){t("Clinic Scope")}),[t]);var a=Xi();return r.a.createElement("div",{className:"clinic-scope-container"},r.a.createElement(Hi.a,{className:a.root,defaultExpanded:["1"],defaultCollapseIcon:r.a.createElement(Yi,null),defaultExpandIcon:r.a.createElement(Qi,null),defaultEndIcon:r.a.createElement(Ji,null)},r.a.createElement(Ki,{items:[{id:2,name:"Biofarma",children:[{id:3,name:"Klinik Biofarma 1",children:null}]},{id:4,name:"Kimia Farma",children:[{id:5,name:"Klinik Kimia Farma 1",children:[{id:7,name:"Klinik Kimia Farma 1.1",children:null},{id:8,name:"Klinik Kimia Farma 1.2",children:[{id:123,name:"Klinik Kimia Farma 123",children:null}]}]},{id:6,name:"Klinik Kimia Farma 2",children:null}]}]})))})),Zi=a(774),el=function(e){return isNaN(e)?0:e},tl=function(e,t){var a=e[0]&&e.map((function(e){return e.testdate})),n=["Products"].concat(a).concat(["Total"]),r=[],i=[],l={};t.map((function(e){return l[e]=0}));var o=[];e[0]&&(e.forEach((function(e){var t=Object(p.a)({},l);e.product.map((function(e){return t[e.name]=e.total})),o.push(t)})),t.forEach((function(e){var t=[e],a=[{value:e}];o.forEach((function(n,r){t.push(n[e]),a.push({value:n[e]})}));var n=t.reduce((function(e,t){return el(e)+el(t)}));t.push(n),a.push({value:n}),r.push(t),i.push(a)})));var c=n.map((function(e,t){return{title:e,width:{wch:0===t?25:12}}}));return{allColumns:n,allRows:r,dataSet:[{ySteps:1,columns:c,data:i}]}},al=function(e,t){var a=[],n=[];if(e.detail&&t[0]){for(var r=e.detail,i=e.total,l=["clinic_name"],o=0;o<2*t.length;o++)l.push(0);r.forEach((function(e){var n=[].concat(l);n[0]=e.name,t.forEach((function(t,a){e.product.forEach((function(e,r){t===e.name&&(0===a&&(n[1]=e.patient,n[2]=parseInt(e.nta)),n[2*a+1]=e.patient,n[2*a+2]=parseInt(e.nta))}))})),n.push(e.total_patient),n.push(parseInt(e.total_nta)),a.push(n)}));var c=[].concat(l);c[0]="Total",t.forEach((function(e,t){i.forEach((function(a,n){e===a.name&&(0===t&&(c[1]=a.patient,c[2]=parseInt(a.nta)),c[2*t+1]=a.patient,c[2*t+2]=parseInt(a.nta))}))}));var s=[],m=[];c.forEach((function(e,t){t%2===0?m.push(e):s.push(e)}));var d=s.reduce((function(e,t){return el(e)+el(t)})),u=m.reduce((function(e,t){return el(e)+el(t)}));c.push(d),c.push(u),a.push(c);var p=[{title:" ",width:{wch:25}}],f=[{value:"Clinics",style:{font:{bold:!0}}}];t.map((function(e){return[e," "].map((function(e,t){return p.push({title:e,width:{wch:0===t?5:12}})}))})),p.push({title:"TOTAL",width:{wch:5}}),p.push({title:" ",width:{wch:12}}),t.map((function(e){return["Pax","NTA"].map((function(e){return f.push({value:e,style:{alignment:{horizontal:"center"}}})}))})),f.push({value:"Pax",style:{alignment:{horizontal:"center"}}}),f.push({value:"NTA",style:{alignment:{horizontal:"center"}}});var E={ySteps:1,columns:p,data:[]};E.data.push(f),a.forEach((function(e){var t=[];e.forEach((function(e){t.push({value:e})})),E.data.push(t)})),n.push(E)}return{allRows:a,dataSet:n}},nl=Object(ct.a)((function(e){return{labelRoot:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",marginLeft:20},inputRoot:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",height:20,width:60,marginLeft:20},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(yn.a)(e,["children","classes","onClose"]);return r.a.createElement(xt.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(ht.a,{variant:"h6"},t),n?r.a.createElement(yt.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(_n.a,null)):null)})),rl=function(e){var t=e.column?e.column:[],a=[];a=e.detailData&&e.detailData.product?e.detailData.product:[];var n=function(){e.handleOpen(!1)};return r.a.createElement("div",null,r.a.createElement(Rt.a,{fullWidth:!0,maxWidth:"sm",open:e.open,onClose:n,scroll:"paper"},r.a.createElement(nl,{id:"dialog-title",onClose:n},e.title),r.a.createElement(wt.a,{dividers:!0},r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},e.detailData.name?"Clinic : "+e.detailData.name:"Test Date : "+e.detailData.testdate)),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(gt.a,{disablePadding:!0},a.map((function(a,n){return r.a.createElement("div",{key:n},r.a.createElement(Ot.a,null,r.a.createElement(St.a,{container:!0,justify:"space-between"},r.a.createElement(St.a,{item:!0,sm:5,xs:5},t.map((function(e,t){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:t+8},r.a.createElement(ht.a,{style:{color:"grey",fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title))}))),r.a.createElement(St.a,{item:!0,sm:e.arrow?5:7,xs:e.arrow?5:7},t.map((function(e,t){return r.a.createElement(St.a,{item:!0,sm:12,xs:12,key:t+12},r.a.createElement(ht.a,{style:{fontSize:11,marginBottom:5,fontFamily:"Arial, Helvetica, sans-serif"},noWrap:!0},e.title?a[e.field]?a[e.field]:"-":null))}))),e.arrow?r.a.createElement(St.a,{item:!0,sm:2,xs:2,align:"right",style:{paddingTop:30}},r.a.createElement(Tt.a,null)):null)),r.a.createElement(bt.a,null))})))))),r.a.createElement(kt.a,null)))},il=Za("lastWeek"),ll=Za("nextWeek"),ol=Va.a.ExcelFile,cl=Va.a.ExcelFile.ExcelSheet,sl=Object(Bt.a)({table:{minWidth:700}}),ml={setOpenScreen:Oe,setServiceRequest:Y,setServiceMethod:X,setServiceParams:$,setServiceCustomHeaders:Z,setServiceCode:J,setServiceRole:ee,setServiceStatus:Q,setPaxProduct:pe},dl=Object(o.b)((function(e){return{userInfo:e.userInfo.info,paxList:e.paxList,roleUsed:e.userInfo.roleUsed,system:e.system}}),ml)((function(e){var t=Object.assign({},e),a=t.setOpenScreen,i=t.setServiceRequest,l=t.setServiceMethod,o=t.setServiceParams,c=t.setServiceCustomHeaders,s=t.setServiceCode,m=t.setServiceRole,d=t.setServiceStatus,u=t.setPaxProduct,f=t.roleUsed,E=t.userInfo,g=t.paxList,h=t.system,b=function(e){i(e.request),l(e.method),s(e.serviceCode),o(e.params),c(e.customHeaders),m(e.serviceRole),d("active")},y=sl(),v=Object(n.useState)({fromdate:il,todate:ll,clinic_recapt_logistic:[],clinic_product:[],table_component:{allRows:[],allColumns:[]},table_biofarma:[],dataSet:[{ySteps:1,columns:[{title:"OrderID",width:{wch:7}},{title:"",width:{wch:12}},{title:"Test Date",width:{wch:12}},{title:"",width:{wch:12}}],data:[[{value:33},{value:2},{value:33}]]}]}),_=Object(lt.a)(v,2),C=_[0],j=_[1];Object(n.useEffect)((function(){a("All Order Summary");var e=g.clinicUser?g.clinicUser.id:0,t=E.name,n=E.email,r=E.phone,i={name:t,email:n};r&&(i.phone=r);var l="clinic.admin"===f?"RECAPT_CLINIC_SUMMARY":"RECAPT_BIOFARMA_SUMMARY",o="clinic.admin"===f?"/".concat(e,"?&from_date=").concat(il,"&to_date=").concat(ll,"&redeemed=False"):"/transaction?&from_date=".concat(il,"&to_date=").concat(ll,"&redeemed=False");t&&n&&We({},"GET","healthProduct",null,i,null,0,(function(e){u(e.body),b({request:{},method:"GET",serviceCode:l,params:o,customHeaders:i})}))}),[]),Object(n.useEffect)((function(){if("clinic.admin"===f){var e=g.clinicUser?g.clinicUser.available_products_id:[],t=g.product,a=[];e[0]&&t[0]&&t.forEach((function(t){e.includes(t.id)&&a.push(t.name)})),j((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_recapt_logistic:g.clinic_recapt_logistic,clinic_product:a})}))}else{var n=g.product.map((function(e){return e.name}));j((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_recapt_logistic:g.clinic_recapt_logistic,clinic_product:n})}))}}),[g.clinic_recapt_logistic,g.clinicUser,g.product,f]),Object(n.useEffect)((function(){if("clinic.admin"===f){var e=tl(C.clinic_recapt_logistic,C.clinic_product);j((function(t){return Object(p.a)(Object(p.a)({},t),{},{table_component:e})}))}else{var t=al(C.clinic_recapt_logistic,C.clinic_product);j((function(e){return Object(p.a)(Object(p.a)({},e),{},{table_biofarma:t.allRows,dataSet:t.dataSet})}))}}),[C.clinic_recapt_logistic,C.clinic_product,f]);var S=function(e){return function(t){j(Object(p.a)(Object(p.a)({},C),{},Object(O.a)({},e,Ya(t))));var a=g.clinicUser?g.clinicUser.id:0,n=E.name,r=E.email,i=E.phone,l={name:n,email:r};i&&(l.phone=i);var o={fromdate:C.fromdate,todate:C.todate};o[e]=Ya(t);var c="clinic.admin"===f?"RECAPT_CLINIC_SUMMARY":"RECAPT_BIOFARMA_SUMMARY",s="clinic.admin"===f?"/".concat(a,"?&from_date=").concat(o.fromdate,"&to_date=").concat(o.todate,"&redeemed=False"):"/transaction?&from_date=".concat(o.fromdate,"&to_date=").concat(o.todate,"&redeemed=False");b({request:{},method:"GET",serviceCode:c,params:s,customHeaders:l})}},I=Object(n.useState)(!1),T=Object(lt.a)(I,2),R=T[0],k=T[1],w=Object(n.useState)({}),L=Object(lt.a)(w,2),x=L[0],A=L[1],P=function(e){k(!0),A(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:30}},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Jt.a,{style:{visibility:h.serviceStart&&"All Order Summary"===h.openScreen?"visible":"hidden"},color:"secondary",size:30,thickness:5})),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(ht.a,{variant:"subtitle2"},"Testdate Periode:")),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:C.fromdate,onChange:S("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:C.todate,onChange:S("todate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(St.a,{item:!0},r.a.createElement(ol,{filename:"Order Summary ".concat(C.fromdate," to ").concat(C.todate),element:r.a.createElement(At.a,{size:"small",variant:"contained",color:"primary"},Be("app_export_xls"))},r.a.createElement(cl,{dataSet:"clinic.admin"===f?C.table_component.dataSet:C.dataSet,name:"Order Report Summary"})))),"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(Zi.a,{component:st.a},r.a.createElement(wr.a,{className:y.table,"aria-label":"spanning table",size:"small"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center"}),C.clinic_product.map((function(e,t){return r.a.createElement(xr.a,{align:"center",colSpan:2,key:t+21},e)})),r.a.createElement(xr.a,{align:"center",colSpan:2},"TOTAL")),r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center"},"CLINICS"),C.clinic_product.map((function(e,t){return["Pax","NTA"].map((function(e,a){return r.a.createElement(xr.a,{align:"center",key:t+a},e)}))})),r.a.createElement(xr.a,{align:"center"},"Pax"),r.a.createElement(xr.a,{align:"center"},"NTA"))),r.a.createElement(Lr.a,null,C.table_biofarma.map((function(e,t){return r.a.createElement(Dr.a,{key:t},e.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:t+555},e)})))}))))):"clinic.admin"===f?r.a.createElement(Zi.a,{component:st.a},r.a.createElement(wr.a,{className:y.table,"aria-label":"spanning table"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center",colSpan:C.table_component.allColumns.length},"TEST DATE")),r.a.createElement(Dr.a,null,C.table_component.allColumns.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:99+t},e)})))),r.a.createElement(Lr.a,null,C.table_component.allRows.map((function(e,t){return r.a.createElement(Dr.a,{key:t+54},e.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:t+212},e)})))}))))):null),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(rl,{open:R,title:"Order Detail",handleOpen:function(){return k(!1)},detailData:x,column:"biofarma.admin"===f||"voltras.admin"===f?[{title:"Product Name",field:"name"},{title:"Pax",field:"patient"},{title:"NTA",field:"nta"},{title:"Total NTA",field:"sum_nta"}]:[{title:"Product Name",field:"name"},{title:"Total",field:"total"}]}),"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Order Summary")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:5,sm:5},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total Pax")),r.a.createElement(St.a,{item:!0,xs:7,sm:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},C.clinic_recapt_logistic[0]?C.clinic_recapt_logistic.total&&C.clinic_recapt_logistic.total.reduce((function(e,t){return Number(e)+Number(t.patient)}),0):"")),r.a.createElement(St.a,{item:!0,xs:5,sm:5},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total NTA")),r.a.createElement(St.a,{item:!0,xs:7,sm:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},C.clinic_recapt_logistic[0]?C.clinic_recapt_logistic.total&&C.clinic_recapt_logistic.total.reduce((function(e,t){return Number(e)+Number(t.nta)}),0):""))))):r.a.createElement("div",null),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Filter By")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Testdate Periode"),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:C.fromdate,onChange:S("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))),r.a.createElement(St.a,{item:!0,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:C.todate,onChange:S("todate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}})))),r.a.createElement(St.a,{container:!0,justify:"center",style:{paddingTop:10,marginBottom:10}},r.a.createElement(ol,{filename:"Order Summary ".concat(C.fromdate," to ").concat(C.todate),element:r.a.createElement(At.a,{variant:"outlined",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,paddingLeft:30,paddingRight:30},size:"small",color:"primary"},Be("app_export_xls"))},r.a.createElement(cl,{dataSet:"clinic.admin"===f?C.table_component.dataSet:C.dataSet,name:"Order Report Summary"}))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"All Order")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(nn,{column:[{title:"Clinic",field:"name"},{title:"Total Pax",field:"total_patient"},{title:"Total NTA",field:"total_nta"}],data:C.clinic_recapt_logistic.detail,button:!0,arrow:!0,onClickList:P}):r.a.createElement("div",null,r.a.createElement(nn,{column:[{title:"Test Date",field:"testdate"}],data:C.clinic_recapt_logistic,button:!0,arrow:!0,onClickList:P}))))))})),ul=Za("lastWeek"),pl=Za("nextWeek"),fl=Va.a.ExcelFile,El=Va.a.ExcelFile.ExcelSheet,gl=Object(Bt.a)({table:{minWidth:700}}),hl={setOpenScreen:Oe,setServiceRequest:Y,setServiceMethod:X,setServiceParams:$,setServiceCustomHeaders:Z,setServiceCode:J,setServiceRole:ee,setServiceStatus:Q,setPaxProduct:pe},bl=Object(o.b)((function(e){return{userInfo:e.userInfo.info,paxList:e.paxList,roleUsed:e.userInfo.roleUsed,system:e.system}}),hl)((function(e){var t=Object.assign({},e),a=t.setOpenScreen,i=t.setServiceRequest,l=t.setServiceMethod,o=t.setServiceParams,c=t.setServiceCustomHeaders,s=t.setServiceCode,m=t.setServiceRole,d=t.setServiceStatus,u=t.setPaxProduct,f=t.roleUsed,E=t.userInfo,g=t.paxList,h=t.system,b=function(e){i(e.request),l(e.method),s(e.serviceCode),o(e.params),c(e.customHeaders),m(e.serviceRole),d("active")},y=gl(),v=Object(n.useState)({fromdate:ul,todate:pl,clinic_recapt_logistic:[],clinic_product:[],table_component:{allRows:[],allColumns:[]},table_biofarma:[],dataSet:[{ySteps:1,columns:[{title:"OrderID",width:{wch:7}},{title:"",width:{wch:12}},{title:"Test Date",width:{wch:12}},{title:"",width:{wch:12}}],data:[[{value:33},{value:2},{value:33}]]}]}),_=Object(lt.a)(v,2),C=_[0],j=_[1];Object(n.useEffect)((function(){a("Redeemed Order Summary");var e=g.clinicUser?g.clinicUser.id:0,t=E.name,n=E.email,r=E.phone,i={name:t,email:n};r&&(i.phone=r);var l="clinic.admin"===f?"RECAPT_CLINIC_SUMMARY":"RECAPT_BIOFARMA_SUMMARY",o="clinic.admin"===f?"/".concat(e,"?&from_date=").concat(ul,"&to_date=").concat(pl,"&redeemed=True"):"/transaction?&from_date=".concat(ul,"&to_date=").concat(pl,"&redeemed=True");t&&n&&We({},"GET","healthProduct",null,i,null,0,(function(e){u(e.body),b({request:{},method:"GET",serviceCode:l,params:o,customHeaders:i})}))}),[]),Object(n.useEffect)((function(){if("clinic.admin"===f){var e=g.clinicUser?g.clinicUser.available_products_id:[],t=g.product,a=[];e[0]&&t[0]&&t.forEach((function(t){e.includes(t.id)&&a.push(t.name)})),j((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_recapt_logistic:g.clinic_recapt_logistic,clinic_product:a})}))}else{var n=g.product.map((function(e){return e.name}));j((function(e){return Object(p.a)(Object(p.a)({},e),{},{clinic_recapt_logistic:g.clinic_recapt_logistic,clinic_product:n})}))}}),[g.clinic_recapt_logistic,g.clinicUser,g.product,f]),Object(n.useEffect)((function(){if("clinic.admin"===f){var e=tl(C.clinic_recapt_logistic,C.clinic_product);j((function(t){return Object(p.a)(Object(p.a)({},t),{},{table_component:e})}))}else{var t=al(C.clinic_recapt_logistic,C.clinic_product);j((function(e){return Object(p.a)(Object(p.a)({},e),{},{table_biofarma:t.allRows,dataSet:t.dataSet})}))}}),[C.clinic_recapt_logistic,C.clinic_product,f]);var S=function(e){return function(t){j(Object(p.a)(Object(p.a)({},C),{},Object(O.a)({},e,Ya(t))));var a=g.clinicUser?g.clinicUser.id:0,n=E.name,r=E.email,i=E.phone,l={name:n,email:r};i&&(l.phone=i);var o={fromdate:C.fromdate,todate:C.todate};o[e]=Ya(t);var c="clinic.admin"===f?"RECAPT_CLINIC_SUMMARY":"RECAPT_BIOFARMA_SUMMARY",s="clinic.admin"===f?"/".concat(a,"?&from_date=").concat(o.fromdate,"&to_date=").concat(o.todate,"&redeemed=True"):"/transaction?&from_date=".concat(o.fromdate,"&to_date=").concat(o.todate,"&redeemed=True");b({request:{},method:"GET",serviceCode:c,params:s,customHeaders:l})}},I=Object(n.useState)(!1),T=Object(lt.a)(I,2),R=T[0],k=T[1],w=Object(n.useState)({}),L=Object(lt.a)(w,2),x=L[0],A=L[1],P=function(e){k(!0),A(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt.a,{smDown:!0},r.a.createElement(St.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:30}},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Jt.a,{style:{visibility:h.serviceStart&&"Redeemed Order Summary"===h.openScreen?"visible":"hidden"},color:"secondary",size:30,thickness:5})),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(ht.a,{variant:"subtitle2"},"Testdate Periode:")),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:C.fromdate,onChange:S("fromdate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(St.a,{item:!0,sm:2},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:C.todate,onChange:S("todate"),KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(St.a,{item:!0},r.a.createElement(fl,{filename:"Order Summary ".concat(C.fromdate," to ").concat(C.todate),element:r.a.createElement(At.a,{size:"small",variant:"contained",color:"primary"},Be("app_export_xls"))},r.a.createElement(El,{dataSet:"clinic.admin"===f?C.table_component.dataSet:C.dataSet,name:"Order Report Summary"})))),"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(Zi.a,{component:st.a},r.a.createElement(wr.a,{className:y.table,"aria-label":"spanning table",size:"small"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center"}),C.clinic_product.map((function(e,t){return r.a.createElement(xr.a,{align:"center",colSpan:2,key:t+21},e)})),r.a.createElement(xr.a,{align:"center",colSpan:2},"TOTAL")),r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center"},"CLINICS"),C.clinic_product.map((function(e,t){return["Pax","NTA"].map((function(e,a){return r.a.createElement(xr.a,{align:"center",key:t+a},e)}))})),r.a.createElement(xr.a,{align:"center"},"Pax"),r.a.createElement(xr.a,{align:"center"},"NTA"))),r.a.createElement(Lr.a,null,C.table_biofarma.map((function(e,t){return r.a.createElement(Dr.a,{key:t},e.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:t+555},e)})))}))))):"clinic.admin"===f?r.a.createElement(Zi.a,{component:st.a},r.a.createElement(wr.a,{className:y.table,"aria-label":"spanning table"},r.a.createElement(Pr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(xr.a,{align:"center",colSpan:9},"TEST DATE")),r.a.createElement(Dr.a,null,C.table_component.allColumns.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:99+t},e)})))),r.a.createElement(Lr.a,null,C.table_component.allRows.map((function(e,t){return r.a.createElement(Dr.a,{key:t+54},e.map((function(e,t){return r.a.createElement(xr.a,{align:"center",key:t+212},e)})))}))))):null),r.a.createElement(qt.a,{smUp:!0},r.a.createElement(rl,{open:R,title:"Order Detail",handleOpen:function(){return k(!1)},detailData:x,column:"biofarma.admin"===f||"voltras.admin"===f?[{title:"Product Name",field:"name"},{title:"Pax",field:"patient"},{title:"NTA",field:"nta"},{title:"Total NTA",field:"sum_nta"}]:[{title:"Product Name",field:"name"},{title:"Total",field:"total"}]}),"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(Pt.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Redemeed Summary")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,xs:5,sm:5},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total Pax")),r.a.createElement(St.a,{item:!0,xs:7,sm:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},C.clinic_recapt_logistic[0]?C.clinic_recapt_logistic&&C.clinic_recapt_logistic.total.reduce((function(e,t){return Number(e)+Number(t.patient)}),0):"")),r.a.createElement(St.a,{item:!0,xs:5,sm:5},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,color:"grey",fontFamily:"Arial, Helvetica, sans-serif"}},"Total NTA")),r.a.createElement(St.a,{item:!0,xs:7,sm:7},r.a.createElement(ht.a,{style:{fontSize:11,padding:3,fontFamily:"Arial, Helvetica, sans-serif"}},C.clinic_recapt_logistic[0]?C.clinic_recapt_logistic&&C.clinic_recapt_logistic.total.reduce((function(e,t){return Number(e)+Number(t.nta)}),0):""))))):r.a.createElement("div",null),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Filter By")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},r.a.createElement(ht.a,{style:{marginTop:10,fontSize:12,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"Testdate Periode"),r.a.createElement(St.a,{container:!0},r.a.createElement(St.a,{item:!0,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},size:"small",clearable:!0,format:"yyyy/MM/dd",margin:"dense",id:"date-picker-from",label:"From",value:C.fromdate,onChange:S("fromdate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}}))),r.a.createElement(St.a,{item:!0,sm:6,xs:6},r.a.createElement(Ha.a,{utils:Fa.default},r.a.createElement(qa.b,{autoOk:!0,style:{width:150},clearable:!0,size:"small",format:"yyyy/MM/dd",margin:"dense",id:"date-picker-to",label:"To",value:C.todate,onChange:S("todate"),KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}},InputProps:{style:{fontSize:12,fontFamily:"Arial, Helvetica, sans-serif"}}})))),r.a.createElement(St.a,{container:!0,justify:"center",style:{paddingTop:10,marginBottom:10}},r.a.createElement(fl,{filename:"Order Summary ".concat(C.fromdate," to ").concat(C.todate),element:r.a.createElement(At.a,{size:"small",variant:"outlined",color:"primary",style:{textTransform:"none",borderRadius:20,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"bold",fontSize:12,paddingLeft:30,paddingRight:30}},Be("app_export_xls"))},r.a.createElement(El,{dataSet:"clinic.admin"===f?C.table_component.dataSet:C.dataSet,name:"Order Report Summary"}))))),r.a.createElement(Pt.a,{style:{marginTop:10}},r.a.createElement("div",{style:{backgroundColor:"#f4f0ec",padding:5,width:"100%"}},r.a.createElement(ht.a,{style:{fontSize:15,fontFamily:"Arial, Helvetica, sans-serif",color:"grey",fontWeight:"bold"}},"All Redeemed")),r.a.createElement("div",{style:{marginLeft:15,marginRight:15}},"biofarma.admin"===f||"voltras.admin"===f?r.a.createElement(nn,{column:[{title:"Clinic",field:"name"},{title:"Total Pax",field:"total_patient"},{title:"Total NTA",field:"total_nta"}],data:C.clinic_recapt_logistic.detail,button:!0,arrow:!0,onClickList:P}):r.a.createElement("div",null,r.a.createElement(nn,{column:[{title:"Test Date",field:"testdate"}],data:C.clinic_recapt_logistic,button:!0,arrow:!0,onClickList:P}))))))})),yl=function(){return r.a.createElement("div",null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",component:Qt}),r.a.createElement(G.a,{path:"/Home",component:Qt}),r.a.createElement(G.a,{path:"/Login",component:Ma}),r.a.createElement(G.a,{path:"/Register",component:Na}),r.a.createElement(G.a,{path:"/PaxList",component:gn}),r.a.createElement(G.a,{path:"/PaxDetail",component:Tn}),r.a.createElement(G.a,{path:"/QrScreen",component:wn}),r.a.createElement(G.a,{path:"/VCreateUser",component:Un}),r.a.createElement(G.a,{path:"/VUserList",component:lr}),r.a.createElement(G.a,{path:"/KCreateAdmin",component:Un}),r.a.createElement(G.a,{path:"/KAdminList",component:lr}),r.a.createElement(G.a,{path:"/KSetting",component:Er}),r.a.createElement(G.a,{path:"/KClinicList",component:_r}),r.a.createElement(G.a,{path:"/KClinicRegistration",component:Or}),r.a.createElement(G.a,{path:"/VClientList",component:Zr}),r.a.createElement(G.a,{path:"/VRequestList",component:pi}),r.a.createElement(G.a,{path:"/VCreateClient",component:ri}),r.a.createElement(G.a,{path:"/OrderReport",component:bi}),r.a.createElement(G.a,{path:"/KOrderReportAll",component:Ci}),r.a.createElement(G.a,{path:"/UserProfile",component:wi}),r.a.createElement(G.a,{path:"/GenericConfiguration",component:xi}),r.a.createElement(G.a,{path:"/CatalogProduct",component:Di}),r.a.createElement(G.a,{path:"/ClinicScope",component:$i}),r.a.createElement(G.a,{path:"/KOrderSummaryAll",component:dl}),r.a.createElement(G.a,{path:"/KOrderSummaryRedeem",component:bl})))},vl=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.handleAction=function(){var e="",t=n.props.locale?n.props.locale.slice(0,2):"en",a=n.state.action;"SEND_EMAIL_VERIFICATION"===a&&(e="email"),"SEND_PHONE_VERIFICATION"===a&&(e="phone");var r={method:"GET",request:{},serviceCode:a,urlParams:"/".concat(e,"?&lang=").concat(t,"&redirectURI=").concat("http://www.alamanak.co.id")};n.props._setCompleteRequest(r),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{open:!1}))},n.state={open:!1,severity:"",message:"",action:!1,actionLabel:""},n}return Object(z.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=e.feedback.snackBar,n=a.open,r=a.message;n&&r?(this.setState(Object(p.a)(Object(p.a)(Object(p.a)({},this.state),a),{},{open:!0})),a.redirect&&setTimeout((function(){t.props.history.push("/".concat(a.redirect))}),2e3)):this.setState(Object(p.a)(Object(p.a)({},this.state),{},{open:!1}))}},{key:"componentWillUnmount",value:function(){this.setState({open:!1,severity:"",message:"",action:!1,actionLabel:""})}},{key:"render",value:function(){var e=this.state,t=e.open,a=e.message,n=e.position,i=e.severity,l=e.action,o=e.actionLabel,c=e.duration;return r.a.createElement("div",null,r.a.createElement(at.a,{anchorOrigin:n?{vertical:n.split("-")[0],horizontal:n.split("-")[1]}:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:c||4e3,onClose:this.handleClose,message:a},r.a.createElement(nt.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:i,action:l?r.a.createElement(At.a,{color:"primary",variant:"contained",onClick:this.handleAction,style:{textTransform:"none",fontWeight:"bold"}},o):null},a)))}}]),a}(n.Component),_l=Object(o.b)((function(e){return{feedback:e.feedback,locale:e.system.locale}}),(function(e){return{_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.urlParams)),e(Z(t.customHeaders)),e(ee(t.serviceRole)),e(Q("active"))}}}))(vl),Ol=Object(n.forwardRef)((function(e,t){return r.a.createElement(Xt.a,Object.assign({direction:"down",ref:t},e))}));function Cl(e){var t,a=Object(n.useState)({otp:"",otpErrorMessage:"",onLoginErrorMessage:""}),i=Object(lt.a)(a,2),l=i[0],o=i[1];return r.a.createElement("div",null,r.a.createElement(Rt.a,{open:e.open,TransitionComponent:Ol,keepMounted:!0,onClose:function(){e.handleDialogClose()}},r.a.createElement(Pt.a,{style:{display:"flex",flexWrap:"wrap",width:300},elevation:4},r.a.createElement(St.a,{style:{margin:30},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,Be("app_submit_otp"))," "),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},Be("app_submit_otp_text")),r.a.createElement(ht.a,{variant:"subtitle2",color:"primary"},e.phone),r.a.createElement(Ft.a,{style:{margin:10,width:"12ch",textAlign:"center"}},r.a.createElement(Dt.a,{autoFocus:!0,style:{fontSize:28,textAlign:"center"},error:!!l.otpErrorMessage,id:"standard-adornment-otp",type:"text",onChange:(t="otp",function(e){var a;e.preventDefault();var n=Ea(t,e.target.value);o(Object(p.a)(Object(p.a)({},l),{},(a={},Object(O.a)(a,t,e.target.value.slice(0,6)),Object(O.a)(a,t+"ErrorMessage",n.errorMessage),a)))}),value:l.otp,maxLength:6})),l.otpErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"email-helper-text"},l.otpErrorMessage):null,r.a.createElement(Ft.a,null,r.a.createElement(St.a,null,r.a.createElement(At.a,{onClick:function(){e.handleDialogClose()},variant:"outlined",color:"primary",style:{margin:10}},Be("app_cancel")),r.a.createElement(At.a,{onClick:function(){if(l.otp){var t=e.clientId,a={request:{challenge:l.otp,otpID:e.otpID,redirectURI:"http://www.alamanak.co.id"},method:"POST",serviceCode:"VERIFICATION_CHECK",customHeaders:{clientId:t},params:"/phone"};e.handleSubmitOtp(a)}setTimeout((function(){e.handleDialogClose()}),50)},disabled:!l.otp,style:{margin:10},variant:"contained",color:"primary"},Be("app_submit"))),l.onLoginErrorMessage?r.a.createElement(Nt.a,{error:!0,id:"password-helper-text"},l.onLoginErrorMessage):null),r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},Be("app_not_receive_otp")),r.a.createElement(At.a,{size:"small",onClick:function(){},color:"primary",style:{textTransform:"none",fontWeight:"bold",fontSize:12}},Be("app_resend_otp")))))))}var jl=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(q.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0,mainHidden:!0})},n.handleDrawerClose=function(){n.setState({open:!1,mainHidden:!1})},n.handleDrawerClick=function(e){var t=window.screen.width,a=e.url;if(n.props._setMenuClickUrl(a),e.children[0]){Object.entries(n.props.menu).forEach((function(e){var t=Object(lt.a)(e,2),a=t[0];t[1];"menuItems"!==a&&n.props._toggleCollapseMenu({name:a,value:!1})}));var r={name:a,value:!n.props.menu[a]};n.props._toggleCollapseMenu(r)}else"Logout"===a?n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!0})):t<1e3?(n.setState({open:!n.state.open,mainHidden:!n.state.mainHidden}),n.props.history.push("/".concat(a))):n.props.history.push("/".concat(a))},n.handleClickOpen=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!0}))},n.handleClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!1}))},n.handleMainClick=function(){window.screen.width<1e3&&n.state.mainHidden&&n.setState({open:!n.state.open,mainHidden:!n.state.mainHidden})},n.handleLogout=function(){localStorage.clear(),n.props._setCompleteRequest({request:{redirectURI:"http://login.page"},method:"POST",serviceCode:"logout"}),n.setState(Object(p.a)(Object(p.a)({},n.state),{},{openLogout:!1,open:!1}))},n.handleDialogClose=function(){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{dialogOpen:!n.state.dialogOpen}))},n.handleSubmitOtp=function(e){n.props._setCompleteRequest(e)},n.handleClick=function(){n.props.history.push("UserProfile")},n.state={open:!1,mainHidden:!1,openLogout:!1,dialogOpen:!1,otpID:""},n}return Object(z.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.store,i=t.menu,l=t.menuItems,o=t.userInfo,c={display:"flex",backgroundImage:"url(".concat(n.appConstant&&"Login"===n.openScreen?n.appConstant.backgroundLogin:we.gatewayRepoFile+"/static-file-manager/retrieve?file=voltras_login_background",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:0,left:0,width:"100%"},s={display:"flex",backgroundImage:"url(".concat(n.appConstant?n.appConstant.backgroundApp:"",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",top:0,left:0,width:"100%",height:"100%"};return r.a.createElement("div",{style:"Login"===n.openScreen?c:s},r.a.createElement(Et.a,null),"Login"===n.openScreen?null:r.a.createElement(pt.a,{position:"fixed",className:Object(ot.a)(a.appBar,Object(O.a)({},a.appBarShift,this.state.open))},r.a.createElement(ft.a,null,"Home"===n.openScreen?r.a.createElement(yt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-clinic-medical"})):"Order List"===n.openScreen?r.a.createElement(yt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-file-medical"})):r.a.createElement(yt.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("i",{className:"fas fa-laptop-house"})),r.a.createElement(ht.a,{variant:"h6",noWrap:!0,className:a.title},n.openScreen?n.openScreen:"Clinic Backoffice"),r.a.createElement(yt.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:this.handleDrawerOpen,className:Object(ot.a)(this.state.open&&a.hide)},r.a.createElement(_t.a,null))),n.serviceStart?r.a.createElement(jt.a,{color:"secondary"}):null),r.a.createElement("main",{onClick:this.handleMainClick,className:Object(ot.a)(a.content,Object(O.a)({},a.contentShift,this.state.open)),style:"Login"===n.openScreen?{marginRight:0}:null},r.a.createElement(St.a,{style:{marginTop:50}},r.a.createElement(Cl,{handleDialogClose:this.handleDialogClose,open:this.state.dialogOpen,otpID:this.state.otpID,phone:o.info.phone,clientId:o.info.aud,handleSubmitOtp:this.handleSubmitOtp}),r.a.createElement(yl,null),r.a.createElement(_l,{history:this.props.history}))),"Login"===n.openScreen?null:r.a.createElement(ut.a,{className:a.drawer,variant:"persistent",anchor:"right",open:this.state.open,classes:{paper:a.drawerPaper}},r.a.createElement(gt.a,null,r.a.createElement(Ot.a,null,r.a.createElement("br",null),r.a.createElement(st.a,{elevation:0,style:{width:240}},r.a.createElement(St.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(St.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(St.a,{item:!0,onClick:this.handleDrawerClose},r.a.createElement(mt.a,{style:{width:75,height:75,marginBottom:5},src:o.info.picture?o.info.picture:""})),r.a.createElement(St.a,{item:!0},r.a.createElement("center",null,r.a.createElement(ht.a,{variant:"subtitle2"},o.info?o.info.name:""))),r.a.createElement(St.a,{item:!0},r.a.createElement("center",null,r.a.createElement(ht.a,{variant:"caption"},o.info?o.info.email||o.info.phone:""))),r.a.createElement(St.a,{item:!0,style:{marginTop:15}},r.a.createElement(dt.a,{onClick:this.handleClick,label:Be("app_manage_acount"),variant:"outlined",size:"small"}))))),r.a.createElement("br",null))),r.a.createElement(bt.a,null),l&&l.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(gt.a,null,r.a.createElement(Ot.a,{button:!0,onClick:function(){return e.handleDrawerClick(t)}},r.a.createElement(ht.a,{style:{fontSize:"18px"}},t.label))),i[t.url]?r.a.createElement("div",null,t.children.map((function(t,a){return t?r.a.createElement("div",{key:a},r.a.createElement(gt.a,{style:{marginLeft:15}},r.a.createElement(Ot.a,{button:!0,onClick:function(){return e.handleDrawerClick(t)},key:a},r.a.createElement(Tt.a,null),r.a.createElement(Ct.a,{primary:t.label})))):null}))):null,r.a.createElement(bt.a,null))})),r.a.createElement(St.a,{style:{marginTop:10},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"version ",we.appVersion),r.a.createElement(ht.a,{variant:"caption",color:"textSecondary"},"Copyright \xa9 2020, voltras.net"))),r.a.createElement(Rt.a,{open:this.state.openLogout,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(xt.a,{id:"alert-dialog-title"},Be("app_logout")),r.a.createElement(wt.a,null,r.a.createElement(Lt.a,{id:"alert-dialog-description"},Be("app_confirm_logout"),"?")),r.a.createElement(kt.a,null,r.a.createElement(At.a,{onClick:this.handleClose,color:"primary"},Be("app_cancel")),r.a.createElement(At.a,{onClick:this.handleLogout,color:"primary",autoFocus:!0},Be("app_logout")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.store.otpID&&e.store.otpID!==t.otpID?Object(p.a)(Object(p.a)({},t),{},{dialogOpen:!0,otpID:e.store.otpID}):null}}]),a}(n.Component),Sl=Object(o.b)((function(e){return{store:e.system,menuItems:e.menu.menuItems,menu:e.menu,userInfo:e.userInfo}}),(function(e){return{_setMenuCollapseStatus:function(t){e(me(t))},_setMenuClickUrl:function(t){e(function(e){return{type:"SET_MENU_CLICK_URL",val:e}}(t))},_toggleCollapseMenu:function(t){e(function(e){return{type:"TOGGLE_COLLAPSE_MENU",val:e}}(t))},_logout:function(){e({type:"LOGOUT"}),e(e(se(Ve)))},_setCompleteRequest:function(t){e(Y(t.request)),e(X(t.method)),e(J(t.serviceCode)),e($(t.params)),e(Z(t.customHeaders)),e(ee(t.role)),e(Q("active"))}}}))(jl),Il=Object(ct.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:Object(O.a)({transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("md"),{marginRight:0}),menuButton:{marginRight:e.spacing(2)}}}))(Sl),Tl=we.gatewayRepoFile,Rl=[{aud:"authentication-backoffice",name:"Voltras Backoffice",domain:["http://localhost:3030","http://172.16.10.98:3030","http://172.16.10.98:3032"],title:"VoltrasBOS",welcome:"Backoffice System",locale:"id-Id",backgroundLogin:Tl+"/static-file-manager/retrieve?file=voltras_login_background",backgroundApp:"",icon:r.a.createElement(Ye.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Client Management",url:"VoltrasClientManagement",children:[{label:"Client List",url:"VClientList",children:[]},{label:"Create Client",url:"VCreateClient",children:[]}]},{label:"User Management",url:"VoltrasUserManagement",children:[{label:"User List",url:"VUserList",children:[]},{label:"Create User",url:"VCreateUser",children:[]}]},{label:"Request Specification",url:"VoltrasRequestSpesification",children:[{label:"Request List",url:"VRequestList",children:[]}]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"authentication-backoffice"}},{aud:"voltras-health",name:"Voltras Health",domain:["https://health.voltras.net"],title:"Voltras Health",welcome:"Clinic Backoffice System",locale:"id-Id",backgroundLogin:Tl+"/static-file-manager/retrieve?file=health_login_background",backgroundApp:Tl+"/static-file-manager/retrieve?file=health_app_background",icon:r.a.createElement(Je.a,{style:{width:50,height:50}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Register",url:"Register",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Order List",url:"PaxList",children:[]},{label:"Order Report",url:"KReport",children:[{label:"All Order",url:"KOrderReportAll",children:[]},{label:"Redeemed Order",url:"OrderReport",children:[]}]},{label:"Clinic Management",url:"KClinicManager",children:[{label:"Clinic List",url:"KClinicList",children:[]},{label:"Clinic Setting",url:"KSetting",children:[]},{label:"Clinic Registration",url:"KClinicRegistration",children:[]}]},{label:"Generic Configuration",url:"GenericConfiguration",children:[]},{label:"Logout",url:"Logout",children:[]}],requestHeader:{"client-id":"voltras-health"}},{aud:"dummy-aud",name:"Dummy App",domain:["http://localhost:3030","http://172.16.10.98:3032"],title:"DUMMY APP",welcome:"Dummy App",locale:"id-Id",backgroundLogin:"",backgroundApp:"",icon:r.a.createElement("i",{className:"fas fa-mosque",style:{width:50,height:50,fontSize:40}}),openMenu:[{label:"Login",url:"Login",children:[]},{label:"Logout",url:"Logout",children:[]}],loggedMenu:[{label:"Home",url:"Home",children:[]},{label:"Product",url:"Product",children:[{label:"Add New Product",url:"AddNewProduct",children:[]},{label:"Manage Product",url:"ManageProduct",children:[]}]},{label:"Report",url:"Report",children:[{label:"Booking Summary",url:"BookingSummary",children:[]},{label:"Payment Summary",url:"PaymentSummary",children:[]}]},{label:"Logout",url:"Logout",children:[]}]}],kl=function(e){Object(B.a)(a,e);var t=Object(W.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=window.screen;!navigator.xr&&window.innerWidth<=800&&window.innerHeight<=600&&e.orientation&&e.orientation.lock&&e.orientation.lock("landscape");var t=window.location.href;t.split("/")[3]&&"reset-password-recovery"===t.split("/")[3]&&this.props._setResetPasswordCode(t.split("/").slice(-1)[0]),t.split("/")[3]&&"verification-code"===t.split("/")[3]&&this.props._setVerificationCode(t.split("/").slice(-1)[0]);var a=window.location.origin,n=Rl.filter((function(e){return e.domain.includes(a)}));this.props._setAppConstant(n[0]?n[0]:Rl[0]),console.log("SETTING CONSTANTS: ",a,n[0]?n[0]:Rl[0]);var r=navigator.language;this.props._setLocale(r),localStorage.getItem("accessToken")?this.props.history.push("/Home"):(this.props._setUserMenu(Ve),this.props.history.push("/Login"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Il,{history:this.props.history}),r.a.createElement(tt,{history:this.props.history}),r.a.createElement(it,{history:this.props.history}))}}]),a}(n.Component),wl=Object(G.f)(Object(o.b)((function(e){return{userInfo:e.userInfo}}),(function(e){return{_setUserMenu:function(t){return e(se(t))},_setAppConstant:function(t){return e(Ce(t))},_setLocale:function(t){return e(Se(t))},_setResetPasswordCode:function(t){return e(oe(t))},_setVerificationCode:function(t){return e(ce(t))}}}))(kl));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,{store:H},r.a.createElement(s.a,{theme:d},r.a.createElement(c.a,null,r.a.createElement(wl,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[532,1,2]]]);
//# sourceMappingURL=main.e8005dd7.chunk.js.map